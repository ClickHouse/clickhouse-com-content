"use strict";(self.webpackChunkclickhouse=self.webpackChunkclickhouse||[]).push([[99431],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return m}});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=r.createContext({}),u=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=u(e.components);return r.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=u(t),m=a,f=p["".concat(l,".").concat(m)]||p[m]||c[m]||o;return t?r.createElement(f,i(i({ref:n},d),{},{components:t})):r.createElement(f,i({ref:n},d))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=p;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=t[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},65930:function(e,n,t){t.r(n),t.d(n,{assets:function(){return d},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return c}});var r=t(87462),a=t(63366),o=(t(67294),t(3905)),i=["components"],s={sidebar_position:51,sidebar_label:"Pseudo-Random Numbers"},l="Functions for Generating Pseudo-Random Numbers",u={unversionedId:"en/sql-reference/functions/random-functions",id:"en/sql-reference/functions/random-functions",title:"Functions for Generating Pseudo-Random Numbers",description:"functions-for-generating-pseudo-random-numbers}",source:"@site/docs/en/sql-reference/functions/random-functions.md",sourceDirName:"en/sql-reference/functions",slug:"/en/sql-reference/functions/random-functions",permalink:"/docs/en/sql-reference/functions/random-functions",tags:[],version:"current",sidebarPosition:51,frontMatter:{sidebar_position:51,sidebar_label:"Pseudo-Random Numbers"},sidebar:"tutorialSidebar",previous:{title:"Hash",permalink:"/docs/en/sql-reference/functions/hash-functions"},next:{title:"Encoding",permalink:"/docs/en/sql-reference/functions/encoding-functions"}},d={},c=[{value:"rand, rand32",id:"rand",level:2},{value:"rand64",id:"rand64",level:2},{value:"randConstant",id:"randconstant",level:2},{value:"randomString",id:"random-string",level:2},{value:"randomFixedString",id:"random-fixed-string",level:2},{value:"randomPrintableASCII",id:"random-printable-ascii",level:2},{value:"randomStringUTF8",id:"random-string-utf8",level:2},{value:"fuzzBits",id:"fuzzbits",level:2}],p={toc:c};function m(e){var n=e.components,t=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"functions-for-generating-pseudo-random-numbers"},"Functions for Generating Pseudo-Random Numbers"),(0,o.kt)("p",null,"All the functions accept zero arguments or one argument. If an argument is passed, it can be any type, and its value is not used for anything. The only purpose of this argument is to prevent common subexpression elimination, so that two different instances of the same function return different columns with different random numbers."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Non-cryptographic generators of pseudo-random numbers are used."))),(0,o.kt)("h2",{id:"rand"},"rand, rand32"),(0,o.kt)("p",null,"Returns a pseudo-random UInt32 number, evenly distributed among all UInt32-type numbers."),(0,o.kt)("p",null,"Uses a linear congruential generator."),(0,o.kt)("h2",{id:"rand64"},"rand64"),(0,o.kt)("p",null,"Returns a pseudo-random UInt64 number, evenly distributed among all UInt64-type numbers."),(0,o.kt)("p",null,"Uses a linear congruential generator."),(0,o.kt)("h2",{id:"randconstant"},"randConstant"),(0,o.kt)("p",null,"Produces a constant column with a random value."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Syntax")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},"randConstant([x])\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"x")," \u2014 ",(0,o.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/syntax#syntax-expressions"},"Expression")," resulting in any of the ",(0,o.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/data-types/#data_types"},"supported data types"),". The resulting value is discarded, but the expression itself if used for bypassing ",(0,o.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/functions/#common-subexpression-elimination"},"common subexpression elimination")," if the function is called multiple times in one query. Optional parameter.")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returned value")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Pseudo-random number.")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/docs/en/sql-reference/data-types/int-uint"},"UInt32"),"."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example")),(0,o.kt)("p",null,"Query:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT rand(), rand(1), rand(number), randConstant(), randConstant(1), randConstant(number)\nFROM numbers(3)\n")),(0,o.kt)("p",null,"Result:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500\u2500\u2500\u2500rand()\u2500\u252c\u2500\u2500\u2500\u2500rand(1)\u2500\u252c\u2500rand(number)\u2500\u252c\u2500randConstant()\u2500\u252c\u2500randConstant(1)\u2500\u252c\u2500randConstant(number)\u2500\u2510\n\u2502 3047369878 \u2502 4132449925 \u2502   4044508545 \u2502     2740811946 \u2502      4229401477 \u2502           1924032898 \u2502\n\u2502 2938880146 \u2502 1267722397 \u2502   4154983056 \u2502     2740811946 \u2502      4229401477 \u2502           1924032898 \u2502\n\u2502  956619638 \u2502 4238287282 \u2502   1104342490 \u2502     2740811946 \u2502      4229401477 \u2502           1924032898 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,o.kt)("h1",{id:"random-functions-for-working-with-strings"},"Random Functions for Working with Strings"),(0,o.kt)("h2",{id:"random-string"},"randomString"),(0,o.kt)("h2",{id:"random-fixed-string"},"randomFixedString"),(0,o.kt)("h2",{id:"random-printable-ascii"},"randomPrintableASCII"),(0,o.kt)("h2",{id:"random-string-utf8"},"randomStringUTF8"),(0,o.kt)("h2",{id:"fuzzbits"},"fuzzBits"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Syntax")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},"fuzzBits([s], [prob])\n")),(0,o.kt)("p",null,"Inverts bits of ",(0,o.kt)("inlineCode",{parentName:"p"},"s"),", each with probability ",(0,o.kt)("inlineCode",{parentName:"p"},"prob"),"."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"s")," - ",(0,o.kt)("inlineCode",{parentName:"li"},"String")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"FixedString")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"prob")," - constant ",(0,o.kt)("inlineCode",{parentName:"li"},"Float32/64"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returned value"),"\nFuzzed string with same as s type."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT fuzzBits(materialize('abacaba'), 0.1)\nFROM numbers(3)\n")),(0,o.kt)("p",null,"`","`","`"," text\n\u250c\u2500fuzzBits(materialize(\u2018abacaba\u2019), 0.1)\u2500\u2510\n\u2502 abaaaja \u2502\n\u2502 a","*","cjab+ \u2502\n\u2502 aeca2A \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518"))}m.isMDXComponent=!0}}]);