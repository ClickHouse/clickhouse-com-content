<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-en/operations/settings/query-complexity">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Restrictions on Query Complexity | ClickHouse Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://clickhouse.com//docs/staging4/docs/en/operations/settings/query-complexity"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Restrictions on Query Complexity | ClickHouse Docs"><meta data-rh="true" name="description" content="restrictions-on-query-complexity}"><meta data-rh="true" property="og:description" content="restrictions-on-query-complexity}"><link data-rh="true" rel="icon" href="/docs/staging4/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://clickhouse.com//docs/staging4/docs/en/operations/settings/query-complexity"><link data-rh="true" rel="alternate" href="https://clickhouse.com//docs/staging4/docs/en/operations/settings/query-complexity" hreflang="en"><link data-rh="true" rel="alternate" href="https://clickhouse.com//docs/staging4/docs/en/operations/settings/query-complexity" hreflang="x-default"><link rel="stylesheet" href="/docs/staging4/assets/css/styles.83a0a88b.css">
<link rel="preload" href="/docs/staging4/assets/js/runtime~main.1ca91862.js" as="script">
<link rel="preload" href="/docs/staging4/assets/js/main.d74cbdbf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_ObN2"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/staging4/docs/"><div class="navbar__logo"><img src="/docs/staging4/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/staging4/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">ClickHouse</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/staging4/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD sidebarWithHideableNavbar_d0QC"><a tabindex="-1" class="sidebarLogo_YUvz" href="/docs/staging4/docs/"><img src="/docs/staging4/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/staging4/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"><b>ClickHouse</b></a><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/staging4/docs/intro">What is ClickHouse?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/staging4/docs/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/staging4/docs/tutorial">Tutorial</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging4/docs/connect-a-ui">Connect a UI</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connect a UI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging4/docs/integrations">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging4/docs/guides">User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/staging4/docs/en">Reference Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/getting-started/install">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/getting-started/playground">Playground</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/example-datasets">Example Datasets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Example Datasets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/sql-reference/">SQL Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/table-engines">Database &amp; Table Engines</a><button aria-label="Toggle the collapsible sidebar category &#x27;Database &amp; Table Engines&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/interfaces/">Interfaces</a><button aria-label="Toggle the collapsible sidebar category &#x27;Interfaces&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/staging4/docs/en/operations/">Operations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operations&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/requirements">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/ssl-zookeeper">Secured Communication with Zookeeper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/update">ClickHouse Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/access-rights">Access Control and Account Management</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/operations/external-authenticators/">External User Authenticators and Directories</a><button aria-label="Toggle the collapsible sidebar category &#x27;External User Authenticators and Directories&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/backup">Data Backup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/configuration-files">Configuration Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/quotas">Quotas</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/operations/optimizing-performance/">Optimizing Performance</a><button aria-label="Toggle the collapsible sidebar category &#x27;Optimizing Performance&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/staging4/docs/en/operations/settings/index">Settings</a><button aria-label="Toggle the collapsible sidebar category &#x27;Settings&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/settings/permissions-for-queries">Permissions for Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/staging4/docs/en/operations/settings/query-complexity">Restrictions on Query Complexity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/settings/settings-profiles">Settings Profiles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/settings/constraints-on-settings">Constraints on Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/settings/settings-users">User Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/settings/merge-tree-settings">MergeTree tables settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/settings/">Settings</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/operations/system-tables/">System Tables</a><button aria-label="Toggle the collapsible sidebar category &#x27;System Tables&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/performance-test">Testing Hardware</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/operations/server-configuration-parameters/">Server Configuration Parameters</a><button aria-label="Toggle the collapsible sidebar category &#x27;Server Configuration Parameters&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/operations/utilities/">Utilities</a><button aria-label="Toggle the collapsible sidebar category &#x27;Utilities&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/tips">Usage Recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/opentelemetry">OpenTelemetry Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/caches">Caches</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/clickhouse-keeper">ClickHouse Keeper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/storing-data">External Disks for Storing Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging4/docs/en/operations/named-collections">Named connections</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/category/building-clickhouse">Building ClickHouse</a><button aria-label="Toggle the collapsible sidebar category &#x27;Building ClickHouse&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging4/docs/en/whats-new/">What&#x27;s New</a><button aria-label="Toggle the collapsible sidebar category &#x27;What&#x27;s New&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging4/docs/faq/">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging4/docs/about-us">About Us</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Us&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/staging4/docs/en"><span itemprop="name">Reference Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/staging4/docs/en/operations/"><span itemprop="name">Operations</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/staging4/docs/en/operations/settings/index"><span itemprop="name">Settings</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Restrictions on Query Complexity</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Restrictions on Query Complexity</h1><p>Restrictions on query complexity are part of the settings.
They are used to provide safer execution from the user interface.
Almost all the restrictions only apply to <code>SELECT</code>. For distributed query processing, restrictions are applied on each server separately.</p><p>ClickHouse checks the restrictions for data parts, not for each row. It means that you can exceed the value of restriction with the size of the data part.</p><p>Restrictions on the “maximum amount of something” can take the value 0, which means “unrestricted”.
Most restrictions also have an ‘overflow_mode’ setting, meaning what to do when the limit is exceeded.
It can take one of two values: <code>throw</code> or <code>break</code>. Restrictions on aggregation (group_by_overflow_mode) also have the value <code>any</code>.</p><p><code>throw</code> – Throw an exception (default).</p><p><code>break</code> – Stop executing the query and return the partial result, as if the source data ran out.</p><p><code>any (only for group_by_overflow_mode)</code> – Continuing aggregation for the keys that got into the set, but do not add new keys to the set.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings_max_memory_usage">max_memory_usage<a class="hash-link" href="#settings_max_memory_usage" title="Direct link to heading">​</a></h2><p>The maximum amount of RAM to use for running a query on a single server.</p><p>In the default configuration file, the maximum is 10 GB.</p><p>The setting does not consider the volume of available memory or the total volume of memory on the machine.
The restriction applies to a single query within a single server.
You can use <code>SHOW PROCESSLIST</code> to see the current memory consumption for each query.
Besides, the peak memory consumption is tracked for each query and written to the log.</p><p>Memory usage is not monitored for the states of certain aggregate functions.</p><p>Memory usage is not fully tracked for states of the aggregate functions <code>min</code>, <code>max</code>, <code>any</code>, <code>anyLast</code>, <code>argMin</code>, <code>argMax</code> from <code>String</code> and <code>Array</code> arguments.</p><p>Memory consumption is also restricted by the parameters <code>max_memory_usage_for_user</code> and <a href="/docs/staging4/docs/en/operations/server-configuration-parameters/settings#max_server_memory_usage">max_server_memory_usage</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-memory-usage-for-user">max_memory_usage_for_user<a class="hash-link" href="#max-memory-usage-for-user" title="Direct link to heading">​</a></h2><p>The maximum amount of RAM to use for running a user’s queries on a single server.</p><p>Default values are defined in <a href="https://github.com/ClickHouse/ClickHouse/blob/master/src/Core/Settings.h#L288" target="_blank" rel="noopener noreferrer">Settings.h</a>. By default, the amount is not restricted (<code>max_memory_usage_for_user = 0</code>).</p><p>See also the description of <a href="#settings_max_memory_usage">max_memory_usage</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-rows-to-read">max_rows_to_read<a class="hash-link" href="#max-rows-to-read" title="Direct link to heading">​</a></h2><p>The following restrictions can be checked on each block (instead of on each row). That is, the restrictions can be broken a little.</p><p>A maximum number of rows that can be read from a table when running a query.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-bytes-to-read">max_bytes_to_read<a class="hash-link" href="#max-bytes-to-read" title="Direct link to heading">​</a></h2><p>A maximum number of bytes (uncompressed data) that can be read from a table when running a query.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="read-overflow-mode">read_overflow_mode<a class="hash-link" href="#read-overflow-mode" title="Direct link to heading">​</a></h2><p>What to do when the volume of data read exceeds one of the limits: ‘throw’ or ‘break’. By default, throw.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-rows-to-read-leaf">max_rows_to_read_leaf<a class="hash-link" href="#max-rows-to-read-leaf" title="Direct link to heading">​</a></h2><p>The following restrictions can be checked on each block (instead of on each row). That is, the restrictions can be broken a little.</p><p>A maximum number of rows that can be read from a local table on a leaf node when running a distributed query. While
distributed queries can issue a multiple sub-queries to each shard (leaf) - this limit will be checked only on the read
stage on the leaf nodes and ignored on results merging stage on the root node. For example, cluster consists of 2 shards
and each shard contains a table with 100 rows. Then distributed query which suppose to read all the data from both
tables with setting <code>max_rows_to_read=150</code> will fail as in total it will be 200 rows. While query
with <code>max_rows_to_read_leaf=150</code> will succeed since leaf nodes will read 100 rows at max.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-bytes-to-read-leaf">max_bytes_to_read_leaf<a class="hash-link" href="#max-bytes-to-read-leaf" title="Direct link to heading">​</a></h2><p>A maximum number of bytes (uncompressed data) that can be read from a local table on a leaf node when running
a distributed query. While distributed queries can issue a multiple sub-queries to each shard (leaf) - this limit will
be checked only on the read stage on the leaf nodes and ignored on results merging stage on the root node.
For example, cluster consists of 2 shards and each shard contains a table with 100 bytes of data.
Then distributed query which suppose to read all the data from both tables with setting <code>max_bytes_to_read=150</code> will fail
as in total it will be 200 bytes. While query with <code>max_bytes_to_read_leaf=150</code> will succeed since leaf nodes will read
100 bytes at max.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="read-overflow-mode-leaf">read_overflow_mode_leaf<a class="hash-link" href="#read-overflow-mode-leaf" title="Direct link to heading">​</a></h2><p>What to do when the volume of data read exceeds one of the leaf limits: ‘throw’ or ‘break’. By default, throw.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max-rows-to-group-by">max_rows_to_group_by<a class="hash-link" href="#settings-max-rows-to-group-by" title="Direct link to heading">​</a></h2><p>A maximum number of unique keys received from aggregation. This setting lets you limit memory consumption when aggregating.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="group-by-overflow-mode">group_by_overflow_mode<a class="hash-link" href="#group-by-overflow-mode" title="Direct link to heading">​</a></h2><p>What to do when the number of unique keys for aggregation exceeds the limit: ‘throw’, ‘break’, or ‘any’. By default, throw.
Using the ‘any’ value lets you run an approximation of GROUP BY. The quality of this approximation depends on the statistical nature of the data.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max_bytes_before_external_group_by">max_bytes_before_external_group_by<a class="hash-link" href="#settings-max_bytes_before_external_group_by" title="Direct link to heading">​</a></h2><p>Enables or disables execution of <code>GROUP BY</code> clauses in external memory. See <a href="/docs/staging4/docs/en/sql-reference/statements/select/group-by#select-group-by-in-external-memory">GROUP BY in external memory</a>.</p><p>Possible values:</p><ul><li>Maximum volume of RAM (in bytes) that can be used by the single <a href="/docs/staging4/docs/en/sql-reference/statements/select/group-by#select-group-by-clause">GROUP BY</a> operation.</li><li>0 — <code>GROUP BY</code> in external memory disabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-rows-to-sort">max_rows_to_sort<a class="hash-link" href="#max-rows-to-sort" title="Direct link to heading">​</a></h2><p>A maximum number of rows before sorting. This allows you to limit memory consumption when sorting.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-bytes-to-sort">max_bytes_to_sort<a class="hash-link" href="#max-bytes-to-sort" title="Direct link to heading">​</a></h2><p>A maximum number of bytes before sorting.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="sort-overflow-mode">sort_overflow_mode<a class="hash-link" href="#sort-overflow-mode" title="Direct link to heading">​</a></h2><p>What to do if the number of rows received before sorting exceeds one of the limits: ‘throw’ or ‘break’. By default, throw.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-max_result_rows">max_result_rows<a class="hash-link" href="#setting-max_result_rows" title="Direct link to heading">​</a></h2><p>Limit on the number of rows in the result. Also checked for subqueries, and on remote servers when running parts of a distributed query.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-result-bytes">max_result_bytes<a class="hash-link" href="#max-result-bytes" title="Direct link to heading">​</a></h2><p>Limit on the number of bytes in the result. The same as the previous setting.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="result-overflow-mode">result_overflow_mode<a class="hash-link" href="#result-overflow-mode" title="Direct link to heading">​</a></h2><p>What to do if the volume of the result exceeds one of the limits: ‘throw’ or ‘break’. By default, throw.</p><p>Using ‘break’ is similar to using LIMIT. <code>Break</code> interrupts execution only at the block level. This means that amount of returned rows is greater than <a href="#setting-max_result_rows">max_result_rows</a>, multiple of <a href="/docs/staging4/docs/en/operations/settings/#setting-max_block_size">max_block_size</a> and depends on <a href="/docs/staging4/docs/en/operations/settings/#settings-max_threads">max_threads</a>.</p><p>Example:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> max_threads </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> max_block_size </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3333</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> max_result_rows </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3334</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> result_overflow_mode </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;break&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers_mt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">100000</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">FORMAT </span><span class="token boolean">Null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Result:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">6666 rows in set. ...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-execution-time">max_execution_time<a class="hash-link" href="#max-execution-time" title="Direct link to heading">​</a></h2><p>Maximum query execution time in seconds.
At this time, it is not checked for one of the sorting stages, or when merging and finalizing aggregate functions.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="timeout-overflow-mode">timeout_overflow_mode<a class="hash-link" href="#timeout-overflow-mode" title="Direct link to heading">​</a></h2><p>What to do if the query is run longer than ‘max_execution_time’: ‘throw’ or ‘break’. By default, throw.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-execution-speed">min_execution_speed<a class="hash-link" href="#min-execution-speed" title="Direct link to heading">​</a></h2><p>Minimal execution speed in rows per second. Checked on every data block when ‘timeout_before_checking_execution_speed’ expires. If the execution speed is lower, an exception is thrown.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-execution-speed-bytes">min_execution_speed_bytes<a class="hash-link" href="#min-execution-speed-bytes" title="Direct link to heading">​</a></h2><p>A minimum number of execution bytes per second. Checked on every data block when ‘timeout_before_checking_execution_speed’ expires. If the execution speed is lower, an exception is thrown.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-execution-speed">max_execution_speed<a class="hash-link" href="#max-execution-speed" title="Direct link to heading">​</a></h2><p>A maximum number of execution rows per second. Checked on every data block when ‘timeout_before_checking_execution_speed’ expires. If the execution speed is high, the execution speed will be reduced.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-execution-speed-bytes">max_execution_speed_bytes<a class="hash-link" href="#max-execution-speed-bytes" title="Direct link to heading">​</a></h2><p>A maximum number of execution bytes per second. Checked on every data block when ‘timeout_before_checking_execution_speed’ expires. If the execution speed is high, the execution speed will be reduced.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="timeout-before-checking-execution-speed">timeout_before_checking_execution_speed<a class="hash-link" href="#timeout-before-checking-execution-speed" title="Direct link to heading">​</a></h2><p>Checks that execution speed is not too slow (no less than ‘min_execution_speed’), after the specified time in seconds has expired.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-columns-to-read">max_columns_to_read<a class="hash-link" href="#max-columns-to-read" title="Direct link to heading">​</a></h2><p>A maximum number of columns that can be read from a table in a single query. If a query requires reading a greater number of columns, it throws an exception.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-temporary-columns">max_temporary_columns<a class="hash-link" href="#max-temporary-columns" title="Direct link to heading">​</a></h2><p>A maximum number of temporary columns that must be kept in RAM at the same time when running a query, including constant columns. If there are more temporary columns than this, it throws an exception.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-temporary-non-const-columns">max_temporary_non_const_columns<a class="hash-link" href="#max-temporary-non-const-columns" title="Direct link to heading">​</a></h2><p>The same thing as ‘max_temporary_columns’, but without counting constant columns.
Note that constant columns are formed fairly often when running a query, but they require approximately zero computing resources.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-subquery-depth">max_subquery_depth<a class="hash-link" href="#max-subquery-depth" title="Direct link to heading">​</a></h2><p>Maximum nesting depth of subqueries. If subqueries are deeper, an exception is thrown. By default, 100.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-pipeline-depth">max_pipeline_depth<a class="hash-link" href="#max-pipeline-depth" title="Direct link to heading">​</a></h2><p>Maximum pipeline depth. Corresponds to the number of transformations that each data block goes through during query processing. Counted within the limits of a single server. If the pipeline depth is greater, an exception is thrown. By default, 1000.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-ast-depth">max_ast_depth<a class="hash-link" href="#max-ast-depth" title="Direct link to heading">​</a></h2><p>Maximum nesting depth of a query syntactic tree. If exceeded, an exception is thrown.
At this time, it isn’t checked during parsing, but only after parsing the query. That is, a syntactic tree that is too deep can be created during parsing, but the query will fail. By default, 1000.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-ast-elements">max_ast_elements<a class="hash-link" href="#max-ast-elements" title="Direct link to heading">​</a></h2><p>A maximum number of elements in a query syntactic tree. If exceeded, an exception is thrown.
In the same way as the previous setting, it is checked only after parsing the query. By default, 50,000.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-rows-in-set">max_rows_in_set<a class="hash-link" href="#max-rows-in-set" title="Direct link to heading">​</a></h2><p>A maximum number of rows for a data set in the IN clause created from a subquery.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-bytes-in-set">max_bytes_in_set<a class="hash-link" href="#max-bytes-in-set" title="Direct link to heading">​</a></h2><p>A maximum number of bytes (uncompressed data) used by a set in the IN clause created from a subquery.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="set-overflow-mode">set_overflow_mode<a class="hash-link" href="#set-overflow-mode" title="Direct link to heading">​</a></h2><p>What to do when the amount of data exceeds one of the limits: ‘throw’ or ‘break’. By default, throw.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-rows-in-distinct">max_rows_in_distinct<a class="hash-link" href="#max-rows-in-distinct" title="Direct link to heading">​</a></h2><p>A maximum number of different rows when using DISTINCT.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-bytes-in-distinct">max_bytes_in_distinct<a class="hash-link" href="#max-bytes-in-distinct" title="Direct link to heading">​</a></h2><p>A maximum number of bytes used by a hash table when using DISTINCT.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distinct-overflow-mode">distinct_overflow_mode<a class="hash-link" href="#distinct-overflow-mode" title="Direct link to heading">​</a></h2><p>What to do when the amount of data exceeds one of the limits: ‘throw’ or ‘break’. By default, throw.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-rows-to-transfer">max_rows_to_transfer<a class="hash-link" href="#max-rows-to-transfer" title="Direct link to heading">​</a></h2><p>A maximum number of rows that can be passed to a remote server or saved in a temporary table when using GLOBAL IN.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-bytes-to-transfer">max_bytes_to_transfer<a class="hash-link" href="#max-bytes-to-transfer" title="Direct link to heading">​</a></h2><p>A maximum number of bytes (uncompressed data) that can be passed to a remote server or saved in a temporary table when using GLOBAL IN.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="transfer-overflow-mode">transfer_overflow_mode<a class="hash-link" href="#transfer-overflow-mode" title="Direct link to heading">​</a></h2><p>What to do when the amount of data exceeds one of the limits: ‘throw’ or ‘break’. By default, throw.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max_rows_in_join">max_rows_in_join<a class="hash-link" href="#settings-max_rows_in_join" title="Direct link to heading">​</a></h2><p>Limits the number of rows in the hash table that is used when joining tables.</p><p>This settings applies to <a href="/docs/staging4/docs/en/sql-reference/statements/select/join#select-join">SELECT … JOIN</a> operations and the <a href="/docs/staging4/docs/en/engines/table-engines/special/join">Join</a> table engine.</p><p>If a query contains multiple joins, ClickHouse checks this setting for every intermediate result.</p><p>ClickHouse can proceed with different actions when the limit is reached. Use the <a href="#settings-join_overflow_mode">join_overflow_mode</a> setting to choose the action.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Unlimited number of rows.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max_bytes_in_join">max_bytes_in_join<a class="hash-link" href="#settings-max_bytes_in_join" title="Direct link to heading">​</a></h2><p>Limits the size in bytes of the hash table used when joining tables.</p><p>This settings applies to <a href="/docs/staging4/docs/en/sql-reference/statements/select/join#select-join">SELECT … JOIN</a> operations and <a href="/docs/staging4/docs/en/engines/table-engines/special/join">Join table engine</a>.</p><p>If the query contains joins, ClickHouse checks this setting for every intermediate result.</p><p>ClickHouse can proceed with different actions when the limit is reached. Use <a href="#settings-join_overflow_mode">join_overflow_mode</a> settings to choose the action.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Memory control is disabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-join_overflow_mode">join_overflow_mode<a class="hash-link" href="#settings-join_overflow_mode" title="Direct link to heading">​</a></h2><p>Defines what action ClickHouse performs when any of the following join limits is reached:</p><ul><li><a href="#settings-max_bytes_in_join">max_bytes_in_join</a></li><li><a href="#settings-max_rows_in_join">max_rows_in_join</a></li></ul><p>Possible values:</p><ul><li><code>THROW</code> — ClickHouse throws an exception and breaks operation.</li><li><code>BREAK</code> — ClickHouse breaks operation and does not throw an exception.</li></ul><p>Default value: <code>THROW</code>.</p><p><strong>See Also</strong></p><ul><li><a href="/docs/staging4/docs/en/sql-reference/statements/select/join#select-join">JOIN clause</a></li><li><a href="/docs/staging4/docs/en/engines/table-engines/special/join">Join table engine</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-partitions-per-insert-block">max_partitions_per_insert_block<a class="hash-link" href="#max-partitions-per-insert-block" title="Direct link to heading">​</a></h2><p>Limits the maximum number of partitions in a single inserted block.</p><ul><li>Positive integer.</li><li>0 — Unlimited number of partitions.</li></ul><p>Default value: 100.</p><p><strong>Details</strong></p><p>When inserting data, ClickHouse calculates the number of partitions in the inserted block. If the number of partitions is more than <code>max_partitions_per_insert_block</code>, ClickHouse throws an exception with the following text:</p><blockquote><p>“Too many partitions for single INSERT block (more than” + toString(max_parts) + “). The limit is controlled by ‘max_partitions_per_insert_block’ setting. A large number of partitions is a common misconception. It will lead to severe negative performance impact, including slow server startup, slow INSERT queries and slow SELECT queries. Recommended total number of partitions for a table is under 1000..10000. Please note, that partitioning is not intended to speed up SELECT queries (ORDER BY key is sufficient to make range queries fast). Partitions are intended for data manipulation (DROP PARTITION, etc).”</p></blockquote><p><a href="https://clickhouse.com/docs/en/operations/settings/query_complexity/" target="_blank" rel="noopener noreferrer">Original article</a> </p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/staging4/docs/en/operations/settings/permissions-for-queries"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Permissions for Queries</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/staging4/docs/en/operations/settings/settings-profiles"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Settings Profiles</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#settings_max_memory_usage" class="table-of-contents__link toc-highlight">max_memory_usage</a></li><li><a href="#max-memory-usage-for-user" class="table-of-contents__link toc-highlight">max_memory_usage_for_user</a></li><li><a href="#max-rows-to-read" class="table-of-contents__link toc-highlight">max_rows_to_read</a></li><li><a href="#max-bytes-to-read" class="table-of-contents__link toc-highlight">max_bytes_to_read</a></li><li><a href="#read-overflow-mode" class="table-of-contents__link toc-highlight">read_overflow_mode</a></li><li><a href="#max-rows-to-read-leaf" class="table-of-contents__link toc-highlight">max_rows_to_read_leaf</a></li><li><a href="#max-bytes-to-read-leaf" class="table-of-contents__link toc-highlight">max_bytes_to_read_leaf</a></li><li><a href="#read-overflow-mode-leaf" class="table-of-contents__link toc-highlight">read_overflow_mode_leaf</a></li><li><a href="#settings-max-rows-to-group-by" class="table-of-contents__link toc-highlight">max_rows_to_group_by</a></li><li><a href="#group-by-overflow-mode" class="table-of-contents__link toc-highlight">group_by_overflow_mode</a></li><li><a href="#settings-max_bytes_before_external_group_by" class="table-of-contents__link toc-highlight">max_bytes_before_external_group_by</a></li><li><a href="#max-rows-to-sort" class="table-of-contents__link toc-highlight">max_rows_to_sort</a></li><li><a href="#max-bytes-to-sort" class="table-of-contents__link toc-highlight">max_bytes_to_sort</a></li><li><a href="#sort-overflow-mode" class="table-of-contents__link toc-highlight">sort_overflow_mode</a></li><li><a href="#setting-max_result_rows" class="table-of-contents__link toc-highlight">max_result_rows</a></li><li><a href="#max-result-bytes" class="table-of-contents__link toc-highlight">max_result_bytes</a></li><li><a href="#result-overflow-mode" class="table-of-contents__link toc-highlight">result_overflow_mode</a></li><li><a href="#max-execution-time" class="table-of-contents__link toc-highlight">max_execution_time</a></li><li><a href="#timeout-overflow-mode" class="table-of-contents__link toc-highlight">timeout_overflow_mode</a></li><li><a href="#min-execution-speed" class="table-of-contents__link toc-highlight">min_execution_speed</a></li><li><a href="#min-execution-speed-bytes" class="table-of-contents__link toc-highlight">min_execution_speed_bytes</a></li><li><a href="#max-execution-speed" class="table-of-contents__link toc-highlight">max_execution_speed</a></li><li><a href="#max-execution-speed-bytes" class="table-of-contents__link toc-highlight">max_execution_speed_bytes</a></li><li><a href="#timeout-before-checking-execution-speed" class="table-of-contents__link toc-highlight">timeout_before_checking_execution_speed</a></li><li><a href="#max-columns-to-read" class="table-of-contents__link toc-highlight">max_columns_to_read</a></li><li><a href="#max-temporary-columns" class="table-of-contents__link toc-highlight">max_temporary_columns</a></li><li><a href="#max-temporary-non-const-columns" class="table-of-contents__link toc-highlight">max_temporary_non_const_columns</a></li><li><a href="#max-subquery-depth" class="table-of-contents__link toc-highlight">max_subquery_depth</a></li><li><a href="#max-pipeline-depth" class="table-of-contents__link toc-highlight">max_pipeline_depth</a></li><li><a href="#max-ast-depth" class="table-of-contents__link toc-highlight">max_ast_depth</a></li><li><a href="#max-ast-elements" class="table-of-contents__link toc-highlight">max_ast_elements</a></li><li><a href="#max-rows-in-set" class="table-of-contents__link toc-highlight">max_rows_in_set</a></li><li><a href="#max-bytes-in-set" class="table-of-contents__link toc-highlight">max_bytes_in_set</a></li><li><a href="#set-overflow-mode" class="table-of-contents__link toc-highlight">set_overflow_mode</a></li><li><a href="#max-rows-in-distinct" class="table-of-contents__link toc-highlight">max_rows_in_distinct</a></li><li><a href="#max-bytes-in-distinct" class="table-of-contents__link toc-highlight">max_bytes_in_distinct</a></li><li><a href="#distinct-overflow-mode" class="table-of-contents__link toc-highlight">distinct_overflow_mode</a></li><li><a href="#max-rows-to-transfer" class="table-of-contents__link toc-highlight">max_rows_to_transfer</a></li><li><a href="#max-bytes-to-transfer" class="table-of-contents__link toc-highlight">max_bytes_to_transfer</a></li><li><a href="#transfer-overflow-mode" class="table-of-contents__link toc-highlight">transfer_overflow_mode</a></li><li><a href="#settings-max_rows_in_join" class="table-of-contents__link toc-highlight">max_rows_in_join</a></li><li><a href="#settings-max_bytes_in_join" class="table-of-contents__link toc-highlight">max_bytes_in_join</a></li><li><a href="#settings-join_overflow_mode" class="table-of-contents__link toc-highlight">join_overflow_mode</a></li><li><a href="#max-partitions-per-insert-block" class="table-of-contents__link toc-highlight">max_partitions_per_insert_block</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ClickHouse</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://clickhouse.com/cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ClickHouse as a Service</a></li><li class="footer__item"><a href="https://clickhouse.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://clickhouse.com/learn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn ClickHouse</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ClickHouse/ClickHouse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://clickhouse.com/blog/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/clickhousedb/shared_invite/zt-rxm3rdrk-lIUmhLC3V8WTaL0TGxsOmg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Policies</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/legal/trademark-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademark Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/docs/staging4/img/logo.png" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/docs/staging4/img/logo.png" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright © 2016 - 2022 ClickHouse, Inc. ClickHouse Docs provided under the Creative Commons CC BY-NC-SA license. ClickHouse is a registered trademark of ClickHouse, Inc.</div></div></div></footer></div>
<script src="/docs/staging4/assets/js/runtime~main.1ca91862.js"></script>
<script src="/docs/staging4/assets/js/main.d74cbdbf.js"></script>
</body>
</html>