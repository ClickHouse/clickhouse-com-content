<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-en/operations/access-rights">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Access Control and Account Management | ClickHouse Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://clickhouse.com//docs/staging/docs/en/operations/access-rights"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Access Control and Account Management | ClickHouse Docs"><meta data-rh="true" name="description" content="access-control}"><meta data-rh="true" property="og:description" content="access-control}"><link data-rh="true" rel="icon" href="/docs/staging/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://clickhouse.com//docs/staging/docs/en/operations/access-rights"><link data-rh="true" rel="alternate" href="https://clickhouse.com//docs/staging/docs/en/operations/access-rights" hreflang="en"><link data-rh="true" rel="alternate" href="https://clickhouse.com//docs/staging/docs/en/operations/access-rights" hreflang="x-default"><link rel="stylesheet" href="/docs/staging/assets/css/styles.bee6b8b1.css">
<link rel="preload" href="/docs/staging/assets/js/runtime~main.e93f30b1.js" as="script">
<link rel="preload" href="/docs/staging/assets/js/main.48c6abe6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_ObN2"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/staging/docs/"><div class="navbar__logo"><img src="/docs/staging/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/staging/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">ClickHouse</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/staging/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD sidebarWithHideableNavbar_d0QC"><a tabindex="-1" class="sidebarLogo_YUvz" href="/docs/staging/docs/"><img src="/docs/staging/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/staging/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"><b>ClickHouse</b></a><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/staging/docs/intro">What is ClickHouse?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/staging/docs/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/staging/docs/tutorial">Tutorial</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging/docs/connect-a-ui">Connect a UI</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connect a UI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging/docs/integrations">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging/docs/guides">User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/staging/docs/en">Reference Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/getting-started/install">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/getting-started/playground">Playground</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/example-datasets">Example Datasets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Example Datasets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/sql-reference/">SQL Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/table-engines">Database &amp; Table Engines</a><button aria-label="Toggle the collapsible sidebar category &#x27;Database &amp; Table Engines&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/interfaces/">Interfaces</a><button aria-label="Toggle the collapsible sidebar category &#x27;Interfaces&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/staging/docs/en/operations/">Operations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operations&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/requirements">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/ssl-zookeeper">Secured Communication with Zookeeper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/update">ClickHouse Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/staging/docs/en/operations/access-rights">Access Control and Account Management</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/operations/external-authenticators/">External User Authenticators and Directories</a><button aria-label="Toggle the collapsible sidebar category &#x27;External User Authenticators and Directories&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/backup">Data Backup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/configuration-files">Configuration Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/quotas">Quotas</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/operations/optimizing-performance/">Optimizing Performance</a><button aria-label="Toggle the collapsible sidebar category &#x27;Optimizing Performance&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/operations/settings/index">Settings</a><button aria-label="Toggle the collapsible sidebar category &#x27;Settings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/operations/system-tables/">System Tables</a><button aria-label="Toggle the collapsible sidebar category &#x27;System Tables&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/performance-test">Testing Hardware</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/operations/server-configuration-parameters/">Server Configuration Parameters</a><button aria-label="Toggle the collapsible sidebar category &#x27;Server Configuration Parameters&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/operations/utilities/">Utilities</a><button aria-label="Toggle the collapsible sidebar category &#x27;Utilities&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/tips">Usage Recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/opentelemetry">OpenTelemetry Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/caches">Caches</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/clickhouse-keeper">ClickHouse Keeper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/storing-data">External Disks for Storing Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/staging/docs/en/operations/named-collections">Named connections</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/category/building-clickhouse">Building ClickHouse</a><button aria-label="Toggle the collapsible sidebar category &#x27;Building ClickHouse&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/staging/docs/en/whats-new/">What&#x27;s New</a><button aria-label="Toggle the collapsible sidebar category &#x27;What&#x27;s New&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging/docs/faq/">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/staging/docs/about-us">About Us</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Us&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/staging/docs/en"><span itemprop="name">Reference Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/staging/docs/en/operations/"><span itemprop="name">Operations</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Access Control and Account Management</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Access Control and Account Management</h1><p>ClickHouse supports access control management based on <a href="https://en.wikipedia.org/wiki/Role-based_access_control" target="_blank" rel="noopener noreferrer">RBAC</a> approach.</p><p>ClickHouse access entities:</p><ul><li><a href="#user-account-management">User account</a></li><li><a href="#role-management">Role</a></li><li><a href="#row-policy-management">Row Policy</a></li><li><a href="#settings-profiles-management">Settings Profile</a></li><li><a href="#quotas-management">Quota</a></li></ul><p>You can configure access entities using:</p><ul><li><p>SQL-driven workflow.</p><p>You need to <a href="#enabling-access-control">enable</a> this functionality.</p></li><li><p>Server <a href="/docs/staging/docs/en/operations/configuration-files">configuration files</a> <code>users.xml</code> and <code>config.xml</code>.</p></li></ul><p>We recommend using SQL-driven workflow. Both of the configuration methods work simultaneously, so if you use the server configuration files for managing accounts and access rights, you can smoothly switch to SQL-driven workflow.</p><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>You can’t manage the same access entity by both configuration methods simultaneously.</p></div></div><p>To see all users, roles, profiles, etc. and all their grants use <a href="/docs/staging/docs/en/sql-reference/statements/show#show-access-statement">SHOW ACCESS</a> statement.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="access-control-usage">Usage<a class="hash-link" href="#access-control-usage" title="Direct link to heading">​</a></h2><p>By default, the ClickHouse server provides the <code>default</code> user account which is not allowed using SQL-driven access control and account management but has all the rights and permissions. The <code>default</code> user account is used in any cases when the username is not defined, for example, at login from client or in distributed queries. In distributed query processing a default user account is used, if the configuration of the server or cluster does not specify the <a href="/docs/staging/docs/en/engines/table-engines/special/distributed">user and password</a> properties.</p><p>If you just started using ClickHouse, consider the following scenario:</p><ol><li><a href="#enabling-access-control">Enable</a> SQL-driven access control and account management for the <code>default</code> user.</li><li>Log in to the <code>default</code> user account and create all the required users. Don’t forget to create an administrator account (<code>GRANT ALL ON *.* TO admin_user_account WITH GRANT OPTION</code>).</li><li><a href="/docs/staging/docs/en/operations/settings/permissions-for-queries#permissions_for_queries">Restrict permissions</a> for the <code>default</code> user and disable SQL-driven access control and account management for it.</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="access-control-properties">Properties of Current Solution<a class="hash-link" href="#access-control-properties" title="Direct link to heading">​</a></h3><ul><li>You can grant permissions for databases and tables even if they do not exist.</li><li>If a table was deleted, all the privileges that correspond to this table are not revoked. This means that even if you create a new table with the same name later, all the privileges remain valid. To revoke privileges corresponding to the deleted table, you need to execute, for example, the <code>REVOKE ALL PRIVILEGES ON db.table FROM ALL</code> query.</li><li>There are no lifetime settings for privileges.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="user-account-management">User Account<a class="hash-link" href="#user-account-management" title="Direct link to heading">​</a></h2><p>A user account is an access entity that allows to authorize someone in ClickHouse. A user account contains:</p><ul><li>Identification information.</li><li><a href="/docs/staging/docs/en/sql-reference/statements/grant#grant-privileges">Privileges</a> that define a scope of queries the user can execute.</li><li>Hosts allowed to connect to the ClickHouse server.</li><li>Assigned and default roles.</li><li>Settings with their constraints applied by default at user login.</li><li>Assigned settings profiles.</li></ul><p>Privileges can be granted to a user account by the <a href="/docs/staging/docs/en/sql-reference/statements/grant">GRANT</a> query or by assigning <a href="#role-management">roles</a>. To revoke privileges from a user, ClickHouse provides the <a href="/docs/staging/docs/en/sql-reference/statements/revoke">REVOKE</a> query. To list privileges for a user, use the <a href="/docs/staging/docs/en/sql-reference/statements/show#show-grants-statement">SHOW GRANTS</a> statement.</p><p>Management queries:</p><ul><li><a href="/docs/staging/docs/en/sql-reference/statements/create/user">CREATE USER</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/alter/user#alter-user-statement">ALTER USER</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/drop">DROP USER</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-create-user-statement">SHOW CREATE USER</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-users-statement">SHOW USERS</a></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="access-control-settings-applying">Settings Applying<a class="hash-link" href="#access-control-settings-applying" title="Direct link to heading">​</a></h3><p>Settings can be configured differently: for a user account, in its granted roles and in settings profiles. At user login, if a setting is configured for different access entities, the value and constraints of this setting are applied as follows (from higher to lower priority):</p><ol><li>User account settings.</li><li>The settings of default roles of the user account. If a setting is configured in some roles, then order of the setting application is undefined.</li><li>The settings from settings profiles assigned to a user or to its default roles. If a setting is configured in some profiles, then order of setting application is undefined.</li><li>Settings applied to all the server by default or from the <a href="/docs/staging/docs/en/operations/server-configuration-parameters/settings#default-profile">default profile</a>.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="role-management">Role<a class="hash-link" href="#role-management" title="Direct link to heading">​</a></h2><p>Role is a container for access entities that can be granted to a user account.</p><p>Role contains:</p><ul><li><a href="/docs/staging/docs/en/sql-reference/statements/grant#grant-privileges">Privileges</a></li><li>Settings and constraints</li><li>List of assigned roles</li></ul><p>Management queries:</p><ul><li><a href="/docs/staging/docs/en/sql-reference/statements/create/role">CREATE ROLE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/alter/role#alter-role-statement">ALTER ROLE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/drop">DROP ROLE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/set-role">SET ROLE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/set-role#set-default-role-statement">SET DEFAULT ROLE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-create-role-statement">SHOW CREATE ROLE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-roles-statement">SHOW ROLES</a></li></ul><p>Privileges can be granted to a role by the <a href="/docs/staging/docs/en/sql-reference/statements/grant">GRANT</a> query. To revoke privileges from a role ClickHouse provides the <a href="/docs/staging/docs/en/sql-reference/statements/revoke">REVOKE</a> query.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="row-policy-management">Row Policy<a class="hash-link" href="#row-policy-management" title="Direct link to heading">​</a></h2><p>Row policy is a filter that defines which of the rows are available to a user or a role. Row policy contains filters for one particular table, as well as a list of roles and/or users which should use this row policy.</p><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>Row policies makes sense only for users with readonly access. If user can modify table or copy partitions between tables, it defeats the restrictions of row policies.</p></div></div><p>Management queries:</p><ul><li><a href="/docs/staging/docs/en/sql-reference/statements/create/row-policy">CREATE ROW POLICY</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/alter/row-policy#alter-row-policy-statement">ALTER ROW POLICY</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/drop#drop-row-policy-statement">DROP ROW POLICY</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-create-row-policy-statement">SHOW CREATE ROW POLICY</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-policies-statement">SHOW POLICIES</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-profiles-management">Settings Profile<a class="hash-link" href="#settings-profiles-management" title="Direct link to heading">​</a></h2><p>Settings profile is a collection of <a href="/docs/staging/docs/en/operations/settings/index">settings</a>. Settings profile contains settings and constraints, as well as a list of roles and/or users to which this profile is applied.</p><p>Management queries:</p><ul><li><a href="/docs/staging/docs/en/sql-reference/statements/create/settings-profile#create-settings-profile-statement">CREATE SETTINGS PROFILE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/alter/settings-profile#alter-settings-profile-statement">ALTER SETTINGS PROFILE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/drop#drop-settings-profile-statement">DROP SETTINGS PROFILE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-create-settings-profile-statement">SHOW CREATE SETTINGS PROFILE</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-profiles-statement">SHOW PROFILES</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="quotas-management">Quota<a class="hash-link" href="#quotas-management" title="Direct link to heading">​</a></h2><p>Quota limits resource usage. See <a href="/docs/staging/docs/en/operations/quotas">Quotas</a>.</p><p>Quota contains a set of limits for some durations, as well as a list of roles and/or users which should use this quota.</p><p>Management queries:</p><ul><li><a href="/docs/staging/docs/en/sql-reference/statements/create/quota">CREATE QUOTA</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/alter/quota#alter-quota-statement">ALTER QUOTA</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/drop#drop-quota-statement">DROP QUOTA</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-create-quota-statement">SHOW CREATE QUOTA</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-quota-statement">SHOW QUOTA</a></li><li><a href="/docs/staging/docs/en/sql-reference/statements/show#show-quotas-statement">SHOW QUOTAS</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="enabling-access-control">Enabling SQL-driven Access Control and Account Management<a class="hash-link" href="#enabling-access-control" title="Direct link to heading">​</a></h2><ul><li><p>Setup a directory for configurations storage.</p><p>ClickHouse stores access entity configurations in the folder set in the <a href="/docs/staging/docs/en/operations/server-configuration-parameters/settings#access_control_path">access_control_path</a> server configuration parameter.</p></li><li><p>Enable SQL-driven access control and account management for at least one user account.</p><p>By default, SQL-driven access control and account management is disabled for all users. You need to configure at least one user in the <code>users.xml</code> configuration file and set the value of the <a href="/docs/staging/docs/en/operations/settings/settings-users#access_management-user-setting">access_management</a> setting to 1.</p></li></ul><p><a href="https://clickhouse.com/docs/en/operations/access_rights/" target="_blank" rel="noopener noreferrer">Original article</a> </p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/staging/docs/en/operations/update"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ClickHouse Upgrade</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/staging/docs/en/operations/external-authenticators/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">External User Authenticators and Directories</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#access-control-usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#access-control-properties" class="table-of-contents__link toc-highlight">Properties of Current Solution</a></li></ul></li><li><a href="#user-account-management" class="table-of-contents__link toc-highlight">User Account</a><ul><li><a href="#access-control-settings-applying" class="table-of-contents__link toc-highlight">Settings Applying</a></li></ul></li><li><a href="#role-management" class="table-of-contents__link toc-highlight">Role</a></li><li><a href="#row-policy-management" class="table-of-contents__link toc-highlight">Row Policy</a></li><li><a href="#settings-profiles-management" class="table-of-contents__link toc-highlight">Settings Profile</a></li><li><a href="#quotas-management" class="table-of-contents__link toc-highlight">Quota</a></li><li><a href="#enabling-access-control" class="table-of-contents__link toc-highlight">Enabling SQL-driven Access Control and Account Management</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ClickHouse</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://clickhouse.com/cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ClickHouse as a Service</a></li><li class="footer__item"><a href="https://clickhouse.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://clickhouse.com/learn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn ClickHouse</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ClickHouse/ClickHouse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://clickhouse.com/blog/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/clickhousedb/shared_invite/zt-rxm3rdrk-lIUmhLC3V8WTaL0TGxsOmg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Policies</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/legal/trademark-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademark Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/docs/staging/img/logo.png" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/docs/staging/img/logo.png" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright © 2016 - 2022 ClickHouse, Inc. ClickHouse Docs provided under the Creative Commons CC BY-NC-SA license. ClickHouse is a registered trademark of ClickHouse, Inc.</div></div></div></footer></div>
<script src="/docs/staging/assets/js/runtime~main.e93f30b1.js"></script>
<script src="/docs/staging/assets/js/main.48c6abe6.js"></script>
</body>
</html>