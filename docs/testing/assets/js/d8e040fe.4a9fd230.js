"use strict";(self.webpackChunkclickhouse=self.webpackChunkclickhouse||[]).push([[40832],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return c}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),u=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,o=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),m=u(n),c=i,k=m["".concat(o,".").concat(c)]||m[c]||d[c]||l;return n?a.createElement(k,s(s({ref:t},p),{},{components:n})):a.createElement(k,s({ref:t},p))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,s=new Array(l);s[0]=m;var r={};for(var o in t)hasOwnProperty.call(t,o)&&(r[o]=t[o]);r.originalType=e,r.mdxType="string"==typeof e?e:i,s[1]=r;for(var u=2;u<l;u++)s[u]=n[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},87472:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return o},default:function(){return c},frontMatter:function(){return r},metadata:function(){return u},toc:function(){return d}});var a=n(87462),i=n(63366),l=(n(67294),n(3905)),s=["components"],r={},o="Settings",u={unversionedId:"en/operations/settings/settings",id:"en/operations/settings/settings",title:"Settings",description:"settings}",source:"@site/docs/en/operations/settings/settings.md",sourceDirName:"en/operations/settings",slug:"/en/operations/settings/",permalink:"/docs/testing/docs/en/operations/settings/",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"MergeTree tables settings",permalink:"/docs/testing/docs/en/operations/settings/merge-tree-settings"},next:{title:"System Tables",permalink:"/docs/testing/docs/en/operations/system-tables/"}},p={},d=[{value:"distributed_product_mode",id:"distributed-product-mode",level:2},{value:"prefer_global_in_and_join",id:"prefer-global-in-and-join",level:2},{value:"enable_optimize_predicate_expression",id:"enable-optimize-predicate-expression",level:2},{value:"fallback_to_stale_replicas_for_distributed_queries",id:"settings-fallback_to_stale_replicas_for_distributed_queries",level:2},{value:"force_index_by_date",id:"settings-force_index_by_date",level:2},{value:"force_primary_key",id:"force-primary-key",level:2},{value:"use_skip_indexes",id:"settings-use_skip_indexes",level:2},{value:"force_data_skipping_indices",id:"settings-force_data_skipping_indices",level:2},{value:"format_schema",id:"format-schema",level:2},{value:"fsync_metadata",id:"fsync-metadata",level:2},{value:"function_range_max_elements_in_block",id:"settings-function_range_max_elements_in_block",level:2},{value:"enable_http_compression",id:"settings-enable_http_compression",level:2},{value:"http_zlib_compression_level",id:"settings-http_zlib_compression_level",level:2},{value:"http_native_compression_disable_checksumming_on_decompress",id:"settings-http_native_compression_disable_checksumming_on_decompress",level:2},{value:"http_max_uri_size",id:"http-max-uri-size",level:2},{value:"table_function_remote_max_addresses",id:"table_function_remote_max_addresses",level:2},{value:"glob_expansion_max_elements  {#glob_expansion_max_elements }",id:"glob_expansion_max_elements--glob_expansion_max_elements-",level:2},{value:"send_progress_in_http_headers",id:"settings-send_progress_in_http_headers",level:2},{value:"max_http_get_redirects",id:"setting-max_http_get_redirects",level:2},{value:"input_format_allow_errors_num",id:"settings-input_format_allow_errors_num",level:2},{value:"input_format_allow_errors_ratio",id:"settings-input_format_allow_errors_ratio",level:2},{value:"input_format_parquet_import_nested",id:"input_format_parquet_import_nested",level:2},{value:"input_format_arrow_import_nested",id:"input_format_arrow_import_nested",level:2},{value:"input_format_orc_import_nested",id:"input_format_orc_import_nested",level:2},{value:"input_format_values_interpret_expressions",id:"settings-input_format_values_interpret_expressions",level:2},{value:"input_format_values_deduce_templates_of_expressions",id:"settings-input_format_values_deduce_templates_of_expressions",level:2},{value:"input_format_values_accurate_types_of_literals",id:"settings-input-format-values-accurate-types-of-literals",level:2},{value:"input_format_defaults_for_omitted_fields",id:"session_settings-input_format_defaults_for_omitted_fields",level:2},{value:"input_format_tsv_empty_as_default",id:"settings-input-format-tsv-empty-as-default",level:2},{value:"input_format_csv_empty_as_default",id:"settings-input-format-csv-empty-as-default",level:2},{value:"input_format_tsv_enum_as_number",id:"settings-input_format_tsv_enum_as_number",level:2},{value:"input_format_null_as_default",id:"settings-input-format-null-as-default",level:2},{value:"insert_null_as_default",id:"insert_null_as_default",level:2},{value:"input_format_skip_unknown_fields",id:"settings-input-format-skip-unknown-fields",level:2},{value:"input_format_import_nested_json",id:"settings-input_format_import_nested_json",level:2},{value:"input_format_with_names_use_header",id:"settings-input-format-with-names-use-header",level:2},{value:"input_format_with_types_use_header",id:"settings-input-format-with-types-use-header",level:2},{value:"date_time_input_format",id:"settings-date_time_input_format",level:2},{value:"date_time_output_format",id:"settings-date_time_output_format",level:2},{value:"join_default_strictness",id:"settings-join_default_strictness",level:2},{value:"join_algorithm",id:"settings-join_algorithm",level:2},{value:"join_any_take_last_row",id:"settings-join_any_take_last_row",level:2},{value:"join_use_nulls",id:"join_use_nulls",level:2},{value:"partial_merge_join_optimizations",id:"partial_merge_join_optimizations",level:2},{value:"partial_merge_join_rows_in_right_blocks",id:"partial_merge_join_rows_in_right_blocks",level:2},{value:"join_on_disk_max_files_to_merge",id:"join_on_disk_max_files_to_merge",level:2},{value:"any_join_distinct_right_table_keys",id:"any_join_distinct_right_table_keys",level:2},{value:"temporary_files_codec",id:"temporary_files_codec",level:2},{value:"max_block_size",id:"setting-max_block_size",level:2},{value:"preferred_block_size_bytes",id:"preferred-block-size-bytes",level:2},{value:"merge_tree_min_rows_for_concurrent_read",id:"setting-merge-tree-min-rows-for-concurrent-read",level:2},{value:"merge_tree_min_rows_for_concurrent_read_for_remote_filesystem",id:"merge-tree-min-rows-for-concurrent-read-for-remote-filesystem",level:2},{value:"merge_tree_min_bytes_for_concurrent_read",id:"setting-merge-tree-min-bytes-for-concurrent-read",level:2},{value:"merge_tree_min_bytes_for_concurrent_read_for_remote_filesystem",id:"merge-tree-min-bytes-for-concurrent-read-for-remote-filesystem",level:2},{value:"merge_tree_min_rows_for_seek",id:"setting-merge-tree-min-rows-for-seek",level:2},{value:"merge_tree_min_bytes_for_seek",id:"setting-merge-tree-min-bytes-for-seek",level:2},{value:"merge_tree_coarse_index_granularity",id:"setting-merge-tree-coarse-index-granularity",level:2},{value:"merge_tree_max_rows_to_use_cache",id:"setting-merge-tree-max-rows-to-use-cache",level:2},{value:"merge_tree_max_bytes_to_use_cache",id:"setting-merge-tree-max-bytes-to-use-cache",level:2},{value:"min_bytes_to_use_direct_io",id:"settings-min-bytes-to-use-direct-io",level:2},{value:"network_compression_method",id:"network_compression_method",level:2},{value:"network_zstd_compression_level",id:"network_zstd_compression_level",level:2},{value:"log_queries",id:"settings-log-queries",level:2},{value:"log_queries_min_query_duration_ms",id:"settings-log-queries-min-query-duration-ms",level:2},{value:"log_queries_min_type",id:"settings-log-queries-min-type",level:2},{value:"log_query_threads",id:"settings-log-query-threads",level:2},{value:"log_query_views",id:"settings-log-query-views",level:2},{value:"log_formatted_queries",id:"settings-log-formatted-queries",level:2},{value:"log_comment",id:"settings-log-comment",level:2},{value:"max_insert_block_size",id:"settings-max_insert_block_size",level:2},{value:"min_insert_block_size_rows",id:"min-insert-block-size-rows",level:2},{value:"min_insert_block_size_bytes",id:"min-insert-block-size-bytes",level:2},{value:"max_replica_delay_for_distributed_queries",id:"settings-max_replica_delay_for_distributed_queries",level:2},{value:"max_threads",id:"settings-max_threads",level:2},{value:"max_insert_threads",id:"settings-max-insert-threads",level:2},{value:"max_compress_block_size",id:"max-compress-block-size",level:2},{value:"min_compress_block_size",id:"min-compress-block-size",level:2},{value:"max_query_size",id:"settings-max_query_size",level:2},{value:"max_parser_depth",id:"max_parser_depth",level:2},{value:"interactive_delay",id:"interactive-delay",level:2},{value:"connect_timeout, receive_timeout, send_timeout",id:"connect-timeout-receive-timeout-send-timeout",level:2},{value:"cancel_http_readonly_queries_on_client_close",id:"cancel-http-readonly-queries-on-client-close",level:2},{value:"poll_interval",id:"poll-interval",level:2},{value:"max_distributed_connections",id:"max-distributed-connections",level:2},{value:"distributed_connections_pool_size",id:"distributed-connections-pool-size",level:2},{value:"max_distributed_depth",id:"max-distributed-depth",level:2},{value:"max_replicated_fetches_network_bandwidth_for_server",id:"max_replicated_fetches_network_bandwidth_for_server",level:2},{value:"max_replicated_sends_network_bandwidth_for_server",id:"max_replicated_sends_network_bandwidth_for_server",level:2},{value:"connect_timeout_with_failover_ms",id:"connect-timeout-with-failover-ms",level:2},{value:"connection_pool_max_wait_ms",id:"connection-pool-max-wait-ms",level:2},{value:"connections_with_failover_max_tries",id:"connections-with-failover-max-tries",level:2},{value:"extremes",id:"extremes",level:2},{value:"kafka_max_wait_ms",id:"kafka-max-wait-ms",level:2},{value:"use_uncompressed_cache",id:"setting-use_uncompressed_cache",level:2},{value:"replace_running_query",id:"replace-running-query",level:2},{value:"replace_running_query_max_wait_ms",id:"replace-running-query-max-wait-ms",level:2},{value:"stream_flush_interval_ms",id:"stream-flush-interval-ms",level:2},{value:"load_balancing",id:"settings-load_balancing",level:2},{value:"Random (by Default)",id:"load_balancing-random",level:3},{value:"Nearest Hostname",id:"load_balancing-nearest_hostname",level:3},{value:"In Order",id:"load_balancing-in_order",level:3},{value:"First or Random",id:"load_balancing-first_or_random",level:3},{value:"Round Robin",id:"load_balancing-round_robin",level:3},{value:"prefer_localhost_replica",id:"settings-prefer-localhost-replica",level:2},{value:"totals_mode",id:"totals-mode",level:2},{value:"totals_auto_threshold",id:"totals-auto-threshold",level:2},{value:"max_parallel_replicas",id:"settings-max_parallel_replicas",level:2},{value:"compile_expressions",id:"compile-expressions",level:2},{value:"min_count_to_compile_expression",id:"min-count-to-compile-expression",level:2},{value:"compile_aggregate_expressions",id:"compile_aggregate_expressions",level:2},{value:"min_count_to_compile_aggregate_expression",id:"min_count_to_compile_aggregate_expression",level:2},{value:"output_format_json_quote_64bit_integers",id:"session_settings-output_format_json_quote_64bit_integers",level:2},{value:"output_format_json_quote_denormals",id:"settings-output_format_json_quote_denormals",level:2},{value:"format_csv_delimiter",id:"settings-format_csv_delimiter",level:2},{value:"input_format_csv_enum_as_number",id:"settings-input_format_csv_enum_as_number",level:2},{value:"output_format_csv_crlf_end_of_line",id:"settings-output-format-csv-crlf-end-of-line",level:2},{value:"output_format_tsv_crlf_end_of_line",id:"settings-output-format-tsv-crlf-end-of-line",level:2},{value:"insert_quorum",id:"settings-insert_quorum",level:2},{value:"insert_quorum_timeout",id:"settings-insert_quorum_timeout",level:2},{value:"insert_quorum_parallel",id:"settings-insert_quorum_parallel",level:2},{value:"select_sequential_consistency",id:"settings-select_sequential_consistency",level:2},{value:"insert_deduplicate",id:"settings-insert-deduplicate",level:2},{value:"deduplicate_blocks_in_dependent_materialized_views",id:"settings-deduplicate-blocks-in-dependent-materialized-views",level:2},{value:"insert_deduplication_token",id:"insert_deduplication_token",level:2},{value:"max_network_bytes",id:"settings-max-network-bytes",level:2},{value:"max_network_bandwidth",id:"settings-max-network-bandwidth",level:2},{value:"max_network_bandwidth_for_user",id:"settings-max-network-bandwidth-for-user",level:2},{value:"max_network_bandwidth_for_all_users",id:"settings-max-network-bandwidth-for-all-users",level:2},{value:"count_distinct_implementation",id:"settings-count_distinct_implementation",level:2},{value:"skip_unavailable_shards",id:"settings-skip_unavailable_shards",level:2},{value:"distributed_group_by_no_merge",id:"distributed-group-by-no-merge",level:2},{value:"distributed_push_down_limit",id:"distributed-push-down-limit",level:2},{value:"optimize_skip_unused_shards_limit",id:"optimize-skip-unused-shards-limit",level:2},{value:"optimize_skip_unused_shards",id:"optimize-skip-unused-shards",level:2},{value:"optimize_skip_unused_shards_rewrite_in",id:"optimize-skip-unused-shards-rewrite-in",level:2},{value:"allow_nondeterministic_optimize_skip_unused_shards",id:"allow-nondeterministic-optimize-skip-unused-shards",level:2},{value:"optimize_skip_unused_shards_nesting",id:"optimize-skip-unused-shards-nesting",level:2},{value:"force_optimize_skip_unused_shards",id:"force-optimize-skip-unused-shards",level:2},{value:"force_optimize_skip_unused_shards_nesting",id:"settings-force_optimize_skip_unused_shards_nesting",level:2},{value:"optimize_distributed_group_by_sharding_key",id:"optimize-distributed-group-by-sharding-key",level:2},{value:"optimize_throw_if_noop",id:"setting-optimize_throw_if_noop",level:2},{value:"optimize_functions_to_subcolumns",id:"optimize-functions-to-subcolumns",level:2},{value:"optimize_trivial_count_query",id:"optimize-trivial-count-query",level:2},{value:"distributed_replica_error_half_life",id:"settings-distributed_replica_error_half_life",level:2},{value:"distributed_replica_error_cap",id:"settings-distributed_replica_error_cap",level:2},{value:"distributed_replica_max_ignored_errors",id:"settings-distributed_replica_max_ignored_errors",level:2},{value:"distributed_directory_monitor_sleep_time_ms",id:"distributed_directory_monitor_sleep_time_ms",level:2},{value:"distributed_directory_monitor_max_sleep_time_ms",id:"distributed_directory_monitor_max_sleep_time_ms",level:2},{value:"distributed_directory_monitor_batch_inserts",id:"distributed_directory_monitor_batch_inserts",level:2},{value:"distributed_directory_monitor_split_batch_on_failure",id:"distributed_directory_monitor_split_batch_on_failure",level:2},{value:"os_thread_priority",id:"setting-os-thread-priority",level:2},{value:"query_profiler_real_time_period_ns",id:"query_profiler_real_time_period_ns",level:2},{value:"query_profiler_cpu_time_period_ns",id:"query_profiler_cpu_time_period_ns",level:2},{value:"allow_introspection_functions",id:"settings-allow_introspection_functions",level:2},{value:"input_format_parallel_parsing",id:"input-format-parallel-parsing",level:2},{value:"output_format_parallel_formatting",id:"output-format-parallel-formatting",level:2},{value:"min_chunk_bytes_for_parallel_parsing",id:"min-chunk-bytes-for-parallel-parsing",level:2},{value:"output_format_avro_codec",id:"settings-output_format_avro_codec",level:2},{value:"output_format_avro_sync_interval",id:"settings-output_format_avro_sync_interval",level:2},{value:"output_format_avro_string_column_pattern",id:"output_format_avro_string_column_pattern",level:2},{value:"format_avro_schema_registry_url",id:"format_avro_schema_registry_url",level:2},{value:"input_format_avro_allow_missing_fields",id:"input_format_avro_allow_missing_fields",level:2},{value:"background_pool_size",id:"background_pool_size",level:2},{value:"merge_selecting_sleep_ms",id:"merge_selecting_sleep_ms",level:2},{value:"parallel_distributed_insert_select",id:"parallel_distributed_insert_select",level:2},{value:"insert_distributed_sync",id:"insert_distributed_sync",level:2},{value:"insert_distributed_one_random_shard",id:"insert_distributed_one_random_shard",level:2},{value:"insert_shard_id",id:"insert_shard_id",level:2},{value:"use_compact_format_in_distributed_parts_names",id:"use_compact_format_in_distributed_parts_names",level:2},{value:"background_buffer_flush_schedule_pool_size",id:"background_buffer_flush_schedule_pool_size",level:2},{value:"background_move_pool_size",id:"background_move_pool_size",level:2},{value:"background_schedule_pool_size",id:"background_schedule_pool_size",level:2},{value:"background_fetches_pool_size",id:"background_fetches_pool_size",level:2},{value:"always_fetch_merged_part",id:"always_fetch_merged_part",level:2},{value:"background_distributed_schedule_pool_size",id:"background_distributed_schedule_pool_size",level:2},{value:"background_message_broker_schedule_pool_size",id:"background_message_broker_schedule_pool_size",level:2},{value:"validate_polygons",id:"validate_polygons",level:2},{value:"transform_null_in",id:"transform_null_in",level:2},{value:"low_cardinality_max_dictionary_size",id:"low_cardinality_max_dictionary_size",level:2},{value:"low_cardinality_use_single_dictionary_for_part",id:"low_cardinality_use_single_dictionary_for_part",level:2},{value:"low_cardinality_allow_in_native_format",id:"low_cardinality_allow_in_native_format",level:2},{value:"allow_suspicious_low_cardinality_types",id:"allow_suspicious_low_cardinality_types",level:2},{value:"min_insert_block_size_rows_for_materialized_views",id:"min-insert-block-size-rows-for-materialized-views",level:2},{value:"min_insert_block_size_bytes_for_materialized_views",id:"min-insert-block-size-bytes-for-materialized-views",level:2},{value:"output_format_pretty_grid_charset",id:"output-format-pretty-grid-charset",level:2},{value:"optimize_read_in_order",id:"optimize_read_in_order",level:2},{value:"optimize_aggregation_in_order",id:"optimize_aggregation_in_order",level:2},{value:"mutations_sync",id:"mutations_sync",level:2},{value:"ttl_only_drop_parts",id:"ttl_only_drop_parts",level:2},{value:"lock_acquire_timeout",id:"lock_acquire_timeout",level:2},{value:"cast_keep_nullable",id:"cast_keep_nullable",level:2},{value:"output_format_pretty_max_value_width",id:"output_format_pretty_max_value_width",level:2},{value:"output_format_pretty_row_numbers",id:"output_format_pretty_row_numbers",level:2},{value:"system_events_show_zero_values",id:"system_events_show_zero_values",level:2},{value:"persistent",id:"persistent",level:2},{value:"format_csv_null_representation",id:"format_csv_null_representation",level:2},{value:"format_tsv_null_representation",id:"format_tsv_null_representation",level:2},{value:"output_format_json_array_of_rows",id:"output-format-json-array-of-rows",level:2},{value:"allow_nullable_key",id:"allow-nullable-key",level:2},{value:"aggregate_functions_null_for_empty",id:"aggregate_functions_null_for_empty",level:2},{value:"union_default_mode",id:"union-default-mode",level:2},{value:"data_type_default_nullable",id:"data_type_default_nullable",level:2},{value:"execute_merges_on_single_replica_time_threshold",id:"execute-merges-on-single-replica-time-threshold",level:2},{value:"max_final_threads",id:"max-final-threads",level:2},{value:"opentelemetry_start_trace_probability",id:"opentelemetry-start-trace-probability",level:2},{value:"optimize_on_insert",id:"optimize-on-insert",level:2},{value:"engine_file_empty_if_not_exists",id:"engine-file-empty_if-not-exists",level:2},{value:"engine_file_truncate_on_insert",id:"engine-file-truncate-on-insert",level:2},{value:"allow_experimental_geo_types",id:"allow-experimental-geo-types",level:2},{value:"database_atomic_wait_for_drop_and_detach_synchronously",id:"database_atomic_wait_for_drop_and_detach_synchronously",level:2},{value:"show_table_uuid_in_table_create_query_if_not_nil",id:"show_table_uuid_in_table_create_query_if_not_nil",level:2},{value:"allow_experimental_live_view",id:"allow-experimental-live-view",level:2},{value:"live_view_heartbeat_interval",id:"live-view-heartbeat-interval",level:2},{value:"max_live_view_insert_blocks_before_refresh",id:"max-live-view-insert-blocks-before-refresh",level:2},{value:"temporary_live_view_timeout",id:"temporary-live-view-timeout",level:2},{value:"periodic_live_view_refresh",id:"periodic-live-view-refresh",level:2},{value:"http_connection_timeout",id:"http_connection_timeout",level:2},{value:"http_send_timeout",id:"http_send_timeout",level:2},{value:"http_receive_timeout",id:"http_receive_timeout",level:2},{value:"check_query_single_value_result",id:"check_query_single_value_result",level:2},{value:"prefer_column_name_to_alias",id:"prefer-column-name-to-alias",level:2},{value:"limit",id:"limit",level:2},{value:"offset",id:"offset",level:2},{value:"optimize_syntax_fuse_functions",id:"optimize_syntax_fuse_functions",level:2},{value:"allow_experimental_database_replicated",id:"allow_experimental_database_replicated",level:2},{value:"database_replicated_initial_query_timeout_sec",id:"database_replicated_initial_query_timeout_sec",level:2},{value:"distributed_ddl_task_timeout",id:"distributed_ddl_task_timeout",level:2},{value:"distributed_ddl_output_mode",id:"distributed_ddl_output_mode",level:2},{value:"flatten_nested",id:"flatten-nested",level:2},{value:"external_table_functions_use_nulls",id:"external-table-functions-use-nulls",level:2},{value:"output_format_arrow_low_cardinality_as_dictionary",id:"output-format-arrow-low-cardinality-as-dictionary",level:2},{value:"allow_experimental_projection_optimization",id:"allow-experimental-projection-optimization",level:2},{value:"force_optimize_projection",id:"force-optimize-projection",level:2},{value:"replication_alter_partitions_sync",id:"replication-alter-partitions-sync",level:2},{value:"replication_wait_for_inactive_replica_timeout",id:"replication-wait-for-inactive-replica-timeout",level:2},{value:"regexp_max_matches_per_row",id:"regexp-max-matches-per-row",level:2},{value:"http_max_single_read_retries",id:"http-max-single-read-retries",level:2},{value:"log_queries_probability",id:"log-queries-probability",level:2},{value:"short_circuit_function_evaluation",id:"short-circuit-function-evaluation",level:2},{value:"max_hyperscan_regexp_length",id:"max-hyperscan-regexp-length",level:2},{value:"max_hyperscan_regexp_total_length",id:"max-hyperscan-regexp-total-length",level:2},{value:"enable_positional_arguments",id:"enable-positional-arguments",level:2},{value:"optimize_move_to_prewhere",id:"optimize_move_to_prewhere",level:2},{value:"optimize_move_to_prewhere_if_final",id:"optimize_move_to_prewhere_if_final",level:2},{value:"describe_include_subcolumns",id:"describe_include_subcolumns",level:2},{value:"async_insert",id:"async-insert",level:2},{value:"async_insert_threads",id:"async-insert-threads",level:2},{value:"wait_for_async_insert",id:"wait-for-async-insert",level:2},{value:"wait_for_async_insert_timeout",id:"wait-for-async-insert-timeout",level:2},{value:"async_insert_max_data_size",id:"async-insert-max-data-size",level:2},{value:"async_insert_busy_timeout_ms",id:"async-insert-busy-timeout-ms",level:2},{value:"async_insert_stale_timeout_ms",id:"async-insert-stale-timeout-ms",level:2},{value:"alter_partition_verbose_result",id:"alter-partition-verbose-result",level:2},{value:"format_capn_proto_enum_comparising_mode",id:"format-capn-proto-enum-comparising-mode",level:2},{value:"min_bytes_to_use_mmap_io",id:"min-bytes-to-use-mmap-io",level:2},{value:"format_custom_escaping_rule",id:"format-custom-escaping-rule",level:2},{value:"format_custom_field_delimiter",id:"format-custom-field-delimiter",level:2},{value:"format_custom_row_before_delimiter",id:"format-custom-row-before-delimiter",level:2},{value:"format_custom_row_after_delimiter",id:"format-custom-row-after-delimiter",level:2},{value:"format_custom_row_between_delimiter",id:"format-custom-row-between-delimiter",level:2},{value:"format_custom_result_before_delimiter",id:"format-custom-result-before-delimiter",level:2},{value:"format_custom_result_after_delimiter",id:"format-custom-result-after-delimiter",level:2},{value:"shutdown_wait_unfinished_queries",id:"shutdown_wait_unfinished_queries",level:2},{value:"shutdown_wait_unfinished",id:"shutdown_wait_unfinished",level:2}],m={toc:d};function c(e){var t=e.components,n=(0,i.Z)(e,s);return(0,l.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"settings"},"Settings"),(0,l.kt)("h2",{id:"distributed-product-mode"},"distributed_product_mode"),(0,l.kt)("p",null,"Changes the behaviour of ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/operators/in"},"distributed subqueries"),"."),(0,l.kt)("p",null,"ClickHouse applies this setting when the query contains the product of distributed tables, i.e.\xa0when the query for a distributed table contains a non-GLOBAL subquery for the distributed table."),(0,l.kt)("p",null,"Restrictions:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Only applied for IN and JOIN subqueries."),(0,l.kt)("li",{parentName:"ul"},"Only if the FROM section uses a distributed table containing more than one shard."),(0,l.kt)("li",{parentName:"ul"},"If the subquery concerns a distributed table containing more than one shard."),(0,l.kt)("li",{parentName:"ul"},"Not used for a table-valued ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/table-functions/remote"},"remote")," function.")),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"deny")," \u2014 Default value. Prohibits using these types of subqueries (returns the \u201cDouble-distributed in/JOIN subqueries is denied\u201d exception)."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"local")," \u2014 Replaces the database and table in the subquery with local ones for the destination server (shard), leaving the normal ",(0,l.kt)("inlineCode",{parentName:"li"},"IN"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"JOIN.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"global")," \u2014 Replaces the ",(0,l.kt)("inlineCode",{parentName:"li"},"IN"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"JOIN")," query with ",(0,l.kt)("inlineCode",{parentName:"li"},"GLOBAL IN"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"GLOBAL JOIN.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"allow")," \u2014 Allows the use of these types of subqueries.")),(0,l.kt)("h2",{id:"prefer-global-in-and-join"},"prefer_global_in_and_join"),(0,l.kt)("p",null,"Enables the replacement of ",(0,l.kt)("inlineCode",{parentName:"p"},"IN"),"/",(0,l.kt)("inlineCode",{parentName:"p"},"JOIN")," operators with ",(0,l.kt)("inlineCode",{parentName:"p"},"GLOBAL IN"),"/",(0,l.kt)("inlineCode",{parentName:"p"},"GLOBAL JOIN"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled. ",(0,l.kt)("inlineCode",{parentName:"li"},"IN"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"JOIN")," operators are not replaced with ",(0,l.kt)("inlineCode",{parentName:"li"},"GLOBAL IN"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"GLOBAL JOIN"),"."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled. ",(0,l.kt)("inlineCode",{parentName:"li"},"IN"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"JOIN")," operators are replaced with ",(0,l.kt)("inlineCode",{parentName:"li"},"GLOBAL IN"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"GLOBAL JOIN"),".")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Usage")),(0,l.kt)("p",null,"Although ",(0,l.kt)("inlineCode",{parentName:"p"},"SET distributed_product_mode=global"),"\xa0can change the queries behavior for the distributed tables, it's not suitable for local tables or tables from external resources. Here is when the ",(0,l.kt)("inlineCode",{parentName:"p"},"prefer_global_in_and_join")," setting comes into play."),(0,l.kt)("p",null,"For example, we have query serving nodes that contain local tables, which are not suitable for distribution. We need to scatter their data on the fly during distributed processing with the ",(0,l.kt)("inlineCode",{parentName:"p"},"GLOBAL")," keyword \u2014 ",(0,l.kt)("inlineCode",{parentName:"p"},"GLOBAL IN"),"/",(0,l.kt)("inlineCode",{parentName:"p"},"GLOBAL JOIN"),"."),(0,l.kt)("p",null,"Another use case of ",(0,l.kt)("inlineCode",{parentName:"p"},"prefer_global_in_and_join"),"\xa0is accessing tables created by external engines. This setting helps to reduce the number of calls to external sources while joining such tables: only one call per query."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See also:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/operators/in#select-distributed-subqueries"},"Distributed subqueries")," for more information on how to use ",(0,l.kt)("inlineCode",{parentName:"li"},"GLOBAL IN"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"GLOBAL JOIN"))),(0,l.kt)("h2",{id:"enable-optimize-predicate-expression"},"enable_optimize_predicate_expression"),(0,l.kt)("p",null,"Turns on predicate pushdown in ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," queries."),(0,l.kt)("p",null,"Predicate pushdown may significantly reduce network traffic for distributed queries."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("p",null,"Usage"),(0,l.kt)("p",null,"Consider the following queries:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT count() FROM test_table WHERE date = '2018-10-10'")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT count() FROM (SELECT * FROM test_table) WHERE date = '2018-10-10'"))),(0,l.kt)("p",null,"If ",(0,l.kt)("inlineCode",{parentName:"p"},"enable_optimize_predicate_expression = 1"),", then the execution time of these queries is equal because ClickHouse applies ",(0,l.kt)("inlineCode",{parentName:"p"},"WHERE")," to the subquery when processing it."),(0,l.kt)("p",null,"If ",(0,l.kt)("inlineCode",{parentName:"p"},"enable_optimize_predicate_expression = 0"),", then the execution time of the second query is much longer because the ",(0,l.kt)("inlineCode",{parentName:"p"},"WHERE")," clause applies to all the data after the subquery finishes."),(0,l.kt)("h2",{id:"settings-fallback_to_stale_replicas_for_distributed_queries"},"fallback_to_stale_replicas_for_distributed_queries"),(0,l.kt)("p",null,"Forces a query to an out-of-date replica if updated data is not available. See ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"Replication"),"."),(0,l.kt)("p",null,"ClickHouse selects the most relevant from the outdated replicas of the table."),(0,l.kt)("p",null,"Used when performing ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," from a distributed table that points to replicated tables."),(0,l.kt)("p",null,"By default, 1 (enabled)."),(0,l.kt)("h2",{id:"settings-force_index_by_date"},"force_index_by_date"),(0,l.kt)("p",null,"Disables query execution if the index can\u2019t be used by date."),(0,l.kt)("p",null,"Works with tables in the MergeTree family."),(0,l.kt)("p",null,"If ",(0,l.kt)("inlineCode",{parentName:"p"},"force_index_by_date=1"),", ClickHouse checks whether the query has a date key condition that can be used for restricting data ranges. If there is no suitable condition, it throws an exception. However, it does not check whether the condition reduces the amount of data to read. For example, the condition ",(0,l.kt)("inlineCode",{parentName:"p"},"Date != ' 2000-01-01 '")," is acceptable even when it matches all the data in the table (i.e., running the query requires a full scan). For more information about ranges of data in MergeTree tables, see ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree"),"."),(0,l.kt)("h2",{id:"force-primary-key"},"force_primary_key"),(0,l.kt)("p",null,"Disables query execution if indexing by the primary key is not possible."),(0,l.kt)("p",null,"Works with tables in the MergeTree family."),(0,l.kt)("p",null,"If ",(0,l.kt)("inlineCode",{parentName:"p"},"force_primary_key=1"),", ClickHouse checks to see if the query has a primary key condition that can be used for restricting data ranges. If there is no suitable condition, it throws an exception. However, it does not check whether the condition reduces the amount of data to read. For more information about data ranges in MergeTree tables, see ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree"),"."),(0,l.kt)("h2",{id:"settings-use_skip_indexes"},"use_skip_indexes"),(0,l.kt)("p",null,"Use data skipping indexes during query execution."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"settings-force_data_skipping_indices"},"force_data_skipping_indices"),(0,l.kt)("p",null,"Disables query execution if passed data skipping indices wasn't used."),(0,l.kt)("p",null,"Consider the following example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE data\n(\n    key Int,\n    d1 Int,\n    d1_null Nullable(Int),\n    INDEX d1_idx d1 TYPE minmax GRANULARITY 1,\n    INDEX d1_null_idx assumeNotNull(d1_null) TYPE minmax GRANULARITY 1\n)\nEngine=MergeTree()\nORDER BY key;\n\nSELECT * FROM data_01515;\nSELECT * FROM data_01515 SETTINGS force_data_skipping_indices=''; -- query will produce CANNOT_PARSE_TEXT error.\nSELECT * FROM data_01515 SETTINGS force_data_skipping_indices='d1_idx'; -- query will produce INDEX_NOT_USED error.\nSELECT * FROM data_01515 WHERE d1 = 0 SETTINGS force_data_skipping_indices='d1_idx'; -- Ok.\nSELECT * FROM data_01515 WHERE d1 = 0 SETTINGS force_data_skipping_indices='`d1_idx`'; -- Ok (example of full featured parser).\nSELECT * FROM data_01515 WHERE d1 = 0 SETTINGS force_data_skipping_indices='`d1_idx`, d1_null_idx'; -- query will produce INDEX_NOT_USED error, since d1_null_idx is not used.\nSELECT * FROM data_01515 WHERE d1 = 0 AND assumeNotNull(d1_null) = 0 SETTINGS force_data_skipping_indices='`d1_idx`, d1_null_idx'; -- Ok.\n")),(0,l.kt)("p",null,"Works with tables in the MergeTree family."),(0,l.kt)("h2",{id:"format-schema"},"format_schema"),(0,l.kt)("p",null,"This parameter is useful when you are using formats that require a schema definition, such as ",(0,l.kt)("a",{parentName:"p",href:"https://capnproto.org/"},"Cap\u2019n Proto")," or ",(0,l.kt)("a",{parentName:"p",href:"https://developers.google.com/protocol-buffers/"},"Protobuf"),". The value depends on the format."),(0,l.kt)("h2",{id:"fsync-metadata"},"fsync_metadata"),(0,l.kt)("p",null,"Enables or disables ",(0,l.kt)("a",{parentName:"p",href:"http://pubs.opengroup.org/onlinepubs/9699919799/functions/fsync.html"},"fsync")," when writing ",(0,l.kt)("inlineCode",{parentName:"p"},".sql")," files. Enabled by default."),(0,l.kt)("p",null,"It makes sense to disable it if the server has millions of tiny tables that are constantly being created and destroyed."),(0,l.kt)("h2",{id:"settings-function_range_max_elements_in_block"},"function_range_max_elements_in_block"),(0,l.kt)("p",null,"Sets the safety threshold for data volume generated by function ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/array-functions#range"},"range"),". Defines the maximum number of values generated by function per block of data (sum of array sizes for every row in a block)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"500,000,000"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#setting-max_block_size"},"max_block_size")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#min-insert-block-size-rows"},"min_insert_block_size_rows"))),(0,l.kt)("h2",{id:"settings-enable_http_compression"},"enable_http_compression"),(0,l.kt)("p",null,"Enables or disables data compression in the response to an HTTP request."),(0,l.kt)("p",null,"For more information, read the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/http"},"HTTP interface description"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"settings-http_zlib_compression_level"},"http_zlib_compression_level"),(0,l.kt)("p",null,"Sets the level of data compression in the response to an HTTP request if ",(0,l.kt)("a",{parentName:"p",href:"#settings-enable_http_compression"},"enable_http_compression = 1"),"."),(0,l.kt)("p",null,"Possible values: Numbers from 1 to 9."),(0,l.kt)("p",null,"Default value: 3."),(0,l.kt)("h2",{id:"settings-http_native_compression_disable_checksumming_on_decompress"},"http_native_compression_disable_checksumming_on_decompress"),(0,l.kt)("p",null,"Enables or disables checksum verification when decompressing the HTTP POST data from the client. Used only for ClickHouse native compression format (not used with ",(0,l.kt)("inlineCode",{parentName:"p"},"gzip")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"deflate"),")."),(0,l.kt)("p",null,"For more information, read the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/http"},"HTTP interface description"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"http-max-uri-size"},"http_max_uri_size"),(0,l.kt)("p",null,"Sets the maximum URI length of an HTTP request."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: 1048576."),(0,l.kt)("h2",{id:"table_function_remote_max_addresses"},"table_function_remote_max_addresses"),(0,l.kt)("p",null,"Sets the maximum number of addresses generated from patterns for the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/table-functions/remote"},"remote")," function."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1000"),"."),(0,l.kt)("h2",{id:"glob_expansion_max_elements--glob_expansion_max_elements-"},"glob_expansion_max_elements  {#glob_expansion_max_elements }"),(0,l.kt)("p",null,"Sets the maximum number of addresses generated from patterns for external storages and table functions (like ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/table-functions/url"},"url"),") except the ",(0,l.kt)("inlineCode",{parentName:"p"},"remote")," function."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1000"),"."),(0,l.kt)("h2",{id:"settings-send_progress_in_http_headers"},"send_progress_in_http_headers"),(0,l.kt)("p",null,"Enables or disables ",(0,l.kt)("inlineCode",{parentName:"p"},"X-ClickHouse-Progress")," HTTP response headers in ",(0,l.kt)("inlineCode",{parentName:"p"},"clickhouse-server")," responses."),(0,l.kt)("p",null,"For more information, read the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/http"},"HTTP interface description"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"setting-max_http_get_redirects"},"max_http_get_redirects"),(0,l.kt)("p",null,"Limits the maximum number of HTTP GET redirect hops for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/url"},"URL"),"-engine tables. The setting applies to both types of tables: those created by the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/table"},"CREATE TABLE")," query and by the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/table-functions/url"},"url")," table function."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer number of hops."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 No hops allowed.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"settings-input_format_allow_errors_num"},"input_format_allow_errors_num"),(0,l.kt)("p",null,"Sets the maximum number of acceptable errors when reading from text formats (CSV, TSV, etc.)."),(0,l.kt)("p",null,"The default value is 0."),(0,l.kt)("p",null,"Always pair it with ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_allow_errors_ratio"),"."),(0,l.kt)("p",null,"If an error occurred while reading rows but the error counter is still less than ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_allow_errors_num"),", ClickHouse ignores the row and moves on to the next one."),(0,l.kt)("p",null,"If both ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_allow_errors_num")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_allow_errors_ratio")," are exceeded, ClickHouse throws an exception."),(0,l.kt)("h2",{id:"settings-input_format_allow_errors_ratio"},"input_format_allow_errors_ratio"),(0,l.kt)("p",null,"Sets the maximum percentage of errors allowed when reading from text formats (CSV, TSV, etc.).\nThe percentage of errors is set as a floating-point number between 0 and 1."),(0,l.kt)("p",null,"The default value is 0."),(0,l.kt)("p",null,"Always pair it with ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_allow_errors_num"),"."),(0,l.kt)("p",null,"If an error occurred while reading rows but the error counter is still less than ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_allow_errors_ratio"),", ClickHouse ignores the row and moves on to the next one."),(0,l.kt)("p",null,"If both ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_allow_errors_num")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_allow_errors_ratio")," are exceeded, ClickHouse throws an exception."),(0,l.kt)("h2",{id:"input_format_parquet_import_nested"},"input_format_parquet_import_nested"),(0,l.kt)("p",null,"Enables or disables the ability to insert the data into ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/nested-data-structures/nested"},"Nested")," columns as an array of structs in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#data-format-parquet"},"Parquet")," input format."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Data can not be inserted into ",(0,l.kt)("inlineCode",{parentName:"li"},"Nested")," columns as an array of structs."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Data can be inserted into ",(0,l.kt)("inlineCode",{parentName:"li"},"Nested")," columns as an array of structs.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"input_format_arrow_import_nested"},"input_format_arrow_import_nested"),(0,l.kt)("p",null,"Enables or disables the ability to insert the data into ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/nested-data-structures/nested"},"Nested")," columns as an array of structs in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#data_types-matching-arrow"},"Arrow")," input format."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Data can not be inserted into ",(0,l.kt)("inlineCode",{parentName:"li"},"Nested")," columns as an array of structs."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Data can be inserted into ",(0,l.kt)("inlineCode",{parentName:"li"},"Nested")," columns as an array of structs.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"input_format_orc_import_nested"},"input_format_orc_import_nested"),(0,l.kt)("p",null,"Enables or disables the ability to insert the data into ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/nested-data-structures/nested"},"Nested")," columns as an array of structs in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#data-format-orc"},"ORC")," input format."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Data can not be inserted into ",(0,l.kt)("inlineCode",{parentName:"li"},"Nested")," columns as an array of structs."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Data can be inserted into ",(0,l.kt)("inlineCode",{parentName:"li"},"Nested")," columns as an array of structs.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"settings-input_format_values_interpret_expressions"},"input_format_values_interpret_expressions"),(0,l.kt)("p",null,"Enables or disables the full SQL parser if the fast stream parser can\u2019t parse the data. This setting is used only for the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#data-format-values"},"Values")," format at the data insertion. For more information about syntax parsing, see the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/syntax"},"Syntax")," section."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"0 \u2014 Disabled."),(0,l.kt)("p",{parentName:"li"},"In this case, you must provide formatted data. See the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats"},"Formats")," section.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"1 \u2014 Enabled."),(0,l.kt)("p",{parentName:"li"},"In this case, you can use an SQL expression as a value, but data insertion is much slower this way. If you insert only formatted data, then ClickHouse behaves as if the setting value is 0."))),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("p",null,"Example of Use"),(0,l.kt)("p",null,"Insert the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/datetime"},"DateTime")," type value with the different settings."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET input_format_values_interpret_expressions = 0;\nINSERT INTO datetime_t VALUES (now())\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Exception on client:\nCode: 27. DB::Exception: Cannot parse input: expected ) before: now()): (at row 1)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET input_format_values_interpret_expressions = 1;\nINSERT INTO datetime_t VALUES (now())\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Ok.\n")),(0,l.kt)("p",null,"The last query is equivalent to the following:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET input_format_values_interpret_expressions = 0;\nINSERT INTO datetime_t SELECT now()\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Ok.\n")),(0,l.kt)("h2",{id:"settings-input_format_values_deduce_templates_of_expressions"},"input_format_values_deduce_templates_of_expressions"),(0,l.kt)("p",null,"Enables or disables template deduction for SQL expressions in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#data-format-values"},"Values")," format. It allows parsing and interpreting expressions in ",(0,l.kt)("inlineCode",{parentName:"p"},"Values")," much faster if expressions in consecutive rows have the same structure. ClickHouse tries to deduce the template of an expression, parse the following rows using this template and evaluate the expression on a batch of successfully parsed rows."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("p",null,"For the following query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO test VALUES (lower('Hello')), (lower('world')), (lower('INSERT')), (upper('Values')), ...\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"If ",(0,l.kt)("inlineCode",{parentName:"li"},"input_format_values_interpret_expressions=1")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"format_values_deduce_templates_of_expressions=0"),", expressions are interpreted separately for each row (this is very slow for large number of rows)."),(0,l.kt)("li",{parentName:"ul"},"If ",(0,l.kt)("inlineCode",{parentName:"li"},"input_format_values_interpret_expressions=0")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"format_values_deduce_templates_of_expressions=1"),", expressions in the first, second and third rows are parsed using template ",(0,l.kt)("inlineCode",{parentName:"li"},"lower(String)")," and interpreted together, expression in the forth row is parsed with another template (",(0,l.kt)("inlineCode",{parentName:"li"},"upper(String)"),")."),(0,l.kt)("li",{parentName:"ul"},"If ",(0,l.kt)("inlineCode",{parentName:"li"},"input_format_values_interpret_expressions=1")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"format_values_deduce_templates_of_expressions=1"),", the same as in previous case, but also allows fallback to interpreting expressions separately if it\u2019s not possible to deduce template.")),(0,l.kt)("h2",{id:"settings-input-format-values-accurate-types-of-literals"},"input_format_values_accurate_types_of_literals"),(0,l.kt)("p",null,"This setting is used only when ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_values_deduce_templates_of_expressions = 1"),". Expressions for some column may have the same structure, but contain numeric literals of different types, e.g."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"(..., abs(0), ...),             -- UInt64 literal\n(..., abs(3.141592654), ...),   -- Float64 literal\n(..., abs(-1), ...),            -- Int64 literal\n")),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"0 \u2014 Disabled."),(0,l.kt)("p",{parentName:"li"},"In this case, ClickHouse may use a more general type for some literals (e.g.,\xa0",(0,l.kt)("inlineCode",{parentName:"p"},"Float64")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"Int64")," instead of ",(0,l.kt)("inlineCode",{parentName:"p"},"UInt64")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"42"),"), but it may cause overflow and precision issues.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"1 \u2014 Enabled."),(0,l.kt)("p",{parentName:"li"},"In this case, ClickHouse checks the actual type of literal and uses an expression template of the corresponding type. In some cases, it may significantly slow down expression evaluation in ",(0,l.kt)("inlineCode",{parentName:"p"},"Values"),"."))),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"session_settings-input_format_defaults_for_omitted_fields"},"input_format_defaults_for_omitted_fields"),(0,l.kt)("p",null,"When performing ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," queries, replace omitted input column values with default values of the respective columns. This option only applies to ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#jsoneachrow"},"JSONEachRow"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#csv"},"CSV"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#tabseparated"},"TabSeparated")," formats and formats with ",(0,l.kt)("inlineCode",{parentName:"p"},"WithNames"),"/",(0,l.kt)("inlineCode",{parentName:"p"},"WithNamesAndTypes")," suffixes."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"When this option is enabled, extended table metadata are sent from server to client. It consumes additional computing resources on the server and can reduce performance."))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"settings-input-format-tsv-empty-as-default"},"input_format_tsv_empty_as_default"),(0,l.kt)("p",null,"When enabled, replace empty input fields in TSV with default values. For complex default expressions ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_defaults_for_omitted_fields")," must be enabled too."),(0,l.kt)("p",null,"Disabled by default."),(0,l.kt)("h2",{id:"settings-input-format-csv-empty-as-default"},"input_format_csv_empty_as_default"),(0,l.kt)("p",null,"When enabled, replace empty input fields in CSV with default values. For complex default expressions ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_defaults_for_omitted_fields")," must be enabled too."),(0,l.kt)("p",null,"Enabled by default."),(0,l.kt)("h2",{id:"settings-input_format_tsv_enum_as_number"},"input_format_tsv_enum_as_number"),(0,l.kt)("p",null,"When enabled, always treat enum values as enum ids for TSV input format. It's recommended to enable this setting if data contains only enum ids to optimize enum parsing."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Enum values are parsed as values or as enum IDs."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enum values are parsed only as enum IDs.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Consider the table:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE table_with_enum_column_for_tsv_insert (Id Int32,Value Enum('first' = 1, 'second' = 2)) ENGINE=Memory();\n")),(0,l.kt)("p",null,"When the ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_tsv_enum_as_number")," setting is enabled:"),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET input_format_tsv_enum_as_number = 1;\nINSERT INTO table_with_enum_column_for_tsv_insert FORMAT TSV 102    2;\nSELECT * FROM table_with_enum_column_for_tsv_insert;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500Id\u2500\u252c\u2500Value\u2500\u2500\u2510\n\u2502 102 \u2502 second \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET input_format_tsv_enum_as_number = 1;\nINSERT INTO table_with_enum_column_for_tsv_insert FORMAT TSV 103    'first';\n")),(0,l.kt)("p",null,"throws an exception."),(0,l.kt)("p",null,"When the ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_tsv_enum_as_number")," setting is disabled:"),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET input_format_tsv_enum_as_number = 0;\nINSERT INTO table_with_enum_column_for_tsv_insert FORMAT TSV 102    2;\nINSERT INTO table_with_enum_column_for_tsv_insert FORMAT TSV 103    'first';\nSELECT * FROM table_with_enum_column_for_tsv_insert;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500Id\u2500\u252c\u2500Value\u2500\u2500\u2510\n\u2502 102 \u2502 second \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500\u2500Id\u2500\u252c\u2500Value\u2500\u2500\u2510\n\u2502 103 \u2502 first  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"settings-input-format-null-as-default"},"input_format_null_as_default"),(0,l.kt)("p",null,"Enables or disables the initialization of ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/syntax#null-literal"},"NULL")," fields with ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/table#create-default-values"},"default values"),", if data type of these fields is not ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/nullable#data_type-nullable"},"nullable"),".\nIf column type is not nullable and this setting is disabled, then inserting ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL")," causes an exception. If column type is nullable, then ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL")," values are inserted as is, regardless of this setting."),(0,l.kt)("p",null,"This setting is applicable to ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/insert-into"},"INSERT ... VALUES")," queries for text input formats."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Inserting ",(0,l.kt)("inlineCode",{parentName:"li"},"NULL")," into a not nullable column causes an exception."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"NULL")," fields are initialized with default column values.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"insert_null_as_default"},"insert_null_as_default"),(0,l.kt)("p",null,"Enables or disables the insertion of ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/table#create-default-values"},"default values")," instead of ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/syntax#null-literal"},"NULL")," into columns with not ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/nullable#data_type-nullable"},"nullable")," data type.\nIf column type is not nullable and this setting is disabled, then inserting ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL")," causes an exception. If column type is nullable, then ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL")," values are inserted as is, regardless of this setting."),(0,l.kt)("p",null,"This setting is applicable to ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/insert-into#insert_query_insert-select"},"INSERT ... SELECT")," queries. Note that ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," subqueries may be concatenated with ",(0,l.kt)("inlineCode",{parentName:"p"},"UNION ALL")," clause."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Inserting ",(0,l.kt)("inlineCode",{parentName:"li"},"NULL")," into a not nullable column causes an exception."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Default column value is inserted instead of ",(0,l.kt)("inlineCode",{parentName:"li"},"NULL"),".")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"settings-input-format-skip-unknown-fields"},"input_format_skip_unknown_fields"),(0,l.kt)("p",null,"Enables or disables skipping insertion of extra data."),(0,l.kt)("p",null,"When writing data, ClickHouse throws an exception if input data contain columns that do not exist in the target table. If skipping is enabled, ClickHouse does not insert extra data and does not throw an exception."),(0,l.kt)("p",null,"Supported formats:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoneachrow"},"JSONEachRow")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#csvwithnames"},"CSVWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#tabseparatedwithnames"},"TabSeparatedWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#tskv"},"TSKV"))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"settings-input_format_import_nested_json"},"input_format_import_nested_json"),(0,l.kt)("p",null,"Enables or disables the insertion of JSON data with nested objects."),(0,l.kt)("p",null,"Supported formats:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoneachrow"},"JSONEachRow"))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoneachrow-nested"},"Usage of Nested Structures")," with the ",(0,l.kt)("inlineCode",{parentName:"li"},"JSONEachRow")," format.")),(0,l.kt)("h2",{id:"settings-input-format-with-names-use-header"},"input_format_with_names_use_header"),(0,l.kt)("p",null,"Enables or disables checking the column order when inserting data."),(0,l.kt)("p",null,"To improve insert performance, we recommend disabling this check if you are sure that the column order of the input data is the same as in the target table."),(0,l.kt)("p",null,"Supported formats:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#csvwithnames"},"CSVWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#csvwithnamesandtypes"},"CSVWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#tabseparatedwithnames"},"TabSeparatedWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#tabseparatedwithnamesandtypes"},"TabSeparatedWithNamesAndTypes")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoncompacteachrowwithnames"},"JSONCompactEachRowWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoncompacteachrowwithnamesandtypes"},"JSONCompactEachRowWithNamesAndTypes")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoncompactstringseachrowwithnames"},"JSONCompactStringsEachRowWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoncompactstringseachrowwithnamesandtypes"},"JSONCompactStringsEachRowWithNamesAndTypes")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#rowbinarywithnames-rowbinarywithnames"},"RowBinaryWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#rowbinarywithnamesandtypes-rowbinarywithnamesandtypes"},"RowBinaryWithNamesAndTypes"))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"settings-input-format-with-types-use-header"},"input_format_with_types_use_header"),(0,l.kt)("p",null,"Controls whether format parser should check if data types from the input data match data types from the target table."),(0,l.kt)("p",null,"Supported formats:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#csvwithnames"},"CSVWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#csvwithnamesandtypes"},"CSVWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#tabseparatedwithnames"},"TabSeparatedWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#tabseparatedwithnamesandtypes"},"TabSeparatedWithNamesAndTypes")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoncompacteachrowwithnames"},"JSONCompactEachRowWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoncompacteachrowwithnamesandtypes"},"JSONCompactEachRowWithNamesAndTypes")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoncompactstringseachrowwithnames"},"JSONCompactStringsEachRowWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoncompactstringseachrowwithnamesandtypes"},"JSONCompactStringsEachRowWithNamesAndTypes")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#rowbinarywithnames-rowbinarywithnames"},"RowBinaryWithNames")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#rowbinarywithnamesandtypes-rowbinarywithnamesandtypes"},"RowBinaryWithNamesAndTypes"))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"settings-date_time_input_format"},"date_time_input_format"),(0,l.kt)("p",null,"Allows choosing a parser of the text representation of date and time."),(0,l.kt)("p",null,"The setting does not apply to ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/date-time-functions"},"date and time functions"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"'best_effort'")," \u2014 Enables extended parsing."),(0,l.kt)("p",{parentName:"li"},"ClickHouse can parse the basic ",(0,l.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DD HH:MM:SS")," format and all ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/ISO_8601"},"ISO 8601")," date and time formats. For example, ",(0,l.kt)("inlineCode",{parentName:"p"},"'2018-06-08T01:02:03.000Z'"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"'basic'")," \u2014 Use basic parser."),(0,l.kt)("p",{parentName:"li"},"ClickHouse can parse only the basic ",(0,l.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DD HH:MM:SS")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DD")," format. For example, ",(0,l.kt)("inlineCode",{parentName:"p"},"2019-08-20 10:18:56")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"2019-08-20"),"."))),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"'basic'"),"."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/datetime"},"DateTime data type.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/functions/date-time-functions"},"Functions for working with dates and times."))),(0,l.kt)("h2",{id:"settings-date_time_output_format"},"date_time_output_format"),(0,l.kt)("p",null,"Allows choosing different output formats of the text representation of date and time."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"simple")," - Simple output format."),(0,l.kt)("p",{parentName:"li"},"ClickHouse output date and time ",(0,l.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DD hh:mm:ss")," format. For example, ",(0,l.kt)("inlineCode",{parentName:"p"},"2019-08-20 10:18:56"),". The calculation is performed according to the data type's time zone (if present) or server time zone.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"iso")," - ISO output format."),(0,l.kt)("p",{parentName:"li"},"ClickHouse output date and time in ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/ISO_8601"},"ISO 8601")," ",(0,l.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DDThh:mm:ssZ")," format. For example, ",(0,l.kt)("inlineCode",{parentName:"p"},"2019-08-20T10:18:56Z"),". Note that output is in UTC (",(0,l.kt)("inlineCode",{parentName:"p"},"Z")," means UTC).")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"unix_timestamp")," - Unix timestamp output format."),(0,l.kt)("p",{parentName:"li"},"ClickHouse output date and time in ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Unix_time"},"Unix timestamp")," format. For example ",(0,l.kt)("inlineCode",{parentName:"p"},"1566285536"),"."))),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"simple"),"."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/datetime"},"DateTime data type.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/functions/date-time-functions"},"Functions for working with dates and times."))),(0,l.kt)("h2",{id:"settings-join_default_strictness"},"join_default_strictness"),(0,l.kt)("p",null,"Sets default strictness for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/join#select-join"},"JOIN clauses"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ALL")," \u2014 If the right table has several matching rows, ClickHouse creates a ",(0,l.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Cartesian_product"},"Cartesian product")," from matching rows. This is the normal ",(0,l.kt)("inlineCode",{parentName:"li"},"JOIN")," behaviour from standard SQL."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ANY")," \u2014 If the right table has several matching rows, only the first one found is joined. If the right table has only one matching row, the results of ",(0,l.kt)("inlineCode",{parentName:"li"},"ANY")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"ALL")," are the same."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ASOF")," \u2014 For joining sequences with an uncertain match."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Empty string")," \u2014 If ",(0,l.kt)("inlineCode",{parentName:"li"},"ALL")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"ANY")," is not specified in the query, ClickHouse throws an exception.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"ALL"),"."),(0,l.kt)("h2",{id:"settings-join_algorithm"},"join_algorithm"),(0,l.kt)("p",null,"Specifies ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/join"},"JOIN")," algorithm."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"hash")," \u2014 ",(0,l.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Hash_join"},"Hash join algorithm")," is used."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"partial_merge")," \u2014 ",(0,l.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Sort-merge_join"},"Sort-merge algorithm")," is used."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"prefer_partial_merge")," \u2014 ClickHouse always tries to use ",(0,l.kt)("inlineCode",{parentName:"li"},"merge")," join if possible."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"auto")," \u2014 ClickHouse tries to change ",(0,l.kt)("inlineCode",{parentName:"li"},"hash")," join to ",(0,l.kt)("inlineCode",{parentName:"li"},"merge")," join on the fly to avoid out of memory.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"hash"),"."),(0,l.kt)("p",null,"When using ",(0,l.kt)("inlineCode",{parentName:"p"},"hash")," algorithm the right part of ",(0,l.kt)("inlineCode",{parentName:"p"},"JOIN")," is uploaded into RAM."),(0,l.kt)("p",null,"When using ",(0,l.kt)("inlineCode",{parentName:"p"},"partial_merge")," algorithm ClickHouse sorts the data and dumps it to the disk. The ",(0,l.kt)("inlineCode",{parentName:"p"},"merge")," algorithm in ClickHouse differs a bit from the classic realization. First ClickHouse sorts the right table by ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/join#select-join"},"join key")," in blocks and creates min-max index for sorted blocks. Then it sorts parts of left table by ",(0,l.kt)("inlineCode",{parentName:"p"},"join key")," and joins them over right table. The min-max index is also used to skip unneeded right table blocks."),(0,l.kt)("h2",{id:"settings-join_any_take_last_row"},"join_any_take_last_row"),(0,l.kt)("p",null,"Changes behaviour of join operations with ",(0,l.kt)("inlineCode",{parentName:"p"},"ANY")," strictness."),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"This setting applies only for ",(0,l.kt)("inlineCode",{parentName:"p"},"JOIN")," operations with ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/join"},"Join")," engine tables."))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 If the right table has more than one matching row, only the first one found is joined."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 If the right table has more than one matching row, only the last one found is joined.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/statements/select/join#select-join"},"JOIN clause")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/special/join"},"Join table engine")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-join_default_strictness"},"join_default_strictness"))),(0,l.kt)("h2",{id:"join_use_nulls"},"join_use_nulls"),(0,l.kt)("p",null,"Sets the type of ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/join"},"JOIN")," behaviour. When merging tables, empty cells may appear. ClickHouse fills them differently based on this setting."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The empty cells are filled with the default value of the corresponding field type."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"JOIN")," behaves the same way as in standard SQL. The type of the corresponding field is converted to ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/nullable#data_type-nullable"},"Nullable"),", and empty cells are filled with ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/syntax"},"NULL"),".")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"partial_merge_join_optimizations"},"partial_merge_join_optimizations"),(0,l.kt)("p",null,"Disables optimizations in partial merge join algorithm for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/join"},"JOIN")," queries."),(0,l.kt)("p",null,"By default, this setting enables improvements that could lead to wrong results. If you see suspicious results in your queries, disable optimizations by this setting. Optimizations can be different in different versions of the ClickHouse server."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Optimizations disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Optimizations enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"partial_merge_join_rows_in_right_blocks"},"partial_merge_join_rows_in_right_blocks"),(0,l.kt)("p",null,"Limits sizes of right-hand join data blocks in partial merge join algorithm for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/join"},"JOIN")," queries."),(0,l.kt)("p",null,"ClickHouse server:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Splits right-hand join data into blocks with up to the specified number of rows."),(0,l.kt)("li",{parentName:"ol"},"Indexes each block with its minimum and maximum values."),(0,l.kt)("li",{parentName:"ol"},"Unloads prepared blocks to disk if it is possible.")),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer. Recommended range of values: ","[","1000, 100000","]",".")),(0,l.kt)("p",null,"Default value: 65536."),(0,l.kt)("h2",{id:"join_on_disk_max_files_to_merge"},"join_on_disk_max_files_to_merge"),(0,l.kt)("p",null,"Limits the number of files allowed for parallel sorting in MergeJoin operations when they are executed on disk."),(0,l.kt)("p",null,"The bigger the value of the setting, the more RAM used and the less disk I/O needed."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer, starting from 2.")),(0,l.kt)("p",null,"Default value: 64."),(0,l.kt)("h2",{id:"any_join_distinct_right_table_keys"},"any_join_distinct_right_table_keys"),(0,l.kt)("p",null,"Enables legacy ClickHouse server behaviour in ",(0,l.kt)("inlineCode",{parentName:"p"},"ANY INNER|LEFT JOIN")," operations."),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Use this setting only for backward compatibility if your use cases depend on legacy ",(0,l.kt)("inlineCode",{parentName:"p"},"JOIN")," behaviour."))),(0,l.kt)("p",null,"When the legacy behaviour enabled:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Results of ",(0,l.kt)("inlineCode",{parentName:"li"},"t1 ANY LEFT JOIN t2")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"t2 ANY RIGHT JOIN t1")," operations are not equal because ClickHouse uses the logic with many-to-one left-to-right table keys mapping."),(0,l.kt)("li",{parentName:"ul"},"Results of ",(0,l.kt)("inlineCode",{parentName:"li"},"ANY INNER JOIN")," operations contain all rows from the left table like the ",(0,l.kt)("inlineCode",{parentName:"li"},"SEMI LEFT JOIN")," operations do.")),(0,l.kt)("p",null,"When the legacy behaviour disabled:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Results of ",(0,l.kt)("inlineCode",{parentName:"li"},"t1 ANY LEFT JOIN t2")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"t2 ANY RIGHT JOIN t1")," operations are equal because ClickHouse uses the logic which provides one-to-many keys mapping in ",(0,l.kt)("inlineCode",{parentName:"li"},"ANY RIGHT JOIN")," operations."),(0,l.kt)("li",{parentName:"ul"},"Results of ",(0,l.kt)("inlineCode",{parentName:"li"},"ANY INNER JOIN")," operations contain one row per key from both the left and right tables.")),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Legacy behaviour is disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Legacy behaviour is enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/statements/select/join#join-settings"},"JOIN strictness"))),(0,l.kt)("h2",{id:"temporary_files_codec"},"temporary_files_codec"),(0,l.kt)("p",null,"Sets compression codec for temporary files used in sorting and joining operations on disk."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"LZ4 \u2014 ",(0,l.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/LZ4_(compression_algorithm)"},"LZ4")," compression is applied."),(0,l.kt)("li",{parentName:"ul"},"NONE \u2014 No compression is applied.")),(0,l.kt)("p",null,"Default value: LZ4."),(0,l.kt)("h2",{id:"setting-max_block_size"},"max_block_size"),(0,l.kt)("p",null,"In ClickHouse, data is processed by blocks (sets of column parts). The internal processing cycles for a single block are efficient enough, but there are noticeable expenditures on each block. The ",(0,l.kt)("inlineCode",{parentName:"p"},"max_block_size")," setting is a recommendation for what size of the block (in a count of rows) to load from tables. The block size shouldn\u2019t be too small, so that the expenditures on each block are still noticeable, but not too large so that the query with LIMIT that is completed after the first block is processed quickly. The goal is to avoid consuming too much memory when extracting a large number of columns in multiple threads and to preserve at least some cache locality."),(0,l.kt)("p",null,"Default value: 65,536."),(0,l.kt)("p",null,"Blocks the size of ",(0,l.kt)("inlineCode",{parentName:"p"},"max_block_size")," are not always loaded from the table. If it is obvious that less data needs to be retrieved, a smaller block is processed."),(0,l.kt)("h2",{id:"preferred-block-size-bytes"},"preferred_block_size_bytes"),(0,l.kt)("p",null,"Used for the same purpose as ",(0,l.kt)("inlineCode",{parentName:"p"},"max_block_size"),", but it sets the recommended block size in bytes by adapting it to the number of rows in the block.\nHowever, the block size cannot be more than ",(0,l.kt)("inlineCode",{parentName:"p"},"max_block_size")," rows.\nBy default: 1,000,000. It only works when reading from MergeTree engines."),(0,l.kt)("h2",{id:"setting-merge-tree-min-rows-for-concurrent-read"},"merge_tree_min_rows_for_concurrent_read"),(0,l.kt)("p",null,"If the number of rows to be read from a file of a ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree")," table exceeds ",(0,l.kt)("inlineCode",{parentName:"p"},"merge_tree_min_rows_for_concurrent_read")," then ClickHouse tries to perform a concurrent reading from this file on several threads."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"163840"),"."),(0,l.kt)("h2",{id:"merge-tree-min-rows-for-concurrent-read-for-remote-filesystem"},"merge_tree_min_rows_for_concurrent_read_for_remote_filesystem"),(0,l.kt)("p",null,"The minimum number of lines to read from one file before ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree")," engine can parallelize reading, when reading from remote filesystem."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"163840"),"."),(0,l.kt)("h2",{id:"setting-merge-tree-min-bytes-for-concurrent-read"},"merge_tree_min_bytes_for_concurrent_read"),(0,l.kt)("p",null,"If the number of bytes to read from one file of a ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree"),"-engine table exceeds ",(0,l.kt)("inlineCode",{parentName:"p"},"merge_tree_min_bytes_for_concurrent_read"),", then ClickHouse tries to concurrently read from this file in several threads."),(0,l.kt)("p",null,"Possible value:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"251658240"),"."),(0,l.kt)("h2",{id:"merge-tree-min-bytes-for-concurrent-read-for-remote-filesystem"},"merge_tree_min_bytes_for_concurrent_read_for_remote_filesystem"),(0,l.kt)("p",null,"The minimum number of bytes to read from one file before ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree")," engine can parallelize reading, when reading from remote filesystem."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"251658240"),"."),(0,l.kt)("h2",{id:"setting-merge-tree-min-rows-for-seek"},"merge_tree_min_rows_for_seek"),(0,l.kt)("p",null,"If the distance between two data blocks to be read in one file is less than ",(0,l.kt)("inlineCode",{parentName:"p"},"merge_tree_min_rows_for_seek")," rows, then ClickHouse does not seek through the file but reads the data sequentially."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"setting-merge-tree-min-bytes-for-seek"},"merge_tree_min_bytes_for_seek"),(0,l.kt)("p",null,"If the distance between two data blocks to be read in one file is less than ",(0,l.kt)("inlineCode",{parentName:"p"},"merge_tree_min_bytes_for_seek")," bytes, then ClickHouse sequentially reads a range of file that contains both blocks, thus avoiding extra seek."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"setting-merge-tree-coarse-index-granularity"},"merge_tree_coarse_index_granularity"),(0,l.kt)("p",null,"When searching for data, ClickHouse checks the data marks in the index file. If ClickHouse finds that required keys are in some range, it divides this range into ",(0,l.kt)("inlineCode",{parentName:"p"},"merge_tree_coarse_index_granularity")," subranges and searches the required keys there recursively."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive even integer.")),(0,l.kt)("p",null,"Default value: 8."),(0,l.kt)("h2",{id:"setting-merge-tree-max-rows-to-use-cache"},"merge_tree_max_rows_to_use_cache"),(0,l.kt)("p",null,"If ClickHouse should read more than ",(0,l.kt)("inlineCode",{parentName:"p"},"merge_tree_max_rows_to_use_cache")," rows in one query, it does not use the cache of uncompressed blocks."),(0,l.kt)("p",null,"The cache of uncompressed blocks stores data extracted for queries. ClickHouse uses this cache to speed up responses to repeated small queries. This setting protects the cache from trashing by queries that read a large amount of data. The ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/server-configuration-parameters/settings#server-settings-uncompressed_cache_size"},"uncompressed_cache_size")," server setting defines the size of the cache of uncompressed blocks."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 128 \u2715 8192."),(0,l.kt)("h2",{id:"setting-merge-tree-max-bytes-to-use-cache"},"merge_tree_max_bytes_to_use_cache"),(0,l.kt)("p",null,"If ClickHouse should read more than ",(0,l.kt)("inlineCode",{parentName:"p"},"merge_tree_max_bytes_to_use_cache")," bytes in one query, it does not use the cache of uncompressed blocks."),(0,l.kt)("p",null,"The cache of uncompressed blocks stores data extracted for queries. ClickHouse uses this cache to speed up responses to repeated small queries. This setting protects the cache from trashing by queries that read a large amount of data. The ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/server-configuration-parameters/settings#server-settings-uncompressed_cache_size"},"uncompressed_cache_size")," server setting defines the size of the cache of uncompressed blocks."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 2013265920."),(0,l.kt)("h2",{id:"settings-min-bytes-to-use-direct-io"},"min_bytes_to_use_direct_io"),(0,l.kt)("p",null,"The minimum data volume required for using direct I/O access to the storage disk."),(0,l.kt)("p",null,"ClickHouse uses this setting when reading data from tables. If the total storage volume of all the data to be read exceeds ",(0,l.kt)("inlineCode",{parentName:"p"},"min_bytes_to_use_direct_io")," bytes, then ClickHouse reads the data from the storage disk with the ",(0,l.kt)("inlineCode",{parentName:"p"},"O_DIRECT")," option."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Direct I/O is disabled."),(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"network_compression_method"},"network_compression_method"),(0,l.kt)("p",null,"Sets the method of data compression that is used for communication between servers and between server and ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/cli"},"clickhouse-client"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"LZ4")," \u2014 sets LZ4 compression method."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ZSTD")," \u2014 sets ZSTD compression method.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"LZ4"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#network_zstd_compression_level"},"network_zstd_compression_level"))),(0,l.kt)("h2",{id:"network_zstd_compression_level"},"network_zstd_compression_level"),(0,l.kt)("p",null,"Adjusts the level of ZSTD compression. Used only when ",(0,l.kt)("a",{parentName:"p",href:"#network_compression_method"},"network_compression_method")," is set to ",(0,l.kt)("inlineCode",{parentName:"p"},"ZSTD"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer from 1 to 15.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"settings-log-queries"},"log_queries"),(0,l.kt)("p",null,"Setting up query logging."),(0,l.kt)("p",null,"Queries sent to ClickHouse with this setup are logged according to the rules in the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/server-configuration-parameters/settings#server_configuration_parameters-query-log"},"query_log")," server configuration parameter."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"log_queries=1\n")),(0,l.kt)("h2",{id:"settings-log-queries-min-query-duration-ms"},"log_queries_min_query_duration_ms"),(0,l.kt)("p",null,"If enabled (non-zero), queries faster then the value of this setting will not be logged (you can think about this as a ",(0,l.kt)("inlineCode",{parentName:"p"},"long_query_time")," for ",(0,l.kt)("a",{parentName:"p",href:"https://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html"},"MySQL Slow Query Log"),"), and this basically means that you will not find them in the following tables:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"system.query_log")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"system.query_thread_log"))),(0,l.kt)("p",null,"Only the queries with the following type will get to the log:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"QUERY_FINISH"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"EXCEPTION_WHILE_PROCESSING"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Type: milliseconds")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Default value: 0 (any query)"))),(0,l.kt)("h2",{id:"settings-log-queries-min-type"},"log_queries_min_type"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"query_log")," minimal type to log."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"QUERY_START")," (",(0,l.kt)("inlineCode",{parentName:"li"},"=1"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"QUERY_FINISH")," (",(0,l.kt)("inlineCode",{parentName:"li"},"=2"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"EXCEPTION_BEFORE_START")," (",(0,l.kt)("inlineCode",{parentName:"li"},"=3"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"EXCEPTION_WHILE_PROCESSING")," (",(0,l.kt)("inlineCode",{parentName:"li"},"=4"),")")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"QUERY_START"),"."),(0,l.kt)("p",null,"Can be used to limit which entities will go to ",(0,l.kt)("inlineCode",{parentName:"p"},"query_log"),", say you are interested only in errors, then you can use ",(0,l.kt)("inlineCode",{parentName:"p"},"EXCEPTION_WHILE_PROCESSING"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"log_queries_min_type='EXCEPTION_WHILE_PROCESSING'\n")),(0,l.kt)("h2",{id:"settings-log-query-threads"},"log_query_threads"),(0,l.kt)("p",null,"Setting up query threads logging."),(0,l.kt)("p",null,"Query threads log into ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/system-tables/query_thread_log"},"system.query_thread_log")," table. This setting have effect only when ",(0,l.kt)("a",{parentName:"p",href:"#settings-log-queries"},"log_queries")," is true. Queries\u2019 threads run by ClickHouse with this setup are logged according to the rules in the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/server-configuration-parameters/settings#server_configuration_parameters-query_thread_log"},"query_thread_log")," server configuration parameter."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"log_query_threads=1\n")),(0,l.kt)("h2",{id:"settings-log-query-views"},"log_query_views"),(0,l.kt)("p",null,"Setting up query views logging."),(0,l.kt)("p",null,"When a query run by ClickHouse with this setup on has associated views (materialized or live views), they are logged in the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/server-configuration-parameters/settings#server_configuration_parameters-query_views_log"},"query_views_log")," server configuration parameter."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"log_query_views=1\n")),(0,l.kt)("h2",{id:"settings-log-formatted-queries"},"log_formatted_queries"),(0,l.kt)("p",null,"Allows to log formatted queries to the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/system-tables/query_log"},"system.query_log")," system table."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Formatted queries are not logged in the system table."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Formatted queries are logged in the system table.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"settings-log-comment"},"log_comment"),(0,l.kt)("p",null,"Specifies the value for the ",(0,l.kt)("inlineCode",{parentName:"p"},"log_comment")," field of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/system-tables/query_log"},"system.query_log")," table and comment text for the server log."),(0,l.kt)("p",null,"It can be used to improve the readability of server logs. Additionally, it helps to select queries related to the test from the ",(0,l.kt)("inlineCode",{parentName:"p"},"system.query_log")," after running ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/development/tests"},"clickhouse-test"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any string no longer than ",(0,l.kt)("a",{parentName:"li",href:"#settings-max_query_size"},"max_query_size"),". If length is exceeded, the server throws an exception.")),(0,l.kt)("p",null,"Default value: empty string."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET log_comment = 'log_comment test', log_queries = 1;\nSELECT 1;\nSYSTEM FLUSH LOGS;\nSELECT type, query FROM system.query_log WHERE log_comment = 'log_comment test' AND event_date >= yesterday() ORDER BY event_time DESC LIMIT 2;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500type\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500query\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 QueryStart  \u2502 SELECT 1; \u2502\n\u2502 QueryFinish \u2502 SELECT 1; \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"settings-max_insert_block_size"},"max_insert_block_size"),(0,l.kt)("p",null,"The size of blocks (in a count of rows) to form for insertion into a table.\nThis setting only applies in cases when the server forms the blocks.\nFor example, for an INSERT via the HTTP interface, the server parses the data format and forms blocks of the specified size.\nBut when using clickhouse-client, the client parses the data itself, and the \u2018max_insert_block_size\u2019 setting on the server does not affect the size of the inserted blocks.\nThe setting also does not have a purpose when using INSERT SELECT, since data is inserted using the same blocks that are formed after SELECT."),(0,l.kt)("p",null,"Default value: 1,048,576."),(0,l.kt)("p",null,"The default is slightly more than ",(0,l.kt)("inlineCode",{parentName:"p"},"max_block_size"),". The reason for this is because certain table engines (",(0,l.kt)("inlineCode",{parentName:"p"},"*MergeTree"),") form a data part on the disk for each inserted block, which is a fairly large entity. Similarly, ",(0,l.kt)("inlineCode",{parentName:"p"},"*MergeTree")," tables sort data during insertion, and a large enough block size allow sorting more data in RAM."),(0,l.kt)("h2",{id:"min-insert-block-size-rows"},"min_insert_block_size_rows"),(0,l.kt)("p",null,"Sets the minimum number of rows in the block which can be inserted into a table by an ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," query. Smaller-sized blocks are squashed into bigger ones."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Squashing disabled.")),(0,l.kt)("p",null,"Default value: 1048576."),(0,l.kt)("h2",{id:"min-insert-block-size-bytes"},"min_insert_block_size_bytes"),(0,l.kt)("p",null,"Sets the minimum number of bytes in the block which can be inserted into a table by an ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," query. Smaller-sized blocks are squashed into bigger ones."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Squashing disabled.")),(0,l.kt)("p",null,"Default value: 268435456."),(0,l.kt)("h2",{id:"settings-max_replica_delay_for_distributed_queries"},"max_replica_delay_for_distributed_queries"),(0,l.kt)("p",null,"Disables lagging replicas for distributed queries. See ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"Replication"),"."),(0,l.kt)("p",null,"Sets the time in seconds. If a replica lags more than the set value, this replica is not used."),(0,l.kt)("p",null,"Default value: 300."),(0,l.kt)("p",null,"Used when performing ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," from a distributed table that points to replicated tables."),(0,l.kt)("h2",{id:"settings-max_threads"},"max_threads"),(0,l.kt)("p",null,"The maximum number of query processing threads, excluding threads for retrieving data from remote servers (see the \u2018max_distributed_connections\u2019 parameter)."),(0,l.kt)("p",null,"This parameter applies to threads that perform the same stages of the query processing pipeline in parallel.\nFor example, when reading from a table, if it is possible to evaluate expressions with functions, filter with WHERE and pre-aggregate for GROUP BY in parallel using at least \u2018max_threads\u2019 number of threads, then \u2018max_threads\u2019 are used."),(0,l.kt)("p",null,"Default value: the number of physical CPU cores."),(0,l.kt)("p",null,"For queries that are completed quickly because of a LIMIT, you can set a lower \u2018max_threads\u2019. For example, if the necessary number of entries are located in every block and max_threads = 8, then 8 blocks are retrieved, although it would have been enough to read just one."),(0,l.kt)("p",null,"The smaller the ",(0,l.kt)("inlineCode",{parentName:"p"},"max_threads")," value, the less memory is consumed."),(0,l.kt)("h2",{id:"settings-max-insert-threads"},"max_insert_threads"),(0,l.kt)("p",null,"The maximum number of threads to execute the ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT SELECT")," query."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 (or 1) \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"INSERT SELECT")," no parallel execution."),(0,l.kt)("li",{parentName:"ul"},"Positive integer. Bigger than 1.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,"Parallel ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT SELECT")," has effect only if the ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," part is executed in parallel, see ",(0,l.kt)("a",{parentName:"p",href:"#settings-max_threads"},"max_threads")," setting.\nHigher values will lead to higher memory usage."),(0,l.kt)("h2",{id:"max-compress-block-size"},"max_compress_block_size"),(0,l.kt)("p",null,"The maximum size of blocks of uncompressed data before compressing for writing to a table. By default, 1,048,576 (1 MiB). Specifying smaller block size generally leads to slightly reduced compression ratio, the compression and decompression speed increases slightly due to cache locality, and memory consumption is reduced."),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"This is an expert-level setting, and you shouldn't change it if you're just getting started with ClickHouse."))),(0,l.kt)("p",null,"Don\u2019t confuse blocks for compression (a chunk of memory consisting of bytes) with blocks for query processing (a set of rows from a table)."),(0,l.kt)("h2",{id:"min-compress-block-size"},"min_compress_block_size"),(0,l.kt)("p",null,"For ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree")," tables. In order to reduce latency when processing queries, a block is compressed when writing the next mark if its size is at least ",(0,l.kt)("inlineCode",{parentName:"p"},"min_compress_block_size"),". By default, 65,536."),(0,l.kt)("p",null,"The actual size of the block, if the uncompressed data is less than ",(0,l.kt)("inlineCode",{parentName:"p"},"max_compress_block_size"),", is no less than this value and no less than the volume of data for one mark."),(0,l.kt)("p",null,"Let\u2019s look at an example. Assume that ",(0,l.kt)("inlineCode",{parentName:"p"},"index_granularity")," was set to 8192 during table creation."),(0,l.kt)("p",null,"We are writing a UInt32-type column (4 bytes per value). When writing 8192 rows, the total will be 32 KB of data. Since min_compress_block_size = 65,536, a compressed block will be formed for every two marks."),(0,l.kt)("p",null,"We are writing a URL column with the String type (average size of 60 bytes per value). When writing 8192 rows, the average will be slightly less than 500 KB of data. Since this is more than 65,536, a compressed block will be formed for each mark. In this case, when reading data from the disk in the range of a single mark, extra data won\u2019t be decompressed."),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"This is an expert-level setting, and you shouldn't change it if you're just getting started with ClickHouse."))),(0,l.kt)("h2",{id:"settings-max_query_size"},"max_query_size"),(0,l.kt)("p",null,"The maximum part of a query that can be taken to RAM for parsing with the SQL parser.\nThe INSERT query also contains data for INSERT that is processed by a separate stream parser (that consumes O(1) RAM), which is not included in this restriction."),(0,l.kt)("p",null,"Default value: 256 KiB."),(0,l.kt)("h2",{id:"max_parser_depth"},"max_parser_depth"),(0,l.kt)("p",null,"Limits maximum recursion depth in the recursive descent parser. Allows controlling the stack size."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Recursion depth is unlimited.")),(0,l.kt)("p",null,"Default value: 1000."),(0,l.kt)("h2",{id:"interactive-delay"},"interactive_delay"),(0,l.kt)("p",null,"The interval in microseconds for checking whether request execution has been cancelled and sending the progress."),(0,l.kt)("p",null,"Default value: 100,000 (checks for cancelling and sends the progress ten times per second)."),(0,l.kt)("h2",{id:"connect-timeout-receive-timeout-send-timeout"},"connect_timeout, receive_timeout, send_timeout"),(0,l.kt)("p",null,"Timeouts in seconds on the socket used for communicating with the client."),(0,l.kt)("p",null,"Default value: 10, 300, 300."),(0,l.kt)("h2",{id:"cancel-http-readonly-queries-on-client-close"},"cancel_http_readonly_queries_on_client_close"),(0,l.kt)("p",null,"Cancels HTTP read-only queries (e.g.\xa0SELECT) when a client closes the connection without waiting for the response."),(0,l.kt)("p",null,"Default value: 0"),(0,l.kt)("h2",{id:"poll-interval"},"poll_interval"),(0,l.kt)("p",null,"Lock in a wait loop for the specified number of seconds."),(0,l.kt)("p",null,"Default value: 10."),(0,l.kt)("h2",{id:"max-distributed-connections"},"max_distributed_connections"),(0,l.kt)("p",null,"The maximum number of simultaneous connections with remote servers for distributed processing of a single query to a single Distributed table. We recommend setting a value no less than the number of servers in the cluster."),(0,l.kt)("p",null,"Default value: 1024."),(0,l.kt)("p",null,"The following parameters are only used when creating Distributed tables (and when launching a server), so there is no reason to change them at runtime."),(0,l.kt)("h2",{id:"distributed-connections-pool-size"},"distributed_connections_pool_size"),(0,l.kt)("p",null,"The maximum number of simultaneous connections with remote servers for distributed processing of all queries to a single Distributed table. We recommend setting a value no less than the number of servers in the cluster."),(0,l.kt)("p",null,"Default value: 1024."),(0,l.kt)("h2",{id:"max-distributed-depth"},"max_distributed_depth"),(0,l.kt)("p",null,"Limits the maximum depth of recursive queries for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/distributed"},"Distributed")," tables."),(0,l.kt)("p",null,"If the value is exceeded, the server throws an exception."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Unlimited depth.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"5"),"."),(0,l.kt)("h2",{id:"max_replicated_fetches_network_bandwidth_for_server"},"max_replicated_fetches_network_bandwidth_for_server"),(0,l.kt)("p",null,"Limits the maximum speed of data exchange over the network in bytes per second for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"replicated")," fetches for the server. Only has meaning at server startup. You can also limit the speed for a particular table with ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/settings/merge-tree-settings#max_replicated_fetches_network_bandwidth"},"max_replicated_fetches_network_bandwidth")," setting."),(0,l.kt)("p",null,"The setting isn't followed perfectly accurately."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Unlimited.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Usage")),(0,l.kt)("p",null,"Could be used for throttling speed when replicating the data to add or replace new nodes."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"60000000 bytes/s approximatly corresponds to 457 Mbps (60000000 / 1024 / 1024 * 8)."))),(0,l.kt)("h2",{id:"max_replicated_sends_network_bandwidth_for_server"},"max_replicated_sends_network_bandwidth_for_server"),(0,l.kt)("p",null,"Limits the maximum speed of data exchange over the network in bytes per second for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"replicated")," sends for the server. Only has meaning at server startup.  You can also limit the speed for a particular table with ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/settings/merge-tree-settings#max_replicated_sends_network_bandwidth"},"max_replicated_sends_network_bandwidth")," setting."),(0,l.kt)("p",null,"The setting isn't followed perfectly accurately."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Unlimited.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Usage")),(0,l.kt)("p",null,"Could be used for throttling speed when replicating the data to add or replace new nodes."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"60000000 bytes/s approximatly corresponds to 457 Mbps (60000000 / 1024 / 1024 * 8)."))),(0,l.kt)("h2",{id:"connect-timeout-with-failover-ms"},"connect_timeout_with_failover_ms"),(0,l.kt)("p",null,"The timeout in milliseconds for connecting to a remote server for a Distributed table engine, if the \u2018shard\u2019 and \u2018replica\u2019 sections are used in the cluster definition.\nIf unsuccessful, several attempts are made to connect to various replicas."),(0,l.kt)("p",null,"Default value: 50."),(0,l.kt)("h2",{id:"connection-pool-max-wait-ms"},"connection_pool_max_wait_ms"),(0,l.kt)("p",null,"The wait time in milliseconds for a connection when the connection pool is full."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Infinite timeout.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"connections-with-failover-max-tries"},"connections_with_failover_max_tries"),(0,l.kt)("p",null,"The maximum number of connection attempts with each replica for the Distributed table engine."),(0,l.kt)("p",null,"Default value: 3."),(0,l.kt)("h2",{id:"extremes"},"extremes"),(0,l.kt)("p",null,"Whether to count extreme values (the minimums and maximums in columns of a query result). Accepts 0 or 1. By default, 0 (disabled).\nFor more information, see the section \u201cExtreme values\u201d."),(0,l.kt)("h2",{id:"kafka-max-wait-ms"},"kafka_max_wait_ms"),(0,l.kt)("p",null,"The wait time in milliseconds for reading messages from ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/integrations/kafka#kafka"},"Kafka")," before retry."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Infinite timeout.")),(0,l.kt)("p",null,"Default value: 5000."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://kafka.apache.org/"},"Apache Kafka"))),(0,l.kt)("h2",{id:"setting-use_uncompressed_cache"},"use_uncompressed_cache"),(0,l.kt)("p",null,"Whether to use a cache of uncompressed blocks. Accepts 0 or 1. By default, 0 (disabled).\nUsing the uncompressed cache (only for tables in the MergeTree family) can significantly reduce latency and increase throughput when working with a large number of short queries. Enable this setting for users who send frequent short requests. Also pay attention to the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/server-configuration-parameters/settings#server-settings-uncompressed_cache_size"},"uncompressed_cache_size")," configuration parameter (only set in the config file) \u2013 the size of uncompressed cache blocks. By default, it is 8 GiB. The uncompressed cache is filled in as needed and the least-used data is automatically deleted."),(0,l.kt)("p",null,"For queries that read at least a somewhat large volume of data (one million rows or more), the uncompressed cache is disabled automatically to save space for truly small queries. This means that you can keep the \u2018use_uncompressed_cache\u2019 setting always set to 1."),(0,l.kt)("h2",{id:"replace-running-query"},"replace_running_query"),(0,l.kt)("p",null,"When using the HTTP interface, the \u2018query_id\u2019 parameter can be passed. This is any string that serves as the query identifier.\nIf a query from the same user with the same \u2018query_id\u2019 already exists at this time, the behaviour depends on the \u2018replace_running_query\u2019 parameter."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"0")," (default) \u2013 Throw an exception (do not allow the query to run if a query with the same \u2018query_id\u2019 is already running)."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"1")," \u2013 Cancel the old query and start running the new one."),(0,l.kt)("p",null,"Set this parameter to 1 for implementing suggestions for segmentation conditions. After entering the next character, if the old query hasn\u2019t finished yet, it should be cancelled."),(0,l.kt)("h2",{id:"replace-running-query-max-wait-ms"},"replace_running_query_max_wait_ms"),(0,l.kt)("p",null,"The wait time for running the query with the same ",(0,l.kt)("inlineCode",{parentName:"p"},"query_id")," to finish, when the ",(0,l.kt)("a",{parentName:"p",href:"#replace-running-query"},"replace_running_query")," setting is active."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Throwing an exception that does not allow to run a new query if the server already executes a query with the same ",(0,l.kt)("inlineCode",{parentName:"li"},"query_id"),".")),(0,l.kt)("p",null,"Default value: 5000."),(0,l.kt)("h2",{id:"stream-flush-interval-ms"},"stream_flush_interval_ms"),(0,l.kt)("p",null,"Works for tables with streaming in the case of a timeout, or when a thread generates ",(0,l.kt)("a",{parentName:"p",href:"#settings-max_insert_block_size"},"max_insert_block_size")," rows."),(0,l.kt)("p",null,"The default value is 7500."),(0,l.kt)("p",null,"The smaller the value, the more often data is flushed into the table. Setting the value too low leads to poor performance."),(0,l.kt)("h2",{id:"settings-load_balancing"},"load_balancing"),(0,l.kt)("p",null,"Specifies the algorithm of replicas selection that is used for distributed query processing."),(0,l.kt)("p",null,"ClickHouse supports the following algorithms of choosing replicas:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#load_balancing-random"},"Random")," (by default)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#load_balancing-nearest_hostname"},"Nearest hostname")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#load_balancing-in_order"},"In order")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#load_balancing-first_or_random"},"First or random")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#load_balancing-round_robin"},"Round robin"))),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-distributed_replica_max_ignored_errors"},"distributed_replica_max_ignored_errors"))),(0,l.kt)("h3",{id:"load_balancing-random"},"Random (by Default)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"load_balancing = random\n")),(0,l.kt)("p",null,"The number of errors is counted for each replica. The query is sent to the replica with the fewest errors, and if there are several of these, to anyone of them.\nDisadvantages: Server proximity is not accounted for; if the replicas have different data, you will also get different data."),(0,l.kt)("h3",{id:"load_balancing-nearest_hostname"},"Nearest Hostname"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"load_balancing = nearest_hostname\n")),(0,l.kt)("p",null,"The number of errors is counted for each replica. Every 5 minutes, the number of errors is integrally divided by 2. Thus, the number of errors is calculated for a recent time with exponential smoothing. If there is one replica with a minimal number of errors (i.e.\xa0errors occurred recently on the other replicas), the query is sent to it. If there are multiple replicas with the same minimal number of errors, the query is sent to the replica with a hostname that is most similar to the server\u2019s hostname in the config file (for the number of different characters in identical positions, up to the minimum length of both hostnames)."),(0,l.kt)("p",null,"For instance, example01-01-1 and example01-01-2 are different in one position, while example01-01-1 and example01-02-2 differ in two places.\nThis method might seem primitive, but it does not require external data about network topology, and it does not compare IP addresses, which would be complicated for our IPv6 addresses."),(0,l.kt)("p",null,"Thus, if there are equivalent replicas, the closest one by name is preferred.\nWe can also assume that when sending a query to the same server, in the absence of failures, a distributed query will also go to the same servers. So even if different data is placed on the replicas, the query will return mostly the same results."),(0,l.kt)("h3",{id:"load_balancing-in_order"},"In Order"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"load_balancing = in_order\n")),(0,l.kt)("p",null,"Replicas with the same number of errors are accessed in the same order as they are specified in the configuration.\nThis method is appropriate when you know exactly which replica is preferable."),(0,l.kt)("h3",{id:"load_balancing-first_or_random"},"First or Random"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"load_balancing = first_or_random\n")),(0,l.kt)("p",null,"This algorithm chooses the first replica in the set or a random replica if the first is unavailable. It\u2019s effective in cross-replication topology setups, but useless in other configurations."),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"first_or_random")," algorithm solves the problem of the ",(0,l.kt)("inlineCode",{parentName:"p"},"in_order")," algorithm. With ",(0,l.kt)("inlineCode",{parentName:"p"},"in_order"),", if one replica goes down, the next one gets a double load while the remaining replicas handle the usual amount of traffic. When using the ",(0,l.kt)("inlineCode",{parentName:"p"},"first_or_random")," algorithm, the load is evenly distributed among replicas that are still available."),(0,l.kt)("p",null,"It's possible to explicitly define what the first replica is by using the setting ",(0,l.kt)("inlineCode",{parentName:"p"},"load_balancing_first_offset"),". This gives more control to rebalance query workloads among replicas."),(0,l.kt)("h3",{id:"load_balancing-round_robin"},"Round Robin"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"load_balancing = round_robin\n")),(0,l.kt)("p",null,"This algorithm uses a round-robin policy across replicas with the same number of errors (only the queries with ",(0,l.kt)("inlineCode",{parentName:"p"},"round_robin")," policy is accounted)."),(0,l.kt)("h2",{id:"settings-prefer-localhost-replica"},"prefer_localhost_replica"),(0,l.kt)("p",null,"Enables/disables preferable using the localhost replica when processing distributed queries."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ClickHouse always sends a query to the localhost replica if it exists."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 ClickHouse uses the balancing strategy specified by the ",(0,l.kt)("a",{parentName:"li",href:"#settings-load_balancing"},"load_balancing")," setting.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Disable this setting if you use ",(0,l.kt)("a",{parentName:"p",href:"#settings-max_parallel_replicas"},"max_parallel_replicas"),"."))),(0,l.kt)("h2",{id:"totals-mode"},"totals_mode"),(0,l.kt)("p",null,"How to calculate TOTALS when HAVING is present, as well as when max_rows_to_group_by and group_by_overflow_mode = \u2018any\u2019 are present.\nSee the section \u201cWITH TOTALS modifier\u201d."),(0,l.kt)("h2",{id:"totals-auto-threshold"},"totals_auto_threshold"),(0,l.kt)("p",null,"The threshold for ",(0,l.kt)("inlineCode",{parentName:"p"},"totals_mode = 'auto'"),".\nSee the section \u201cWITH TOTALS modifier\u201d."),(0,l.kt)("h2",{id:"settings-max_parallel_replicas"},"max_parallel_replicas"),(0,l.kt)("p",null,"The maximum number of replicas for each shard when executing a query."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Additional Info")),(0,l.kt)("p",null,"This setting is useful for replicated tables with a sampling key. A query may be processed faster if it is executed on several servers in parallel. But the query performance may degrade in the following cases:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The position of the sampling key in the partitioning key does not allow efficient range scans."),(0,l.kt)("li",{parentName:"ul"},"Adding a sampling key to the table makes filtering by other columns less efficient."),(0,l.kt)("li",{parentName:"ul"},"The sampling key is an expression that is expensive to calculate."),(0,l.kt)("li",{parentName:"ul"},"The cluster latency distribution has a long tail, so that querying more servers increases the query overall latency.")),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"This setting will produce incorrect results when joins or subqueries are involved, and all tables don't meet certain requirements. See ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/operators/in#max_parallel_replica-subqueries"},"Distributed Subqueries and max_parallel_replicas")," for more details."))),(0,l.kt)("h2",{id:"compile-expressions"},"compile_expressions"),(0,l.kt)("p",null,"Enables or disables compilation of frequently used simple functions and operators to native code with LLVM at runtime."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"min-count-to-compile-expression"},"min_count_to_compile_expression"),(0,l.kt)("p",null,"Minimum count of executing same expression before it is get compiled."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"3"),"."),(0,l.kt)("h2",{id:"compile_aggregate_expressions"},"compile_aggregate_expressions"),(0,l.kt)("p",null,"Enables or disables JIT-compilation of aggregate functions to native code. Enabling this setting can improve the performance."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Aggregation is done without JIT compilation."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Aggregation is done using JIT compilation.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#min_count_to_compile_aggregate_expression"},"min_count_to_compile_aggregate_expression"))),(0,l.kt)("h2",{id:"min_count_to_compile_aggregate_expression"},"min_count_to_compile_aggregate_expression"),(0,l.kt)("p",null,"The minimum number of identical aggregate expressions to start JIT-compilation. Works only if the ",(0,l.kt)("a",{parentName:"p",href:"#compile_aggregate_expressions"},"compile_aggregate_expressions")," setting is enabled."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Identical aggregate expressions are always JIT-compiled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"3"),"."),(0,l.kt)("h2",{id:"session_settings-output_format_json_quote_64bit_integers"},"output_format_json_quote_64bit_integers"),(0,l.kt)("p",null,"Controls quoting of 64-bit or bigger ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/int-uint"},"integers")," (like ",(0,l.kt)("inlineCode",{parentName:"p"},"UInt64")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"Int128"),") when they are output in a ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#json"},"JSON")," format.\nSuch integers are enclosed in quotes by default. This behavior is compatible with most JavaScript implementations."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Integers are output without quotes."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Integers are enclosed in quotes.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"settings-output_format_json_quote_denormals"},"output_format_json_quote_denormals"),(0,l.kt)("p",null,"Enables ",(0,l.kt)("inlineCode",{parentName:"p"},"+nan"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"-nan"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"+inf"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"-inf")," outputs in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#json"},"JSON")," output format."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Consider the following table ",(0,l.kt)("inlineCode",{parentName:"p"},"account_orders"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500id\u2500\u252c\u2500name\u2500\u2500\u2500\u252c\u2500duration\u2500\u252c\u2500period\u2500\u252c\u2500area\u2500\u2510\n\u2502  1 \u2502 Andrew \u2502       20 \u2502      0 \u2502  400 \u2502\n\u2502  2 \u2502 John   \u2502       40 \u2502      0 \u2502    0 \u2502\n\u2502  3 \u2502 Bob    \u2502       15 \u2502      0 \u2502 -100 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"When ",(0,l.kt)("inlineCode",{parentName:"p"},"output_format_json_quote_denormals = 0"),", the query returns ",(0,l.kt)("inlineCode",{parentName:"p"},"null")," values in output:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT area/period FROM account_orders FORMAT JSON;\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n        "meta":\n        [\n                {\n                        "name": "divide(area, period)",\n                        "type": "Float64"\n                }\n        ],\n\n        "data":\n        [\n                {\n                        "divide(area, period)": null\n                },\n                {\n                        "divide(area, period)": null\n                },\n                {\n                        "divide(area, period)": null\n                }\n        ],\n\n        "rows": 3,\n\n        "statistics":\n        {\n                "elapsed": 0.003648093,\n                "rows_read": 3,\n                "bytes_read": 24\n        }\n}\n')),(0,l.kt)("p",null,"When ",(0,l.kt)("inlineCode",{parentName:"p"},"output_format_json_quote_denormals = 1"),", the query returns:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n        "meta":\n        [\n                {\n                        "name": "divide(area, period)",\n                        "type": "Float64"\n                }\n        ],\n\n        "data":\n        [\n                {\n                        "divide(area, period)": "inf"\n                },\n                {\n                        "divide(area, period)": "-nan"\n                },\n                {\n                        "divide(area, period)": "-inf"\n                }\n        ],\n\n        "rows": 3,\n\n        "statistics":\n        {\n                "elapsed": 0.000070241,\n                "rows_read": 3,\n                "bytes_read": 24\n        }\n}\n')),(0,l.kt)("h2",{id:"settings-format_csv_delimiter"},"format_csv_delimiter"),(0,l.kt)("p",null,"The character is interpreted as a delimiter in the CSV data. By default, the delimiter is ",(0,l.kt)("inlineCode",{parentName:"p"},","),"."),(0,l.kt)("h2",{id:"settings-input_format_csv_enum_as_number"},"input_format_csv_enum_as_number"),(0,l.kt)("p",null,"When enabled, always treat enum values as enum ids for CSV input format. It's recommended to enable this setting if data contains only enum ids to optimize enum parsing."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Enum values are parsed as values or as enum IDs."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enum values are parsed only as enum IDs.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples")),(0,l.kt)("p",null,"Consider the table:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE table_with_enum_column_for_csv_insert (Id Int32,Value Enum('first' = 1, 'second' = 2)) ENGINE=Memory();\n")),(0,l.kt)("p",null,"When the ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_csv_enum_as_number")," setting is enabled:"),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET input_format_csv_enum_as_number = 1;\nINSERT INTO table_with_enum_column_for_csv_insert FORMAT CSV 102,2\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500Id\u2500\u252c\u2500Value\u2500\u2500\u2510\n\u2502 102 \u2502 second \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET input_format_csv_enum_as_number = 1;\nINSERT INTO table_with_enum_column_for_csv_insert FORMAT CSV 103,'first'\n")),(0,l.kt)("p",null,"throws an exception."),(0,l.kt)("p",null,"When the ",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_csv_enum_as_number")," setting is disabled:"),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET input_format_csv_enum_as_number = 0;\nINSERT INTO table_with_enum_column_for_csv_insert FORMAT CSV 102,2\nINSERT INTO table_with_enum_column_for_csv_insert FORMAT CSV 103,'first'\nSELECT * FROM table_with_enum_column_for_csv_insert;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500Id\u2500\u252c\u2500Value\u2500\u2500\u2510\n\u2502 102 \u2502 second \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500\u2500Id\u2500\u252c\u2500Value\u2500\u2510\n\u2502 103 \u2502 first \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"settings-output-format-csv-crlf-end-of-line"},"output_format_csv_crlf_end_of_line"),(0,l.kt)("p",null,"Use DOS/Windows-style line separator (CRLF) in CSV instead of Unix style (LF)."),(0,l.kt)("h2",{id:"settings-output-format-tsv-crlf-end-of-line"},"output_format_tsv_crlf_end_of_line"),(0,l.kt)("p",null,"Use DOC/Windows-style line separator (CRLF) in TSV instead of Unix style (LF)."),(0,l.kt)("h2",{id:"settings-insert_quorum"},"insert_quorum"),(0,l.kt)("p",null,"Enables the quorum writes."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"If ",(0,l.kt)("inlineCode",{parentName:"li"},"insert_quorum < 2"),", the quorum writes are disabled."),(0,l.kt)("li",{parentName:"ul"},"If ",(0,l.kt)("inlineCode",{parentName:"li"},"insert_quorum >= 2"),", the quorum writes are enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,"Quorum writes"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," succeeds only when ClickHouse manages to correctly write data to the ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_quorum")," of replicas during the ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_quorum_timeout"),". If for any reason the number of replicas with successful writes does not reach the ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_quorum"),", the write is considered failed and ClickHouse will delete the inserted block from all the replicas where data has already been written."),(0,l.kt)("p",null,"When ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_quorum_parallel")," is disabled, all replicas in the quorum are consistent, i.e. they contain data from all previous ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," queries (the ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," sequence is linearized). When reading data written using ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_quorum")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_quorum_parallel")," is disabled, you can turn on sequential consistency for ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," queries using ",(0,l.kt)("a",{parentName:"p",href:"#settings-select_sequential_consistency"},"select_sequential_consistency"),"."),(0,l.kt)("p",null,"ClickHouse generates an exception:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"If the number of available replicas at the time of the query is less than the ",(0,l.kt)("inlineCode",{parentName:"li"},"insert_quorum"),"."),(0,l.kt)("li",{parentName:"ul"},"When ",(0,l.kt)("inlineCode",{parentName:"li"},"insert_quorum_parallel")," is disabled and an attempt to write data is made when the previous block has not yet been inserted in ",(0,l.kt)("inlineCode",{parentName:"li"},"insert_quorum")," of replicas. This situation may occur if the user tries to perform another ",(0,l.kt)("inlineCode",{parentName:"li"},"INSERT")," query to the same table before the previous one with ",(0,l.kt)("inlineCode",{parentName:"li"},"insert_quorum")," is completed.")),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-insert_quorum_timeout"},"insert_quorum_timeout")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-insert_quorum_parallel"},"insert_quorum_parallel")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-select_sequential_consistency"},"select_sequential_consistency"))),(0,l.kt)("h2",{id:"settings-insert_quorum_timeout"},"insert_quorum_timeout"),(0,l.kt)("p",null,"Write to a quorum timeout in milliseconds. If the timeout has passed and no write has taken place yet, ClickHouse will generate an exception and the client must repeat the query to write the same block to the same or any other replica."),(0,l.kt)("p",null,"Default value: 600 000 milliseconds (ten minutes)."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-insert_quorum"},"insert_quorum")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-insert_quorum_parallel"},"insert_quorum_parallel")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-select_sequential_consistency"},"select_sequential_consistency"))),(0,l.kt)("h2",{id:"settings-insert_quorum_parallel"},"insert_quorum_parallel"),(0,l.kt)("p",null,"Enables or disables parallelism for quorum ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," queries. If enabled, additional ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," queries can be sent while previous queries have not yet finished. If disabled, additional writes to the same table will be rejected."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-insert_quorum"},"insert_quorum")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-insert_quorum_timeout"},"insert_quorum_timeout")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-select_sequential_consistency"},"select_sequential_consistency"))),(0,l.kt)("h2",{id:"settings-select_sequential_consistency"},"select_sequential_consistency"),(0,l.kt)("p",null,"Enables or disables sequential consistency for ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," queries. Requires ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_quorum_parallel")," to be disabled (enabled by default)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,"Usage"),(0,l.kt)("p",null,"When sequential consistency is enabled, ClickHouse allows the client to execute the ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," query only for those replicas that contain data from all previous ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," queries executed with ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_quorum"),". If the client refers to a partial replica, ClickHouse will generate an exception. The SELECT query will not include data that has not yet been written to the quorum of replicas."),(0,l.kt)("p",null,"When ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_quorum_parallel")," is enabled (the default), then ",(0,l.kt)("inlineCode",{parentName:"p"},"select_sequential_consistency")," does not work. This is because parallel ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," queries can be written to different sets of quorum replicas so there is no guarantee a single replica will have received all writes."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-insert_quorum"},"insert_quorum")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-insert_quorum_timeout"},"insert_quorum_timeout")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-insert_quorum_parallel"},"insert_quorum_parallel"))),(0,l.kt)("h2",{id:"settings-insert-deduplicate"},"insert_deduplicate"),(0,l.kt)("p",null,"Enables or disables block deduplication of ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," (for Replicated","*"," tables)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("p",null,"By default, blocks inserted into replicated tables by the ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," statement are deduplicated (see ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"Data Replication"),")."),(0,l.kt)("h2",{id:"settings-deduplicate-blocks-in-dependent-materialized-views"},"deduplicate_blocks_in_dependent_materialized_views"),(0,l.kt)("p",null,"Enables or disables the deduplication check for materialized views that receive data from Replicated","*"," tables."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"  0 \u2014 Disabled.\n  1 \u2014 Enabled.\n")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,"Usage"),(0,l.kt)("p",null,"By default, deduplication is not performed for materialized views but is done upstream, in the source table.\nIf an INSERTed block is skipped due to deduplication in the source table, there will be no insertion into attached materialized views. This behaviour exists to enable the insertion of highly aggregated data into materialized views, for cases where inserted blocks are the same after materialized view aggregation but derived from different INSERTs into the source table.\nAt the same time, this behaviour \u201cbreaks\u201d ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," idempotency. If an ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," into the main table was successful and ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," into a materialized view failed (e.g.\xa0because of communication failure with Zookeeper) a client will get an error and can retry the operation. However, the materialized view won\u2019t receive the second insert because it will be discarded by deduplication in the main (source) table. The setting ",(0,l.kt)("inlineCode",{parentName:"p"},"deduplicate_blocks_in_dependent_materialized_views")," allows for changing this behaviour. On retry, a materialized view will receive the repeat insert and will perform a deduplication check by itself,\nignoring check result for the source table, and will insert rows lost because of the first failure."),(0,l.kt)("h2",{id:"insert_deduplication_token"},"insert_deduplication_token"),(0,l.kt)("p",null,"The setting allows a user to provide own deduplication semantic in MergeTree/ReplicatedMergeTree",(0,l.kt)("br",{parentName:"p"}),"\n","For example, by providing a unique value for the setting in each INSERT statement,\nuser can avoid the same inserted data being deduplicated."),(0,l.kt)("p",null,"Possilbe values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any string")),(0,l.kt)("p",null,"Default value: empty string (disabled)"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"insert_deduplication_token")," is used for deduplication ",(0,l.kt)("em",{parentName:"p"},"only")," when not empty."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE test_table\n( A Int64 )\nENGINE = MergeTree\nORDER BY A\nSETTINGS non_replicated_deduplication_window = 100;\n\nINSERT INTO test_table Values SETTINGS insert_deduplication_token = 'test' (1);\n\n-- the next insert won't be deduplicated because insert_deduplication_token is different\nINSERT INTO test_table Values SETTINGS insert_deduplication_token = 'test1' (1);\n\n-- the next insert will be deduplicated because insert_deduplication_token \n-- is the same as one of the previous\nINSERT INTO test_table Values SETTINGS insert_deduplication_token = 'test' (2);\n\nSELECT * FROM test_table\n\n\u250c\u2500A\u2500\u2510\n\u2502 1 \u2502\n\u2514\u2500\u2500\u2500\u2518\n\u250c\u2500A\u2500\u2510\n\u2502 1 \u2502\n\u2514\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"settings-max-network-bytes"},"max_network_bytes"),(0,l.kt)("p",null,"Limits the data volume (in bytes) that is received or transmitted over the network when executing a query. This setting applies to every individual query."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Data volume control is disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"settings-max-network-bandwidth"},"max_network_bandwidth"),(0,l.kt)("p",null,"Limits the speed of the data exchange over the network in bytes per second. This setting applies to every query."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Bandwidth control is disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"settings-max-network-bandwidth-for-user"},"max_network_bandwidth_for_user"),(0,l.kt)("p",null,"Limits the speed of the data exchange over the network in bytes per second. This setting applies to all concurrently running queries performed by a single user."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Control of the data speed is disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"settings-max-network-bandwidth-for-all-users"},"max_network_bandwidth_for_all_users"),(0,l.kt)("p",null,"Limits the speed that data is exchanged at over the network in bytes per second. This setting applies to all concurrently running queries on the server."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Control of the data speed is disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"settings-count_distinct_implementation"},"count_distinct_implementation"),(0,l.kt)("p",null,"Specifies which of the ",(0,l.kt)("inlineCode",{parentName:"p"},"uniq*")," functions should be used to perform the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/count#agg_function-count"},"COUNT(DISTINCT \u2026)")," construction."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/uniq#agg_function-uniq"},"uniq")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/uniqcombined#agg_function-uniqcombined"},"uniqCombined")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/uniqcombined64#agg_function-uniqcombined64"},"uniqCombined64")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/uniqhll12#agg_function-uniqhll12"},"uniqHLL12")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/uniqexact#agg_function-uniqexact"},"uniqExact"))),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"uniqExact"),"."),(0,l.kt)("h2",{id:"settings-skip_unavailable_shards"},"skip_unavailable_shards"),(0,l.kt)("p",null,"Enables or disables silently skipping of unavailable shards."),(0,l.kt)("p",null,"Shard is considered unavailable if all its replicas are unavailable. A replica is unavailable in the following cases:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"ClickHouse can\u2019t connect to replica for any reason."),(0,l.kt)("p",{parentName:"li"},"When connecting to a replica, ClickHouse performs several attempts. If all these attempts fail, the replica is considered unavailable.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Replica can\u2019t be resolved through DNS."),(0,l.kt)("p",{parentName:"li"},"If replica\u2019s hostname can\u2019t be resolved through DNS, it can indicate the following situations:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Replica\u2019s host has no DNS record. It can occur in systems with dynamic DNS, for example, ",(0,l.kt)("a",{parentName:"p",href:"https://kubernetes.io"},"Kubernetes"),", where nodes can be unresolvable during downtime, and this is not an error.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Configuration error. ClickHouse configuration file contains a wrong hostname."))))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"1 \u2014 skipping enabled."),(0,l.kt)("p",{parentName:"li"},"If a shard is unavailable, ClickHouse returns a result based on partial data and does not report node availability issues.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"0 \u2014 skipping disabled."),(0,l.kt)("p",{parentName:"li"},"If a shard is unavailable, ClickHouse throws an exception."))),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"distributed-group-by-no-merge"},"distributed_group_by_no_merge"),(0,l.kt)("p",null,"Do not merge aggregation states from different servers for distributed query processing, you can use this in case it is for certain that there are different keys on different shards"),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"0")," \u2014 Disabled (final query processing is done on the initiator node)."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"1")," - Do not merge aggregation states from different servers for distributed query processing (query completelly processed on the shard, initiator only proxy the data), can be used in case it is for certain that there are different keys on different shards."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"2")," - Same as ",(0,l.kt)("inlineCode",{parentName:"li"},"1")," but applies ",(0,l.kt)("inlineCode",{parentName:"li"},"ORDER BY")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"LIMIT")," (it is not possible when the query processed completelly on the remote node, like for ",(0,l.kt)("inlineCode",{parentName:"li"},"distributed_group_by_no_merge=1"),") on the initiator (can be used for queries with ",(0,l.kt)("inlineCode",{parentName:"li"},"ORDER BY")," and/or ",(0,l.kt)("inlineCode",{parentName:"li"},"LIMIT"),").")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT *\nFROM remote('127.0.0.{2,3}', system.one)\nGROUP BY dummy\nLIMIT 1\nSETTINGS distributed_group_by_no_merge = 1\nFORMAT PrettyCompactMonoBlock\n\n\u250c\u2500dummy\u2500\u2510\n\u2502     0 \u2502\n\u2502     0 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT *\nFROM remote('127.0.0.{2,3}', system.one)\nGROUP BY dummy\nLIMIT 1\nSETTINGS distributed_group_by_no_merge = 2\nFORMAT PrettyCompactMonoBlock\n\n\u250c\u2500dummy\u2500\u2510\n\u2502     0 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"distributed-push-down-limit"},"distributed_push_down_limit"),(0,l.kt)("p",null,"Enables or disables ",(0,l.kt)("a",{parentName:"p",href:"#limit"},"LIMIT")," applying on each shard separatelly."),(0,l.kt)("p",null,"This will allow to avoid:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Sending extra rows over network;"),(0,l.kt)("li",{parentName:"ul"},"Processing rows behind the limit on the initiator.")),(0,l.kt)("p",null,"Starting from 21.9 version you cannot get inaccurate results anymore, since ",(0,l.kt)("inlineCode",{parentName:"p"},"distributed_push_down_limit")," changes query execution only if at least one of the conditions met:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#distributed-group-by-no-merge"},"distributed_group_by_no_merge")," > 0."),(0,l.kt)("li",{parentName:"ul"},"Query ",(0,l.kt)("strong",{parentName:"li"},"does not have")," ",(0,l.kt)("inlineCode",{parentName:"li"},"GROUP BY"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"DISTINCT"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"LIMIT BY"),", but it has ",(0,l.kt)("inlineCode",{parentName:"li"},"ORDER BY"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"LIMIT"),"."),(0,l.kt)("li",{parentName:"ul"},"Query ",(0,l.kt)("strong",{parentName:"li"},"has")," ",(0,l.kt)("inlineCode",{parentName:"li"},"GROUP BY"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"DISTINCT"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"LIMIT BY")," with ",(0,l.kt)("inlineCode",{parentName:"li"},"ORDER BY"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"LIMIT")," and:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#optimize-skip-unused-shards"},"optimize_skip_unused_shards")," is enabled."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#optimize-distributed-group-by-sharding-key"},"optimize_distributed_group_by_sharding_key")," is enabled.")))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#distributed-group-by-no-merge"},"distributed_group_by_no_merge")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#optimize-skip-unused-shards"},"optimize_skip_unused_shards")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#optimize-distributed-group-by-sharding-key"},"optimize_distributed_group_by_sharding_key"))),(0,l.kt)("h2",{id:"optimize-skip-unused-shards-limit"},"optimize_skip_unused_shards_limit"),(0,l.kt)("p",null,"Limit for number of sharding key values, turns off ",(0,l.kt)("inlineCode",{parentName:"p"},"optimize_skip_unused_shards")," if the limit is reached."),(0,l.kt)("p",null,"Too many values may require significant amount for processing, while the benefit is doubtful, since if you have huge number of values in ",(0,l.kt)("inlineCode",{parentName:"p"},"IN (...)"),", then most likely the query will be sent to all shards anyway."),(0,l.kt)("p",null,"Default value: 1000"),(0,l.kt)("h2",{id:"optimize-skip-unused-shards"},"optimize_skip_unused_shards"),(0,l.kt)("p",null,"Enables or disables skipping of unused shards for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/"},"SELECT")," queries that have sharding key condition in ",(0,l.kt)("inlineCode",{parentName:"p"},"WHERE/PREWHERE")," (assuming that the data is distributed by sharding key, otherwise a query yields incorrect result)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0"),(0,l.kt)("h2",{id:"optimize-skip-unused-shards-rewrite-in"},"optimize_skip_unused_shards_rewrite_in"),(0,l.kt)("p",null,"Rewrite IN in query for remote shards to exclude values that does not belong to the shard (requires optimize_skip_unused_shards)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1 (since it requires ",(0,l.kt)("inlineCode",{parentName:"p"},"optimize_skip_unused_shards")," anyway, which ",(0,l.kt)("inlineCode",{parentName:"p"},"0")," by default)"),(0,l.kt)("h2",{id:"allow-nondeterministic-optimize-skip-unused-shards"},"allow_nondeterministic_optimize_skip_unused_shards"),(0,l.kt)("p",null,"Allow nondeterministic (like ",(0,l.kt)("inlineCode",{parentName:"p"},"rand")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"dictGet"),", since later has some caveats with updates) functions in sharding key."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disallowed."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Allowed.")),(0,l.kt)("p",null,"Default value: 0"),(0,l.kt)("h2",{id:"optimize-skip-unused-shards-nesting"},"optimize_skip_unused_shards_nesting"),(0,l.kt)("p",null,"Controls ",(0,l.kt)("a",{parentName:"p",href:"#optimize-skip-unused-shards"},(0,l.kt)("inlineCode",{parentName:"a"},"optimize_skip_unused_shards"))," (hence still requires ",(0,l.kt)("a",{parentName:"p",href:"#optimize-skip-unused-shards"},(0,l.kt)("inlineCode",{parentName:"a"},"optimize_skip_unused_shards")),") depends on the nesting level of the distributed query (case when you have ",(0,l.kt)("inlineCode",{parentName:"p"},"Distributed")," table that look into another ",(0,l.kt)("inlineCode",{parentName:"p"},"Distributed")," table)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled, ",(0,l.kt)("inlineCode",{parentName:"li"},"optimize_skip_unused_shards")," works always."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enables ",(0,l.kt)("inlineCode",{parentName:"li"},"optimize_skip_unused_shards")," only for the first level."),(0,l.kt)("li",{parentName:"ul"},"2 \u2014 Enables ",(0,l.kt)("inlineCode",{parentName:"li"},"optimize_skip_unused_shards")," up to the second level.")),(0,l.kt)("p",null,"Default value: 0"),(0,l.kt)("h2",{id:"force-optimize-skip-unused-shards"},"force_optimize_skip_unused_shards"),(0,l.kt)("p",null,"Enables or disables query execution if ",(0,l.kt)("a",{parentName:"p",href:"#optimize-skip-unused-shards"},"optimize_skip_unused_shards")," is enabled and skipping of unused shards is not possible. If the skipping is not possible and the setting is enabled, an exception will be thrown."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled. ClickHouse does not throw an exception."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled. Query execution is disabled only if the table has a sharding key."),(0,l.kt)("li",{parentName:"ul"},"2 \u2014 Enabled. Query execution is disabled regardless of whether a sharding key is defined for the table.")),(0,l.kt)("p",null,"Default value: 0"),(0,l.kt)("h2",{id:"settings-force_optimize_skip_unused_shards_nesting"},"force_optimize_skip_unused_shards_nesting"),(0,l.kt)("p",null,"Controls ",(0,l.kt)("a",{parentName:"p",href:"#force-optimize-skip-unused-shards"},(0,l.kt)("inlineCode",{parentName:"a"},"force_optimize_skip_unused_shards"))," (hence still requires ",(0,l.kt)("a",{parentName:"p",href:"#force-optimize-skip-unused-shards"},(0,l.kt)("inlineCode",{parentName:"a"},"force_optimize_skip_unused_shards")),") depends on the nesting level of the distributed query (case when you have ",(0,l.kt)("inlineCode",{parentName:"p"},"Distributed")," table that look into another ",(0,l.kt)("inlineCode",{parentName:"p"},"Distributed")," table)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 - Disabled, ",(0,l.kt)("inlineCode",{parentName:"li"},"force_optimize_skip_unused_shards")," works always."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enables ",(0,l.kt)("inlineCode",{parentName:"li"},"force_optimize_skip_unused_shards")," only for the first level."),(0,l.kt)("li",{parentName:"ul"},"2 \u2014 Enables ",(0,l.kt)("inlineCode",{parentName:"li"},"force_optimize_skip_unused_shards")," up to the second level.")),(0,l.kt)("p",null,"Default value: 0"),(0,l.kt)("h2",{id:"optimize-distributed-group-by-sharding-key"},"optimize_distributed_group_by_sharding_key"),(0,l.kt)("p",null,"Optimize ",(0,l.kt)("inlineCode",{parentName:"p"},"GROUP BY sharding_key")," queries, by avoiding costly aggregation on the initiator server (which will reduce memory usage for the query on the initiator server)."),(0,l.kt)("p",null,"The following types of queries are supported (and all combinations of them):"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT DISTINCT [..., ]sharding_key[, ...] FROM dist")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT ... FROM dist GROUP BY sharding_key[, ...]")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT ... FROM dist GROUP BY sharding_key[, ...] ORDER BY x")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT ... FROM dist GROUP BY sharding_key[, ...] LIMIT 1")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT ... FROM dist GROUP BY sharding_key[, ...] LIMIT 1 BY x"))),(0,l.kt)("p",null,"The following types of queries are not supported (support for some of them may be added later):"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT ... GROUP BY sharding_key[, ...] WITH TOTALS")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT ... GROUP BY sharding_key[, ...] WITH ROLLUP")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT ... GROUP BY sharding_key[, ...] WITH CUBE")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SELECT ... GROUP BY sharding_key[, ...] SETTINGS extremes=1"))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0"),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#distributed-group-by-no-merge"},"distributed_group_by_no_merge")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#distributed-push-down-limit"},"distributed_push_down_limit")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#optimize-skip-unused-shards"},"optimize_skip_unused_shards"))),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Right now it requires ",(0,l.kt)("inlineCode",{parentName:"p"},"optimize_skip_unused_shards")," (the reason behind this is that one day it may be enabled by default, and it will work correctly only if data was inserted via Distributed table, i.e. data is distributed according to sharding_key)."))),(0,l.kt)("h2",{id:"setting-optimize_throw_if_noop"},"optimize_throw_if_noop"),(0,l.kt)("p",null,"Enables or disables throwing an exception if an ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/misc#misc_operations-optimize"},"OPTIMIZE")," query didn\u2019t perform a merge."),(0,l.kt)("p",null,"By default, ",(0,l.kt)("inlineCode",{parentName:"p"},"OPTIMIZE")," returns successfully even if it didn\u2019t do anything. This setting lets you differentiate these situations and get the reason in an exception message."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Throwing an exception is enabled."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Throwing an exception is disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"optimize-functions-to-subcolumns"},"optimize_functions_to_subcolumns"),(0,l.kt)("p",null,"Enables or disables optimization by transforming some functions to reading subcolumns. This reduces the amount of data to read."),(0,l.kt)("p",null,"These functions can be transformed:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/functions/array-functions#array_functions-length"},"length")," to read the ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/array#array-size"},"size0")," subcolumn."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/functions/array-functions#function-empty"},"empty")," to read the ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/array#array-size"},"size0")," subcolumn."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/functions/array-functions#function-notempty"},"notEmpty")," to read the ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/array#array-size"},"size0")," subcolumn."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/operators/#operator-is-null"},"isNull")," to read the ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/nullable#finding-null"},"null")," subcolumn."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/operators/#is-not-null"},"isNotNull")," to read the ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/nullable#finding-null"},"null")," subcolumn."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/count"},"count")," to read the ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/nullable#finding-null"},"null")," subcolumn."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/functions/tuple-map-functions#mapkeys"},"mapKeys")," to read the ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/map#map-subcolumns"},"keys")," subcolumn."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/functions/tuple-map-functions#mapvalues"},"mapValues")," to read the ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/data-types/map#map-subcolumns"},"values")," subcolumn.")),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Optimization disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Optimization enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"optimize-trivial-count-query"},"optimize_trivial_count_query"),(0,l.kt)("p",null,"Enables or disables the optimization to trivial query ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT count() FROM table")," using metadata from MergeTree. If you need to use row-level security, disable this setting."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Optimization disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Optimization enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#optimize-functions-to-subcolumns"},"optimize_functions_to_subcolumns"))),(0,l.kt)("h2",{id:"settings-distributed_replica_error_half_life"},"distributed_replica_error_half_life"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Type: seconds"),(0,l.kt)("li",{parentName:"ul"},"Default value: 60 seconds")),(0,l.kt)("p",null,"Controls how fast errors in distributed tables are zeroed. If a replica is unavailable for some time, accumulates 5 errors, and distributed_replica_error_half_life is set to 1 second, then the replica is considered normal 3 seconds after the last error."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#load_balancing-round_robin"},"load_balancing")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/special/distributed"},"Table engine Distributed")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-distributed_replica_error_cap"},"distributed_replica_error_cap")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-distributed_replica_max_ignored_errors"},"distributed_replica_max_ignored_errors"))),(0,l.kt)("h2",{id:"settings-distributed_replica_error_cap"},"distributed_replica_error_cap"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Type: unsigned int"),(0,l.kt)("li",{parentName:"ul"},"Default value: 1000")),(0,l.kt)("p",null,"The error count of each replica is capped at this value, preventing a single replica from accumulating too many errors."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#load_balancing-round_robin"},"load_balancing")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/special/distributed"},"Table engine Distributed")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-distributed_replica_error_half_life"},"distributed_replica_error_half_life")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-distributed_replica_max_ignored_errors"},"distributed_replica_max_ignored_errors"))),(0,l.kt)("h2",{id:"settings-distributed_replica_max_ignored_errors"},"distributed_replica_max_ignored_errors"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Type: unsigned int"),(0,l.kt)("li",{parentName:"ul"},"Default value: 0")),(0,l.kt)("p",null,"The number of errors that will be ignored while choosing replicas (according to ",(0,l.kt)("inlineCode",{parentName:"p"},"load_balancing")," algorithm)."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#load_balancing-round_robin"},"load_balancing")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/special/distributed"},"Table engine Distributed")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-distributed_replica_error_cap"},"distributed_replica_error_cap")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-distributed_replica_error_half_life"},"distributed_replica_error_half_life"))),(0,l.kt)("h2",{id:"distributed_directory_monitor_sleep_time_ms"},"distributed_directory_monitor_sleep_time_ms"),(0,l.kt)("p",null,"Base interval for the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/distributed"},"Distributed")," table engine to send data. The actual interval grows exponentially in the event of errors."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"A positive integer number of milliseconds.")),(0,l.kt)("p",null,"Default value: 100 milliseconds."),(0,l.kt)("h2",{id:"distributed_directory_monitor_max_sleep_time_ms"},"distributed_directory_monitor_max_sleep_time_ms"),(0,l.kt)("p",null,"Maximum interval for the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/distributed"},"Distributed")," table engine to send data. Limits exponential growth of the interval set in the ",(0,l.kt)("a",{parentName:"p",href:"#distributed_directory_monitor_sleep_time_ms"},"distributed_directory_monitor_sleep_time_ms")," setting."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"A positive integer number of milliseconds.")),(0,l.kt)("p",null,"Default value: 30000 milliseconds (30 seconds)."),(0,l.kt)("h2",{id:"distributed_directory_monitor_batch_inserts"},"distributed_directory_monitor_batch_inserts"),(0,l.kt)("p",null,"Enables/disables inserted data sending in batches."),(0,l.kt)("p",null,"When batch sending is enabled, the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/distributed"},"Distributed")," table engine tries to send multiple files of inserted data in one operation instead of sending them separately. Batch sending improves cluster performance by better-utilizing server and network resources."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"distributed_directory_monitor_split_batch_on_failure"},"distributed_directory_monitor_split_batch_on_failure"),(0,l.kt)("p",null,"Enables/disables splitting batches on failures."),(0,l.kt)("p",null,"Sometimes sending particular batch to the remote shard may fail, because of some complex pipeline after (i.e. ",(0,l.kt)("inlineCode",{parentName:"p"},"MATERIALIZED VIEW")," with ",(0,l.kt)("inlineCode",{parentName:"p"},"GROUP BY"),") due to ",(0,l.kt)("inlineCode",{parentName:"p"},"Memory limit exceeded")," or similar errors. In this case, retrying will not help (and this will stuck distributed sends for the table) but sending files from that batch one by one may succeed INSERT."),(0,l.kt)("p",null,"So installing this setting to ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," will disable batching for such batches (i.e. temporary disables ",(0,l.kt)("inlineCode",{parentName:"p"},"distributed_directory_monitor_batch_inserts")," for failed batches)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"This setting also affects broken batches (that may appears because of abnormal server (machine) termination and no ",(0,l.kt)("inlineCode",{parentName:"p"},"fsync_after_insert"),"/",(0,l.kt)("inlineCode",{parentName:"p"},"fsync_directories")," for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/distributed"},"Distributed")," table engine)."))),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"You should not rely on automatic batch splitting, since this may hurt performance."))),(0,l.kt)("h2",{id:"setting-os-thread-priority"},"os_thread_priority"),(0,l.kt)("p",null,"Sets the priority (",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Nice_(Unix)"},"nice"),") for threads that execute queries. The OS scheduler considers this priority when choosing the next thread to run on each available CPU core."),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"To use this setting, you need to set the ",(0,l.kt)("inlineCode",{parentName:"p"},"CAP_SYS_NICE")," capability. The ",(0,l.kt)("inlineCode",{parentName:"p"},"clickhouse-server")," package sets it up during installation. Some virtual environments do not allow you to set the ",(0,l.kt)("inlineCode",{parentName:"p"},"CAP_SYS_NICE")," capability. In this case, ",(0,l.kt)("inlineCode",{parentName:"p"},"clickhouse-server")," shows a message about it at the start."))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"You can set values in the range ",(0,l.kt)("inlineCode",{parentName:"li"},"[-20, 19]"),".")),(0,l.kt)("p",null,"Lower values mean higher priority. Threads with low ",(0,l.kt)("inlineCode",{parentName:"p"},"nice")," priority values are executed more frequently than threads with high values. High values are preferable for long-running non-interactive queries because it allows them to quickly give up resources in favour of short interactive queries when they arrive."),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"query_profiler_real_time_period_ns"},"query_profiler_real_time_period_ns"),(0,l.kt)("p",null,"Sets the period for a real clock timer of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/optimizing-performance/sampling-query-profiler"},"query profiler"),". Real clock timer counts wall-clock time."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Positive integer number, in nanoseconds."),(0,l.kt)("p",{parentName:"li"},"Recommended values:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},"    - 10000000 (100 times a second) nanoseconds and less for single queries.\n    - 1000000000 (once a second) for cluster-wide profiling.\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"0 for turning off the timer."))),(0,l.kt)("p",null,"Type: ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/int-uint"},"UInt64"),"."),(0,l.kt)("p",null,"Default value: 1000000000 nanoseconds (once a second)."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"System table ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/operations/system-tables/trace_log#system_tables-trace_log"},"trace_log"))),(0,l.kt)("h2",{id:"query_profiler_cpu_time_period_ns"},"query_profiler_cpu_time_period_ns"),(0,l.kt)("p",null,"Sets the period for a CPU clock timer of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/optimizing-performance/sampling-query-profiler"},"query profiler"),". This timer counts only CPU time."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"A positive integer number of nanoseconds."),(0,l.kt)("p",{parentName:"li"},"Recommended values:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},"    - 10000000 (100 times a second) nanoseconds and more for single queries.\n    - 1000000000 (once a second) for cluster-wide profiling.\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"0 for turning off the timer."))),(0,l.kt)("p",null,"Type: ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/int-uint"},"UInt64"),"."),(0,l.kt)("p",null,"Default value: 1000000000 nanoseconds."),(0,l.kt)("p",null,"See also:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"System table ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/operations/system-tables/trace_log#system_tables-trace_log"},"trace_log"))),(0,l.kt)("h2",{id:"settings-allow_introspection_functions"},"allow_introspection_functions"),(0,l.kt)("p",null,"Enables or disables ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/introspection"},"introspections functions")," for query profiling."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Introspection functions enabled."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Introspection functions disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/operations/optimizing-performance/sampling-query-profiler"},"Sampling Query Profiler")),(0,l.kt)("li",{parentName:"ul"},"System table ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/operations/system-tables/trace_log#system_tables-trace_log"},"trace_log"))),(0,l.kt)("h2",{id:"input-format-parallel-parsing"},"input_format_parallel_parsing"),(0,l.kt)("p",null,"Enables or disables order-preserving parallel parsing of data formats. Supported only for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#tabseparated"},"TSV"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#tskv"},"TKSV"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#csv"},"CSV")," and ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#jsoneachrow"},"JSONEachRow")," formats."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"output-format-parallel-formatting"},"output_format_parallel_formatting"),(0,l.kt)("p",null,"Enables or disables parallel formatting of data formats. Supported only for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#tabseparated"},"TSV"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#tskv"},"TKSV"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#csv"},"CSV")," and ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#jsoneachrow"},"JSONEachRow")," formats."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"min-chunk-bytes-for-parallel-parsing"},"min_chunk_bytes_for_parallel_parsing"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Type: unsigned int"),(0,l.kt)("li",{parentName:"ul"},"Default value: 1 MiB")),(0,l.kt)("p",null,"The minimum chunk size in bytes, which each thread will parse in parallel."),(0,l.kt)("h2",{id:"settings-output_format_avro_codec"},"output_format_avro_codec"),(0,l.kt)("p",null,"Sets the compression codec used for output Avro file."),(0,l.kt)("p",null,"Type: string"),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"null")," \u2014 No compression"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"deflate")," \u2014 Compress with Deflate (zlib)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"snappy")," \u2014 Compress with ",(0,l.kt)("a",{parentName:"li",href:"https://google.github.io/snappy/"},"Snappy"))),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"snappy")," (if available) or ",(0,l.kt)("inlineCode",{parentName:"p"},"deflate"),"."),(0,l.kt)("h2",{id:"settings-output_format_avro_sync_interval"},"output_format_avro_sync_interval"),(0,l.kt)("p",null,"Sets minimum data size (in bytes) between synchronization markers for output Avro file."),(0,l.kt)("p",null,"Type: unsigned int"),(0,l.kt)("p",null,"Possible values: 32 (32 bytes) - 1073741824 (1 GiB)"),(0,l.kt)("p",null,"Default value: 32768 (32 KiB)"),(0,l.kt)("h2",{id:"output_format_avro_string_column_pattern"},"output_format_avro_string_column_pattern"),(0,l.kt)("p",null,"Regexp of column names of type String to output as Avro ",(0,l.kt)("inlineCode",{parentName:"p"},"string")," (default is ",(0,l.kt)("inlineCode",{parentName:"p"},"bytes"),").\nRE2 syntax is supported."),(0,l.kt)("p",null,"Type: string"),(0,l.kt)("h2",{id:"format_avro_schema_registry_url"},"format_avro_schema_registry_url"),(0,l.kt)("p",null,"Sets ",(0,l.kt)("a",{parentName:"p",href:"https://docs.confluent.io/current/schema-registry/index.html"},"Confluent Schema Registry")," URL to use with ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#data-format-avro-confluent"},"AvroConfluent")," format."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"Empty"),"."),(0,l.kt)("h2",{id:"input_format_avro_allow_missing_fields"},"input_format_avro_allow_missing_fields"),(0,l.kt)("p",null,"Enables using fields that are not specified in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#data-format-avro"},"Avro")," or ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#data-format-avro-confluent"},"AvroConfluent")," format schema. When a field is not found in the schema, ClickHouse uses the default value instead of throwing an exception."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"background_pool_size"},"background_pool_size"),(0,l.kt)("p",null,"Sets the number of threads performing background operations in table engines (for example, merges in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/"},"MergeTree engine")," tables). This setting is applied from the ",(0,l.kt)("inlineCode",{parentName:"p"},"default")," profile at the ClickHouse server start and can\u2019t be changed in a user session. By adjusting this setting, you manage CPU and disk load. Smaller pool size utilizes less CPU and disk resources, but background processes advance slower which might eventually impact query performance."),(0,l.kt)("p",null,"Before changing it, please also take a look at related ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/server-configuration-parameters/settings#server_configuration_parameters-merge_tree"},"MergeTree settings"),", such as ",(0,l.kt)("inlineCode",{parentName:"p"},"number_of_free_entries_in_pool_to_lower_max_size_of_merge")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"number_of_free_entries_in_pool_to_execute_mutation"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 16."),(0,l.kt)("h2",{id:"merge_selecting_sleep_ms"},"merge_selecting_sleep_ms"),(0,l.kt)("p",null,"Sleep time for merge selecting when no part is selected. A lower setting triggers selecting tasks in ",(0,l.kt)("inlineCode",{parentName:"p"},"background_schedule_pool")," frequently, which results in a large number of requests to Zookeeper in large-scale clusters."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"5000"),"."),(0,l.kt)("h2",{id:"parallel_distributed_insert_select"},"parallel_distributed_insert_select"),(0,l.kt)("p",null,"Enables parallel distributed ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT ... SELECT")," query."),(0,l.kt)("p",null,"If we execute ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT INTO distributed_table_a SELECT ... FROM distributed_table_b")," queries and both tables use the same cluster, and both tables are either ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"replicated")," or non-replicated, then this query is processed locally on every shard."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"SELECT")," will be executed on each shard from the underlying table of the distributed engine."),(0,l.kt)("li",{parentName:"ul"},"2 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"SELECT")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"INSERT")," will be executed on each shard from/to the underlying table of the distributed engine.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"insert_distributed_sync"},"insert_distributed_sync"),(0,l.kt)("p",null,"Enables or disables synchronous data insertion into a ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/distributed#distributed"},"Distributed")," table."),(0,l.kt)("p",null,"By default, when inserting data into a ",(0,l.kt)("inlineCode",{parentName:"p"},"Distributed")," table, the ClickHouse server sends data to cluster nodes in asynchronous mode. When ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_distributed_sync=1"),", the data is processed synchronously, and the ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," operation succeeds only after all the data is saved on all shards (at least one replica for each shard if ",(0,l.kt)("inlineCode",{parentName:"p"},"internal_replication")," is true)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Data is inserted in asynchronous mode."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Data is inserted in synchronous mode.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/special/distributed#distributed"},"Distributed Table Engine")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/statements/system#query-language-system-distributed"},"Managing Distributed Tables"))),(0,l.kt)("h2",{id:"insert_distributed_one_random_shard"},"insert_distributed_one_random_shard"),(0,l.kt)("p",null,"Enables or disables random shard insertion into a ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/distributed#distributed"},"Distributed")," table when there is no distributed key."),(0,l.kt)("p",null,"By default, when inserting data into a ",(0,l.kt)("inlineCode",{parentName:"p"},"Distributed")," table with more than one shard, the ClickHouse server will reject any insertion request if there is no distributed key. When ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_distributed_one_random_shard = 1"),", insertions are allowed and data is forwarded randomly among all shards."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Insertion is rejected if there are multiple shards and no distributed key is given."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Insertion is done randomly among all available shards when no distributed key is given.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"insert_shard_id"},"insert_shard_id"),(0,l.kt)("p",null,"If not ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),", specifies the shard of ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/distributed#distributed"},"Distributed")," table into which the data will be inserted synchronously."),(0,l.kt)("p",null,"If ",(0,l.kt)("inlineCode",{parentName:"p"},"insert_shard_id")," value is incorrect, the server will throw an exception."),(0,l.kt)("p",null,"To get the number of shards on ",(0,l.kt)("inlineCode",{parentName:"p"},"requested_cluster"),", you can check server config or use this query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT uniq(shard_num) FROM system.clusters WHERE cluster = 'requested_cluster';\n")),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"Any number from ",(0,l.kt)("inlineCode",{parentName:"li"},"1")," to ",(0,l.kt)("inlineCode",{parentName:"li"},"shards_num")," of corresponding ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/special/distributed#distributed"},"Distributed")," table.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE x AS system.numbers ENGINE = MergeTree ORDER BY number;\nCREATE TABLE x_dist AS x ENGINE = Distributed('test_cluster_two_shards_localhost', currentDatabase(), x);\nINSERT INTO x_dist SELECT * FROM numbers(5) SETTINGS insert_shard_id = 1;\nSELECT * FROM x_dist ORDER BY number ASC;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500number\u2500\u2510\n\u2502      0 \u2502\n\u2502      0 \u2502\n\u2502      1 \u2502\n\u2502      1 \u2502\n\u2502      2 \u2502\n\u2502      2 \u2502\n\u2502      3 \u2502\n\u2502      3 \u2502\n\u2502      4 \u2502\n\u2502      4 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"use_compact_format_in_distributed_parts_names"},"use_compact_format_in_distributed_parts_names"),(0,l.kt)("p",null,"Uses compact format for storing blocks for async (",(0,l.kt)("inlineCode",{parentName:"p"},"insert_distributed_sync"),") INSERT into tables with ",(0,l.kt)("inlineCode",{parentName:"p"},"Distributed")," engine."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Uses ",(0,l.kt)("inlineCode",{parentName:"li"},"user[:password]@host:port#default_database")," directory format."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Uses ",(0,l.kt)("inlineCode",{parentName:"li"},"[shard{shard_index}[_replica{replica_index}]]")," directory format.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},"with ",(0,l.kt)("inlineCode",{parentName:"li"},"use_compact_format_in_distributed_parts_names=0")," changes from cluster definition will not be applied for async INSERT."),(0,l.kt)("li",{parentName:"ul"},"with ",(0,l.kt)("inlineCode",{parentName:"li"},"use_compact_format_in_distributed_parts_names=1")," changing the order of the nodes in the cluster definition, will change the ",(0,l.kt)("inlineCode",{parentName:"li"},"shard_index"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"replica_index")," so be aware.")))),(0,l.kt)("h2",{id:"background_buffer_flush_schedule_pool_size"},"background_buffer_flush_schedule_pool_size"),(0,l.kt)("p",null,"Sets the number of threads performing background flush in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/buffer"},"Buffer"),"-engine tables. This setting is applied at the ClickHouse server start and can\u2019t be changed in a user session."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 16."),(0,l.kt)("h2",{id:"background_move_pool_size"},"background_move_pool_size"),(0,l.kt)("p",null,"Sets the number of threads performing background moves of data parts for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree#table_engine-mergetree-multiple-volumes"},"MergeTree"),"-engine tables. This setting is applied at the ClickHouse server start and can\u2019t be changed in a user session."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 8."),(0,l.kt)("h2",{id:"background_schedule_pool_size"},"background_schedule_pool_size"),(0,l.kt)("p",null,"Sets the number of threads performing background tasks for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"replicated")," tables, ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/integrations/kafka"},"Kafka")," streaming, ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/server-configuration-parameters/settings#server-settings-dns-cache-update-period"},"DNS cache updates"),". This setting is applied at ClickHouse server start and can\u2019t be changed in a user session."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 128."),(0,l.kt)("h2",{id:"background_fetches_pool_size"},"background_fetches_pool_size"),(0,l.kt)("p",null,"Sets the number of threads performing background fetches for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"replicated")," tables. This setting is applied at the ClickHouse server start and can\u2019t be changed in a user session. For production usage with frequent small insertions or slow ZooKeeper cluster is recommended to use default value."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 8."),(0,l.kt)("h2",{id:"always_fetch_merged_part"},"always_fetch_merged_part"),(0,l.kt)("p",null,"Prohibits data parts merging in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"Replicated","*","MergeTree"),"-engine tables."),(0,l.kt)("p",null,"When merging is prohibited, the replica never merges parts and always downloads merged parts from other replicas. If there is no required data yet, the replica waits for it. CPU and disk load on the replica server decreases, but the network load on the cluster increases. This setting can be useful on servers with relatively weak CPUs or slow disks, such as servers for backups storage."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"Replicated*MergeTree"),"-engine tables merge data parts at the replica."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"Replicated*MergeTree"),"-engine tables do not merge data parts at the replica. The tables download merged data parts from other replicas.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/replication"},"Data Replication"))),(0,l.kt)("h2",{id:"background_distributed_schedule_pool_size"},"background_distributed_schedule_pool_size"),(0,l.kt)("p",null,"Sets the number of threads performing background tasks for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/distributed"},"distributed")," sends. This setting is applied at the ClickHouse server start and can\u2019t be changed in a user session."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 16."),(0,l.kt)("h2",{id:"background_message_broker_schedule_pool_size"},"background_message_broker_schedule_pool_size"),(0,l.kt)("p",null,"Sets the number of threads performing background tasks for message streaming. This setting is applied at the ClickHouse server start and can\u2019t be changed in a user session."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 16."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/integrations/kafka#kafka"},"Kafka")," engine."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/integrations/rabbitmq#rabbitmq-engine"},"RabbitMQ")," engine.")),(0,l.kt)("h2",{id:"validate_polygons"},"validate_polygons"),(0,l.kt)("p",null,"Enables or disables throwing an exception in the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/geo/#pointinpolygon"},"pointInPolygon")," function, if the polygon is self-intersecting or self-tangent."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Throwing an exception is disabled. ",(0,l.kt)("inlineCode",{parentName:"li"},"pointInPolygon")," accepts invalid polygons and returns possibly incorrect results for them."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Throwing an exception is enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"transform_null_in"},"transform_null_in"),(0,l.kt)("p",null,"Enables equality of ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/syntax#null-literal"},"NULL")," values for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/operators/in"},"IN")," operator."),(0,l.kt)("p",null,"By default, ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL")," values can\u2019t be compared because ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL")," means undefined value. Thus, comparison ",(0,l.kt)("inlineCode",{parentName:"p"},"expr = NULL")," must always return ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),". With this setting ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL = NULL")," returns ",(0,l.kt)("inlineCode",{parentName:"p"},"true")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"IN")," operator."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Comparison of ",(0,l.kt)("inlineCode",{parentName:"li"},"NULL")," values in ",(0,l.kt)("inlineCode",{parentName:"li"},"IN")," operator returns ",(0,l.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Comparison of ",(0,l.kt)("inlineCode",{parentName:"li"},"NULL")," values in ",(0,l.kt)("inlineCode",{parentName:"li"},"IN")," operator returns ",(0,l.kt)("inlineCode",{parentName:"li"},"true"),".")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Consider the ",(0,l.kt)("inlineCode",{parentName:"p"},"null_in")," table:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500idx\u2500\u252c\u2500\u2500\u2500\u2500\u2500i\u2500\u2510\n\u2502    1 \u2502     1 \u2502\n\u2502    2 \u2502  NULL \u2502\n\u2502    3 \u2502     3 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT idx, i FROM null_in WHERE i IN (1, NULL) SETTINGS transform_null_in = 0;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500idx\u2500\u252c\u2500\u2500\u2500\u2500i\u2500\u2510\n\u2502    1 \u2502    1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT idx, i FROM null_in WHERE i IN (1, NULL) SETTINGS transform_null_in = 1;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500idx\u2500\u252c\u2500\u2500\u2500\u2500\u2500i\u2500\u2510\n\u2502    1 \u2502     1 \u2502\n\u2502    2 \u2502  NULL \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/operators/in#in-null-processing"},"NULL Processing in IN Operators"))),(0,l.kt)("h2",{id:"low_cardinality_max_dictionary_size"},"low_cardinality_max_dictionary_size"),(0,l.kt)("p",null,"Sets a maximum size in rows of a shared global dictionary for the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/lowcardinality"},"LowCardinality")," data type that can be written to a storage file system. This setting prevents issues with RAM in case of unlimited dictionary growth. All the data that can\u2019t be encoded due to maximum dictionary size limitation ClickHouse writes in an ordinary method."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer.")),(0,l.kt)("p",null,"Default value: 8192."),(0,l.kt)("h2",{id:"low_cardinality_use_single_dictionary_for_part"},"low_cardinality_use_single_dictionary_for_part"),(0,l.kt)("p",null,"Turns on or turns off using of single dictionary for the data part."),(0,l.kt)("p",null,"By default, the ClickHouse server monitors the size of dictionaries and if a dictionary overflows then the server starts to write the next one. To prohibit creating several dictionaries set ",(0,l.kt)("inlineCode",{parentName:"p"},"low_cardinality_use_single_dictionary_for_part = 1"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Creating several dictionaries for the data part is prohibited."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Creating several dictionaries for the data part is not prohibited.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"low_cardinality_allow_in_native_format"},"low_cardinality_allow_in_native_format"),(0,l.kt)("p",null,"Allows or restricts using the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/lowcardinality"},"LowCardinality")," data type with the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#native"},"Native")," format."),(0,l.kt)("p",null,"If usage of ",(0,l.kt)("inlineCode",{parentName:"p"},"LowCardinality")," is restricted, ClickHouse server converts ",(0,l.kt)("inlineCode",{parentName:"p"},"LowCardinality"),"-columns to ordinary ones for ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," queries, and convert ordinary columns to ",(0,l.kt)("inlineCode",{parentName:"p"},"LowCardinality"),"-columns for ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," queries."),(0,l.kt)("p",null,"This setting is required mainly for third-party clients which do not support ",(0,l.kt)("inlineCode",{parentName:"p"},"LowCardinality")," data type."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Usage of ",(0,l.kt)("inlineCode",{parentName:"li"},"LowCardinality")," is not restricted."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Usage of ",(0,l.kt)("inlineCode",{parentName:"li"},"LowCardinality")," is restricted.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"allow_suspicious_low_cardinality_types"},"allow_suspicious_low_cardinality_types"),(0,l.kt)("p",null,"Allows or restricts using ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/lowcardinality"},"LowCardinality")," with data types with fixed size of 8 bytes or less: numeric data types and ",(0,l.kt)("inlineCode",{parentName:"p"},"FixedString(8_bytes_or_less)"),"."),(0,l.kt)("p",null,"For small fixed values using of ",(0,l.kt)("inlineCode",{parentName:"p"},"LowCardinality")," is usually inefficient, because ClickHouse stores a numeric index for each row. As a result:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Disk space usage can rise."),(0,l.kt)("li",{parentName:"ul"},"RAM consumption can be higher, depending on a dictionary size."),(0,l.kt)("li",{parentName:"ul"},"Some functions can work slower due to extra coding/encoding operations.")),(0,l.kt)("p",null,"Merge times in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree"),"-engine tables can grow due to all the reasons described above."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Usage of ",(0,l.kt)("inlineCode",{parentName:"li"},"LowCardinality")," is not restricted."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Usage of ",(0,l.kt)("inlineCode",{parentName:"li"},"LowCardinality")," is restricted.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"min-insert-block-size-rows-for-materialized-views"},"min_insert_block_size_rows_for_materialized_views"),(0,l.kt)("p",null,"Sets the minimum number of rows in the block which can be inserted into a table by an ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," query. Smaller-sized blocks are squashed into bigger ones. This setting is applied only for blocks inserted into ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/view"},"materialized view"),". By adjusting this setting, you control blocks squashing while pushing to materialized view and avoid excessive memory usage."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Squashing disabled.")),(0,l.kt)("p",null,"Default value: 1048576."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#min-insert-block-size-rows"},"min_insert_block_size_rows"))),(0,l.kt)("h2",{id:"min-insert-block-size-bytes-for-materialized-views"},"min_insert_block_size_bytes_for_materialized_views"),(0,l.kt)("p",null,"Sets the minimum number of bytes in the block which can be inserted into a table by an ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," query. Smaller-sized blocks are squashed into bigger ones. This setting is applied only for blocks inserted into ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/view"},"materialized view"),". By adjusting this setting, you control blocks squashing while pushing to materialized view and avoid excessive memory usage."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Squashing disabled.")),(0,l.kt)("p",null,"Default value: 268435456."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#min-insert-block-size-bytes"},"min_insert_block_size_bytes"))),(0,l.kt)("h2",{id:"output-format-pretty-grid-charset"},"output_format_pretty_grid_charset"),(0,l.kt)("p",null,"Allows changing a charset which is used for printing grids borders. Available charsets are UTF-8, ASCII."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"SET output_format_pretty_grid_charset = 'UTF-8';\nSELECT * FROM a;\n\u250c\u2500a\u2500\u2510\n\u2502 1 \u2502\n\u2514\u2500\u2500\u2500\u2518\n\nSET output_format_pretty_grid_charset = 'ASCII';\nSELECT * FROM a;\n+-a-+\n| 1 |\n+---+\n")),(0,l.kt)("h2",{id:"optimize_read_in_order"},"optimize_read_in_order"),(0,l.kt)("p",null,"Enables ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/order-by#optimize_read_in_order"},"ORDER BY")," optimization in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/"},"SELECT")," queries for reading data from ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree")," tables."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"ORDER BY")," optimization is disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"ORDER BY")," optimization is enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/statements/select/order-by#optimize_read_in_order"},"ORDER BY Clause"))),(0,l.kt)("h2",{id:"optimize_aggregation_in_order"},"optimize_aggregation_in_order"),(0,l.kt)("p",null,"Enables ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/group-by"},"GROUP BY")," optimization in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/"},"SELECT")," queries for aggregating data in corresponding order in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree")," tables."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"GROUP BY")," optimization is disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"GROUP BY")," optimization is enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/statements/select/group-by#aggregation-in-order"},"GROUP BY optimization"))),(0,l.kt)("h2",{id:"mutations_sync"},"mutations_sync"),(0,l.kt)("p",null,"Allows to execute ",(0,l.kt)("inlineCode",{parentName:"p"},"ALTER TABLE ... UPDATE|DELETE")," queries (",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/alter/#mutations"},"mutations"),") synchronously."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 - Mutations execute asynchronously."),(0,l.kt)("li",{parentName:"ul"},"1 - The query waits for all mutations to complete on the current server."),(0,l.kt)("li",{parentName:"ul"},"2 - The query waits for all mutations to complete on all replicas (if they exist).")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/statements/alter/#synchronicity-of-alter-queries"},"Synchronicity of ALTER Queries")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/statements/alter/#mutations"},"Mutations"))),(0,l.kt)("h2",{id:"ttl_only_drop_parts"},"ttl_only_drop_parts"),(0,l.kt)("p",null,"Enables or disables complete dropping of data parts where all rows are expired in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree"},"MergeTree")," tables."),(0,l.kt)("p",null,"When ",(0,l.kt)("inlineCode",{parentName:"p"},"ttl_only_drop_parts")," is disabled (by default), the ClickHouse server only deletes expired rows according to their TTL."),(0,l.kt)("p",null,"When ",(0,l.kt)("inlineCode",{parentName:"p"},"ttl_only_drop_parts")," is enabled, the ClickHouse server drops a whole part when all rows in it are expired."),(0,l.kt)("p",null,"Dropping whole parts instead of partial cleaning TTL-d rows allows having shorter ",(0,l.kt)("inlineCode",{parentName:"p"},"merge_with_ttl_timeout")," times and lower impact on system performance."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The complete dropping of data parts is disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 The complete dropping of data parts is enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree#mergetree-query-clauses"},"CREATE TABLE query clauses and settings")," (",(0,l.kt)("inlineCode",{parentName:"li"},"merge_with_ttl_timeout")," setting)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree#mergetree-table-ttl"},"Table TTL"))),(0,l.kt)("h2",{id:"lock_acquire_timeout"},"lock_acquire_timeout"),(0,l.kt)("p",null,"Defines how many seconds a locking request waits before failing."),(0,l.kt)("p",null,'Locking timeout is used to protect from deadlocks while executing read/write operations with tables. When the timeout expires and the locking request fails, the ClickHouse server throws an exception "Locking attempt timed out! Possible deadlock avoided. Client should retry." with error code ',(0,l.kt)("inlineCode",{parentName:"p"},"DEADLOCK_AVOIDED"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer (in seconds)."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 No locking timeout.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"120")," seconds."),(0,l.kt)("h2",{id:"cast_keep_nullable"},"cast_keep_nullable"),(0,l.kt)("p",null,"Enables or disables keeping of the ",(0,l.kt)("inlineCode",{parentName:"p"},"Nullable")," data type in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/type-conversion-functions#type_conversion_function-cast"},"CAST")," operations."),(0,l.kt)("p",null,"When the setting is enabled and the argument of ",(0,l.kt)("inlineCode",{parentName:"p"},"CAST")," function is ",(0,l.kt)("inlineCode",{parentName:"p"},"Nullable"),", the result is also transformed to ",(0,l.kt)("inlineCode",{parentName:"p"},"Nullable")," type. When the setting is disabled, the result always has the destination type exactly."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The ",(0,l.kt)("inlineCode",{parentName:"li"},"CAST")," result has exactly the destination type specified."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 If the argument type is ",(0,l.kt)("inlineCode",{parentName:"li"},"Nullable"),", the ",(0,l.kt)("inlineCode",{parentName:"li"},"CAST")," result is transformed to ",(0,l.kt)("inlineCode",{parentName:"li"},"Nullable(DestinationDataType)"),".")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples")),(0,l.kt)("p",null,"The following query results in the destination data type exactly:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET cast_keep_nullable = 0;\nSELECT CAST(toNullable(toInt32(0)) AS Int32) as x, toTypeName(x);\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500x\u2500\u252c\u2500toTypeName(CAST(toNullable(toInt32(0)), 'Int32'))\u2500\u2510\n\u2502 0 \u2502 Int32                                             \u2502\n\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"The following query results in the ",(0,l.kt)("inlineCode",{parentName:"p"},"Nullable")," modification on the destination data type:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET cast_keep_nullable = 1;\nSELECT CAST(toNullable(toInt32(0)) AS Int32) as x, toTypeName(x);\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500x\u2500\u252c\u2500toTypeName(CAST(toNullable(toInt32(0)), 'Int32'))\u2500\u2510\n\u2502 0 \u2502 Nullable(Int32)                                   \u2502\n\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/sql-reference/functions/type-conversion-functions#type_conversion_function-cast"},"CAST")," function")),(0,l.kt)("h2",{id:"output_format_pretty_max_value_width"},"output_format_pretty_max_value_width"),(0,l.kt)("p",null,"Limits the width of value displayed in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#pretty"},"Pretty")," formats. If the value width exceeds the limit, the value is cut."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The value is cut completely.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"10000")," symbols."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET output_format_pretty_max_value_width = 10;\nSELECT range(number) FROM system.numbers LIMIT 10 FORMAT PrettyCompactNoEscapes;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500range(number)\u2500\u2510\n\u2502 []            \u2502\n\u2502 [0]           \u2502\n\u2502 [0,1]         \u2502\n\u2502 [0,1,2]       \u2502\n\u2502 [0,1,2,3]     \u2502\n\u2502 [0,1,2,3,4\u22ef   \u2502\n\u2502 [0,1,2,3,4\u22ef   \u2502\n\u2502 [0,1,2,3,4\u22ef   \u2502\n\u2502 [0,1,2,3,4\u22ef   \u2502\n\u2502 [0,1,2,3,4\u22ef   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Query with zero width:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET output_format_pretty_max_value_width = 0;\nSELECT range(number) FROM system.numbers LIMIT 5 FORMAT PrettyCompactNoEscapes;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500range(number)\u2500\u2510\n\u2502 \u22ef             \u2502\n\u2502 \u22ef             \u2502\n\u2502 \u22ef             \u2502\n\u2502 \u22ef             \u2502\n\u2502 \u22ef             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"output_format_pretty_row_numbers"},"output_format_pretty_row_numbers"),(0,l.kt)("p",null,"Adds row numbers to output in the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#pretty"},"Pretty")," format."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Output without row numbers."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Output with row numbers.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET output_format_pretty_row_numbers = 1;\nSELECT TOP 3 name, value FROM system.settings;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"   \u250c\u2500name\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500value\u2500\u2500\u2500\u2510\n1. \u2502 min_compress_block_size \u2502 65536   \u2502\n2. \u2502 max_compress_block_size \u2502 1048576 \u2502\n3. \u2502 max_block_size          \u2502 65505   \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"system_events_show_zero_values"},"system_events_show_zero_values"),(0,l.kt)("p",null,"Allows to select zero-valued events from ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/system-tables/events"},(0,l.kt)("inlineCode",{parentName:"a"},"system.events")),"."),(0,l.kt)("p",null,"Some monitoring systems require passing all the metrics values to them for each checkpoint, even if the metric value is zero."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples")),(0,l.kt)("p",null,"Query"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM system.events WHERE event='QueryMemoryLimitExceeded';\n")),(0,l.kt)("p",null,"Result"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Ok.\n")),(0,l.kt)("p",null,"Query"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET system_events_show_zero_values = 1;\nSELECT * FROM system.events WHERE event='QueryMemoryLimitExceeded';\n")),(0,l.kt)("p",null,"Result"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500event\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500value\u2500\u252c\u2500description\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 QueryMemoryLimitExceeded \u2502     0 \u2502 Number of times when memory limit exceeded for query. \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"persistent"},"persistent"),(0,l.kt)("p",null,"Disables persistency for the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/set#set"},"Set")," and ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/join#join"},"Join")," table engines."),(0,l.kt)("p",null,"Reduces the I/O overhead. Suitable for scenarios that pursue performance and do not require persistence."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"format_csv_null_representation"},"format_csv_null_representation"),(0,l.kt)("p",null,"Defines the representation of ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL")," for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#csv"},"CSV")," output and input formats. User can set any string as a value, for example, ",(0,l.kt)("inlineCode",{parentName:"p"},"My NULL"),"."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"\\N"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples")),(0,l.kt)("p",null,"Query"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * from csv_custom_null FORMAT CSV;\n")),(0,l.kt)("p",null,"Result"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"788\n\\N\n\\N\n")),(0,l.kt)("p",null,"Query"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET format_csv_null_representation = 'My NULL';\nSELECT * FROM csv_custom_null FORMAT CSV;\n")),(0,l.kt)("p",null,"Result"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"788\nMy NULL\nMy NULL\n")),(0,l.kt)("h2",{id:"format_tsv_null_representation"},"format_tsv_null_representation"),(0,l.kt)("p",null,"Defines the representation of ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL")," for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#tabseparated"},"TSV")," output and input formats. User can set any string as a value, for example, ",(0,l.kt)("inlineCode",{parentName:"p"},"My NULL"),"."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"\\N"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples")),(0,l.kt)("p",null,"Query"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM tsv_custom_null FORMAT TSV;\n")),(0,l.kt)("p",null,"Result"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"788\n\\N\n\\N\n")),(0,l.kt)("p",null,"Query"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET format_tsv_null_representation = 'My NULL';\nSELECT * FROM tsv_custom_null FORMAT TSV;\n")),(0,l.kt)("p",null,"Result"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"788\nMy NULL\nMy NULL\n")),(0,l.kt)("h2",{id:"output-format-json-array-of-rows"},"output_format_json_array_of_rows"),(0,l.kt)("p",null,"Enables the ability to output all rows as a JSON array in the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#jsoneachrow"},"JSONEachRow")," format."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ClickHouse outputs all rows as an array, each row in the ",(0,l.kt)("inlineCode",{parentName:"li"},"JSONEachRow")," format."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 ClickHouse outputs each row separately in the ",(0,l.kt)("inlineCode",{parentName:"li"},"JSONEachRow")," format.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example of a query with the enabled setting")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET output_format_json_array_of_rows = 1;\nSELECT number FROM numbers(3) FORMAT JSONEachRow;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'[\n{"number":"0"},\n{"number":"1"},\n{"number":"2"}\n]\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example of a query with the disabled setting")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET output_format_json_array_of_rows = 0;\nSELECT number FROM numbers(3) FORMAT JSONEachRow;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'{"number":"0"}\n{"number":"1"}\n{"number":"2"}\n')),(0,l.kt)("h2",{id:"allow-nullable-key"},"allow_nullable_key"),(0,l.kt)("p",null,"Allows using of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/nullable#data_type-nullable"},"Nullable"),"-typed values in a sorting and a primary key for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree#table_engines-mergetree"},"MergeTree")," tables."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"Nullable"),"-type expressions are allowed in keys."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"Nullable"),"-type expressions are not allowed in keys.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Nullable primary key usually indicates bad design. It is forbidden in almost all main stream DBMS. The feature is mainly for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/aggregatingmergetree"},"AggregatingMergeTree")," and is not heavily tested. Use with care."))),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Do not enable this feature in version ",(0,l.kt)("inlineCode",{parentName:"p"},"<= 21.8"),". It's not properly implemented and may lead to server crash."))),(0,l.kt)("h2",{id:"aggregate_functions_null_for_empty"},"aggregate_functions_null_for_empty"),(0,l.kt)("p",null,"Enables or disables rewriting all aggregate functions in a query, adding ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/combinators#agg-functions-combinator-ornull"},"-OrNull")," suffix to them. Enable it for SQL standard compatibility.\nIt is implemented via query rewrite (similar to ",(0,l.kt)("a",{parentName:"p",href:"#settings-count_distinct_implementation"},"count_distinct_implementation")," setting) to get consistent results for distributed queries."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Consider the following query with aggregate functions:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT SUM(-1), MAX(0) FROM system.one WHERE 0;\n")),(0,l.kt)("p",null,"With ",(0,l.kt)("inlineCode",{parentName:"p"},"aggregate_functions_null_for_empty = 0")," it would produce:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500SUM(-1)\u2500\u252c\u2500MAX(0)\u2500\u2510\n\u2502       0 \u2502      0 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"With ",(0,l.kt)("inlineCode",{parentName:"p"},"aggregate_functions_null_for_empty = 1")," the result would be:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500SUMOrNull(-1)\u2500\u252c\u2500MAXOrNull(0)\u2500\u2510\n\u2502          NULL \u2502         NULL \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"union-default-mode"},"union_default_mode"),(0,l.kt)("p",null,"Sets a mode for combining ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," query results. The setting is only used when shared with ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/union"},"UNION")," without explicitly specifying the ",(0,l.kt)("inlineCode",{parentName:"p"},"UNION ALL")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"UNION DISTINCT"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'DISTINCT'")," \u2014 ClickHouse outputs rows as a result of combining queries removing duplicate rows."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'ALL'")," \u2014 ClickHouse outputs all rows as a result of combining queries including duplicate rows."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"''")," \u2014 ClickHouse generates an exception when used with ",(0,l.kt)("inlineCode",{parentName:"li"},"UNION"),".")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"''"),"."),(0,l.kt)("p",null,"See examples in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/union"},"UNION"),"."),(0,l.kt)("h2",{id:"data_type_default_nullable"},"data_type_default_nullable"),(0,l.kt)("p",null,"Allows data types without explicit modifiers ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/table#null-modifiers"},"NULL or NOT NULL")," in column definition will be ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/nullable#data_type-nullable"},"Nullable"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 The data types in column definitions are set to ",(0,l.kt)("inlineCode",{parentName:"li"},"Nullable")," by default."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The data types in column definitions are set to not ",(0,l.kt)("inlineCode",{parentName:"li"},"Nullable")," by default.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"execute-merges-on-single-replica-time-threshold"},"execute_merges_on_single_replica_time_threshold"),(0,l.kt)("p",null,"Enables special logic to perform merges on replicas."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer (in seconds)."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Special merges logic is not used. Merges happen in the usual way on all the replicas.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Usage")),(0,l.kt)("p",null,"Selects one replica to perform the merge on. Sets the time threshold from the start of the merge. Other replicas wait for the merge to finish, then download the result. If the time threshold passes and the selected replica does not perform the merge, then the merge is performed on other replicas as usual."),(0,l.kt)("p",null,"High values for that threshold may lead to replication delays."),(0,l.kt)("p",null,"It can be useful when merges are CPU bounded not IO bounded (performing heavy data compression, calculating aggregate functions or default expressions that require a large amount of calculations, or just very high number of tiny merges)."),(0,l.kt)("h2",{id:"max-final-threads"},"max_final_threads"),(0,l.kt)("p",null,"Sets the maximum number of parallel threads for the ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," query data read phase with the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/from#select-from-final"},"FINAL")," modifier."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 or 1 \u2014 Disabled. ",(0,l.kt)("inlineCode",{parentName:"li"},"SELECT")," queries are executed in a single thread.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"16"),"."),(0,l.kt)("h2",{id:"opentelemetry-start-trace-probability"},"opentelemetry_start_trace_probability"),(0,l.kt)("p",null,"Sets the probability that the ClickHouse can start a trace for executed queries (if no parent ",(0,l.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/trace-context/"},"trace context")," is supplied)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The trace for all executed queries is disabled (if no parent trace context is supplied)."),(0,l.kt)("li",{parentName:"ul"},"Positive floating-point number in the range ","[0..1]",". For example, if the setting value is ",(0,l.kt)("inlineCode",{parentName:"li"},"0,5"),", ClickHouse can start a trace on average for half of the queries."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 The trace for all executed queries is enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"optimize-on-insert"},"optimize_on_insert"),(0,l.kt)("p",null,"Enables or disables data transformation before the insertion, as if merge was done on this block (according to table engine)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"The difference between enabled and disabled:"),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET optimize_on_insert = 1;\n\nCREATE TABLE test1 (`FirstTable` UInt32) ENGINE = ReplacingMergeTree ORDER BY FirstTable;\n\nINSERT INTO test1 SELECT number % 2 FROM numbers(5);\n\nSELECT * FROM test1;\n\nSET optimize_on_insert = 0;\n\nCREATE TABLE test2 (`SecondTable` UInt32) ENGINE = ReplacingMergeTree ORDER BY SecondTable;\n\nINSERT INTO test2 SELECT number % 2 FROM numbers(5);\n\nSELECT * FROM test2;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500FirstTable\u2500\u2510\n\u2502          0 \u2502\n\u2502          1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500SecondTable\u2500\u2510\n\u2502           0 \u2502\n\u2502           0 \u2502\n\u2502           0 \u2502\n\u2502           1 \u2502\n\u2502           1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Note that this setting influences ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/view#materialized"},"Materialized view")," and ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/database-engines/materialized-mysql"},"MaterializedMySQL")," behaviour."),(0,l.kt)("h2",{id:"engine-file-empty_if-not-exists"},"engine_file_empty_if_not_exists"),(0,l.kt)("p",null,"Allows to select data from a file engine table without file."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"SELECT")," throws exception."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"SELECT")," returns empty result.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"engine-file-truncate-on-insert"},"engine_file_truncate_on_insert"),(0,l.kt)("p",null,"Enables or disables truncate before insert in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/special/file"},"File")," engine tables."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"INSERT")," query appends new data to the end of the file."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"INSERT")," replaces existing content of the file with the new data.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"allow-experimental-geo-types"},"allow_experimental_geo_types"),(0,l.kt)("p",null,"Allows working with experimental ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/geo"},"geo data types"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Working with geo data types is disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Working with geo data types is enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"database_atomic_wait_for_drop_and_detach_synchronously"},"database_atomic_wait_for_drop_and_detach_synchronously"),(0,l.kt)("p",null,"Adds a modifier ",(0,l.kt)("inlineCode",{parentName:"p"},"SYNC")," to all ",(0,l.kt)("inlineCode",{parentName:"p"},"DROP")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"DETACH")," queries."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Queries will be executed with delay."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Queries will be executed without delay.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"show_table_uuid_in_table_create_query_if_not_nil"},"show_table_uuid_in_table_create_query_if_not_nil"),(0,l.kt)("p",null,"Sets the ",(0,l.kt)("inlineCode",{parentName:"p"},"SHOW TABLE")," query display."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The query will be displayed without table UUID."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 The query will be displayed with table UUID.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"allow-experimental-live-view"},"allow_experimental_live_view"),(0,l.kt)("p",null,"Allows creation of experimental ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/view#live-view"},"live views"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Working with live views is disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Working with live views is enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"live-view-heartbeat-interval"},"live_view_heartbeat_interval"),(0,l.kt)("p",null,"Sets the heartbeat interval in seconds to indicate ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/view#live-view"},"live view")," is alive ."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"15"),"."),(0,l.kt)("h2",{id:"max-live-view-insert-blocks-before-refresh"},"max_live_view_insert_blocks_before_refresh"),(0,l.kt)("p",null,"Sets the maximum number of inserted blocks after which mergeable blocks are dropped and query for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/view#live-view"},"live view")," is re-executed."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"64"),"."),(0,l.kt)("h2",{id:"temporary-live-view-timeout"},"temporary_live_view_timeout"),(0,l.kt)("p",null,"Sets the interval in seconds after which ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/view#live-view"},"live view")," with timeout is deleted."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"5"),"."),(0,l.kt)("h2",{id:"periodic-live-view-refresh"},"periodic_live_view_refresh"),(0,l.kt)("p",null,"Sets the interval in seconds after which periodically refreshed ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/create/view#live-view"},"live view")," is forced to refresh."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"60"),"."),(0,l.kt)("h2",{id:"http_connection_timeout"},"http_connection_timeout"),(0,l.kt)("p",null,"HTTP connection timeout (in seconds)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 - Disabled (infinite timeout).")),(0,l.kt)("p",null,"Default value: 1."),(0,l.kt)("h2",{id:"http_send_timeout"},"http_send_timeout"),(0,l.kt)("p",null,"HTTP send timeout (in seconds)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 - Disabled (infinite timeout).")),(0,l.kt)("p",null,"Default value: 1800."),(0,l.kt)("h2",{id:"http_receive_timeout"},"http_receive_timeout"),(0,l.kt)("p",null,"HTTP receive timeout (in seconds)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Any positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 - Disabled (infinite timeout).")),(0,l.kt)("p",null,"Default value: 1800."),(0,l.kt)("h2",{id:"check_query_single_value_result"},"check_query_single_value_result"),(0,l.kt)("p",null,"Defines the level of detail for the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/check-table#checking-mergetree-tables"},"CHECK TABLE")," query result for ",(0,l.kt)("inlineCode",{parentName:"p"},"MergeTree")," family engines ."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 the query shows a check status for every individual data part of a table."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 the query shows the general table check status.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"prefer-column-name-to-alias"},"prefer_column_name_to_alias"),(0,l.kt)("p",null,"Enables or disables using the original column names instead of aliases in query expressions and clauses. It especially matters when alias is the same as the column name, see ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/syntax#notes-on-usage"},"Expression Aliases"),". Enable this setting to make aliases syntax rules in ClickHouse more compatible with most other database engines."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The column name is substituted with the alias."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 The column name is not substituted with the alias.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"The difference between enabled and disabled:"),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET prefer_column_name_to_alias = 0;\nSELECT avg(number) AS number, max(number) FROM numbers(10);\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Received exception from server (version 21.5.1):\nCode: 184. DB::Exception: Received from localhost:9000. DB::Exception: Aggregate function avg(number) is found inside another aggregate function in query: While processing avg(number) AS number.\n")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET prefer_column_name_to_alias = 1;\nSELECT avg(number) AS number, max(number) FROM numbers(10);\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500number\u2500\u252c\u2500max(number)\u2500\u2510\n\u2502    4.5 \u2502           9 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"limit"},"limit"),(0,l.kt)("p",null,"Sets the maximum number of rows to get from the query result. It adjusts the value set by the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/limit#limit-clause"},"LIMIT")," clause, so that the limit, specified in the query, cannot exceed the limit, set by this setting."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The number of rows is not limited."),(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"offset"},"offset"),(0,l.kt)("p",null,"Sets the number of rows to skip before starting to return rows from the query. It adjusts the offset set by the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/offset#offset-fetch"},"OFFSET")," clause, so that these two values are summarized."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 No rows are skipped ."),(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Input table:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE test (i UInt64) ENGINE = MergeTree() ORDER BY i;\nINSERT INTO test SELECT number FROM numbers(500);\n")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET limit = 5;\nSET offset = 7;\nSELECT * FROM test LIMIT 10 OFFSET 100;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500\u2500i\u2500\u2510\n\u2502 107 \u2502\n\u2502 108 \u2502\n\u2502 109 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"optimize_syntax_fuse_functions"},"optimize_syntax_fuse_functions"),(0,l.kt)("p",null,"Enables to fuse aggregate functions with identical argument. It rewrites query contains at least two aggregate functions from ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/sum#agg_function-sum"},"sum"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/count#agg_function-count"},"count")," or ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/avg#agg_function-avg"},"avg")," with identical argument to ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/aggregate-functions/reference/sumcount#agg_function-sumCount"},"sumCount"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Functions with identical argument are not fused."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Functions with identical argument are fused.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE fuse_tbl(a Int8, b Int8) Engine = Log;\nSET optimize_syntax_fuse_functions = 1;\nEXPLAIN SYNTAX SELECT sum(a), sum(b), count(b), avg(b) from fuse_tbl FORMAT TSV;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"SELECT\n    sum(a),\n    sumCount(b).1,\n    sumCount(b).2,\n    (sumCount(b).1) / (sumCount(b).2)\nFROM fuse_tbl\n")),(0,l.kt)("h2",{id:"allow_experimental_database_replicated"},"allow_experimental_database_replicated"),(0,l.kt)("p",null,"Enables to create databases with ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/database-engines/replicated"},"Replicated")," engine."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"database_replicated_initial_query_timeout_sec"},"database_replicated_initial_query_timeout_sec"),(0,l.kt)("p",null,"Sets how long initial DDL query should wait for Replicated database to precess previous DDL queue entries in seconds."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Unlimited.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"300"),"."),(0,l.kt)("h2",{id:"distributed_ddl_task_timeout"},"distributed_ddl_task_timeout"),(0,l.kt)("p",null,"Sets timeout for DDL query responses from all hosts in cluster. If a DDL request has not been performed on all hosts, a response will contain a timeout error and a request will be executed in an async mode. Negative value means infinite."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Async mode."),(0,l.kt)("li",{parentName:"ul"},"Negative integer \u2014 infinite timeout.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"180"),"."),(0,l.kt)("h2",{id:"distributed_ddl_output_mode"},"distributed_ddl_output_mode"),(0,l.kt)("p",null,"Sets format of distributed DDL query result."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"throw")," \u2014 Returns result set with query execution status for all hosts where query is finished. If query has failed on some hosts, then it will rethrow the first exception. If query is not finished yet on some hosts and ",(0,l.kt)("a",{parentName:"li",href:"#distributed_ddl_task_timeout"},"distributed_ddl_task_timeout")," exceeded, then it throws ",(0,l.kt)("inlineCode",{parentName:"li"},"TIMEOUT_EXCEEDED")," exception."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"none")," \u2014 Is similar to throw, but distributed DDL query returns no result set."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"null_status_on_timeout")," \u2014 Returns ",(0,l.kt)("inlineCode",{parentName:"li"},"NULL")," as execution status in some rows of result set instead of throwing ",(0,l.kt)("inlineCode",{parentName:"li"},"TIMEOUT_EXCEEDED")," if query is not finished on the corresponding hosts."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"never_throw")," \u2014 Do not throw ",(0,l.kt)("inlineCode",{parentName:"li"},"TIMEOUT_EXCEEDED")," and do not rethrow exceptions if query has failed on some hosts.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"throw"),"."),(0,l.kt)("h2",{id:"flatten-nested"},"flatten_nested"),(0,l.kt)("p",null,"Sets the data format of a ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/nested-data-structures/nested"},"nested")," columns."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Nested column is flattened to separate arrays."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Nested column stays a single array of tuples.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Usage")),(0,l.kt)("p",null,"If the setting is set to ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),", it is possible to use an arbitrary level of nesting."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET flatten_nested = 1;\nCREATE TABLE t_nest (`n` Nested(a UInt32, b UInt32)) ENGINE = MergeTree ORDER BY tuple();\n\nSHOW CREATE TABLE t_nest;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500statement\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 CREATE TABLE default.t_nest\n(\n    `n.a` Array(UInt32),\n    `n.b` Array(UInt32)\n)\nENGINE = MergeTree\nORDER BY tuple()\nSETTINGS index_granularity = 8192 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SET flatten_nested = 0;\n\nCREATE TABLE t_nest (`n` Nested(a UInt32, b UInt32)) ENGINE = MergeTree ORDER BY tuple();\n\nSHOW CREATE TABLE t_nest;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500statement\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 CREATE TABLE default.t_nest\n(\n    `n` Nested(a UInt32, b UInt32)\n)\nENGINE = MergeTree\nORDER BY tuple()\nSETTINGS index_granularity = 8192 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"external-table-functions-use-nulls"},"external_table_functions_use_nulls"),(0,l.kt)("p",null,"Defines how ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/table-functions/mysql"},"mysql"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/table-functions/postgresql"},"postgresql")," and ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/table-functions/odbc"},"odbc"),"] table functions use Nullable columns."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The table function explicitly uses Nullable columns."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 The table function implicitly uses Nullable columns.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Usage")),(0,l.kt)("p",null,"If the setting is set to ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),", the table function does not make Nullable columns and inserts default values instead of NULL. This is also applicable for NULL values inside arrays."),(0,l.kt)("h2",{id:"output-format-arrow-low-cardinality-as-dictionary"},"output_format_arrow_low_cardinality_as_dictionary"),(0,l.kt)("p",null,"Allows to convert the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/lowcardinality"},"LowCardinality")," type to the ",(0,l.kt)("inlineCode",{parentName:"p"},"DICTIONARY")," type of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#data-format-arrow"},"Arrow")," format for ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," queries."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 The ",(0,l.kt)("inlineCode",{parentName:"li"},"LowCardinality")," type is not converted to the ",(0,l.kt)("inlineCode",{parentName:"li"},"DICTIONARY")," type."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 The ",(0,l.kt)("inlineCode",{parentName:"li"},"LowCardinality")," type is converted to the ",(0,l.kt)("inlineCode",{parentName:"li"},"DICTIONARY")," type.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"allow-experimental-projection-optimization"},"allow_experimental_projection_optimization"),(0,l.kt)("p",null,"Enables or disables ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree#projections"},"projection")," optimization when processing ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," queries."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Projection optimization disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Projection optimization enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"force-optimize-projection"},"force_optimize_projection"),(0,l.kt)("p",null,"Enables or disables the obligatory use of ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/mergetree#projections"},"projections")," in ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," queries, when projection optimization is enabled (see ",(0,l.kt)("a",{parentName:"p",href:"#allow-experimental-projection-optimization"},"allow_experimental_projection_optimization")," setting)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Projection optimization is not obligatory."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Projection optimization is obligatory.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"replication-alter-partitions-sync"},"replication_alter_partitions_sync"),(0,l.kt)("p",null,"Allows to set up waiting for actions to be executed on replicas by ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/alter/"},"ALTER"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/optimize"},"OPTIMIZE")," or ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/truncate"},"TRUNCATE")," queries."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Do not wait."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Wait for own execution."),(0,l.kt)("li",{parentName:"ul"},"2 \u2014 Wait for everyone.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"replication-wait-for-inactive-replica-timeout"},"replication_wait_for_inactive_replica_timeout"),(0,l.kt)("p",null,"Specifies how long (in seconds) to wait for inactive replicas to execute ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/alter/"},"ALTER"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/optimize"},"OPTIMIZE")," or ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/truncate"},"TRUNCATE")," queries."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Do not wait."),(0,l.kt)("li",{parentName:"ul"},"Negative integer \u2014 Wait for unlimited time."),(0,l.kt)("li",{parentName:"ul"},"Positive integer \u2014 The number of seconds to wait.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"120")," seconds."),(0,l.kt)("h2",{id:"regexp-max-matches-per-row"},"regexp_max_matches_per_row"),(0,l.kt)("p",null,"Sets the maximum number of matches for a single regular expression per row. Use it to protect against memory overload when using greedy regular expression in the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/string-search-functions#extractallgroups-horizontal"},"extractAllGroupsHorizontal")," function."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1000"),"."),(0,l.kt)("h2",{id:"http-max-single-read-retries"},"http_max_single_read_retries"),(0,l.kt)("p",null,"Sets the maximum number of retries during a single HTTP read."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1024"),"."),(0,l.kt)("h2",{id:"log-queries-probability"},"log_queries_probability"),(0,l.kt)("p",null,"Allows a user to write to ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/system-tables/query_log"},"query_log"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/system-tables/query_thread_log"},"query_thread_log"),", and ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/operations/system-tables/query_views_log"},"query_views_log")," system tables only a sample of queries selected randomly with the specified probability. It helps to reduce the load with a large volume of queries in a second."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Queries are not logged in the system tables."),(0,l.kt)("li",{parentName:"ul"},"Positive floating-point number in the range ","[0..1]",". For example, if the setting value is ",(0,l.kt)("inlineCode",{parentName:"li"},"0.5"),", about half of the queries are logged in the system tables."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 All queries are logged in the system tables.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"short-circuit-function-evaluation"},"short_circuit_function_evaluation"),(0,l.kt)("p",null,"Allows calculating the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/conditional-functions#if"},"if"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/conditional-functions#multiif"},"multiIf"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/logical-functions#logical-and-function"},"and"),", and ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/logical-functions#logical-or-function"},"or")," functions according to a ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Short-circuit_evaluation"},"short scheme"),". This helps optimize the execution of complex expressions in these functions and prevent possible exceptions (such as division by zero when it is not expected)."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"enable")," \u2014 Enables short-circuit function evaluation for functions that are suitable for it (can throw an exception or computationally heavy)."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"force_enable")," \u2014 Enables short-circuit function evaluation for all functions."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"disable")," \u2014 Disables short-circuit function evaluation.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"enable"),"."),(0,l.kt)("h2",{id:"max-hyperscan-regexp-length"},"max_hyperscan_regexp_length"),(0,l.kt)("p",null,"Defines the maximum length for each regular expression in the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/string-search-functions#multimatchanyhaystack-pattern1-pattern2-patternn"},"hyperscan multi-match functions"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 - The length is not limited.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT multiMatchAny('abcd', ['ab','bcd','c','d']) SETTINGS max_hyperscan_regexp_length = 3;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500multiMatchAny('abcd', ['ab', 'bcd', 'c', 'd'])\u2500\u2510\n\u2502                                              1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT multiMatchAny('abcd', ['ab','bcd','c','d']) SETTINGS max_hyperscan_regexp_length = 2;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Exception: Regexp length too large.\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#max-hyperscan-regexp-total-length"},"max_hyperscan_regexp_total_length"))),(0,l.kt)("h2",{id:"max-hyperscan-regexp-total-length"},"max_hyperscan_regexp_total_length"),(0,l.kt)("p",null,"Sets the maximum length total of all regular expressions in each ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/functions/string-search-functions#multimatchanyhaystack-pattern1-pattern2-patternn"},"hyperscan multi-match function"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 - The length is not limited.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT multiMatchAny('abcd', ['a','b','c','d']) SETTINGS max_hyperscan_regexp_total_length = 5;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500multiMatchAny('abcd', ['a', 'b', 'c', 'd'])\u2500\u2510\n\u2502                                           1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT multiMatchAny('abcd', ['ab','bc','c','d']) SETTINGS max_hyperscan_regexp_total_length = 5;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Exception: Total regexp lengths too large.\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#max-hyperscan-regexp-length"},"max_hyperscan_regexp_length"))),(0,l.kt)("h2",{id:"enable-positional-arguments"},"enable_positional_arguments"),(0,l.kt)("p",null,"Enables or disables supporting positional arguments for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/group-by"},"GROUP BY"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/limit-by"},"LIMIT BY"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/order-by"},"ORDER BY")," statements. When you want to use column numbers instead of column names in these clauses, set ",(0,l.kt)("inlineCode",{parentName:"p"},"enable_positional_arguments = 1"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Positional arguments aren't supported."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Positional arguments are supported: column numbers can use instead of column names.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"Query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE positional_arguments(one Int, two Int, three Int) ENGINE=Memory();\n\nINSERT INTO positional_arguments VALUES (10, 20, 30), (20, 20, 10), (30, 10, 20);\n\nSET enable_positional_arguments = 1;\n\nSELECT * FROM positional_arguments ORDER BY 2,3;\n")),(0,l.kt)("p",null,"Result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500one\u2500\u252c\u2500two\u2500\u252c\u2500three\u2500\u2510\n\u2502  30 \u2502  10 \u2502   20  \u2502\n\u2502  20 \u2502  20 \u2502   10  \u2502\n\u2502  10 \u2502  20 \u2502   30  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"optimize_move_to_prewhere"},"optimize_move_to_prewhere"),(0,l.kt)("p",null,"Enables or disables automatic ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/prewhere"},"PREWHERE")," optimization in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/"},"SELECT")," queries."),(0,l.kt)("p",null,"Works only for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/"},"*MergeTree")," tables."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Automatic ",(0,l.kt)("inlineCode",{parentName:"li"},"PREWHERE")," optimization is disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Automatic ",(0,l.kt)("inlineCode",{parentName:"li"},"PREWHERE")," optimization is enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"optimize_move_to_prewhere_if_final"},"optimize_move_to_prewhere_if_final"),(0,l.kt)("p",null,"Enables or disables automatic ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/prewhere"},"PREWHERE")," optimization in ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/"},"SELECT")," queries with ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/select/from#select-from-final"},"FINAL")," modifier."),(0,l.kt)("p",null,"Works only for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/engines/table-engines/mergetree-family/"},"*MergeTree")," tables."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Automatic ",(0,l.kt)("inlineCode",{parentName:"li"},"PREWHERE")," optimization in ",(0,l.kt)("inlineCode",{parentName:"li"},"SELECT")," queries with ",(0,l.kt)("inlineCode",{parentName:"li"},"FINAL")," modifier is disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Automatic ",(0,l.kt)("inlineCode",{parentName:"li"},"PREWHERE")," optimization in ",(0,l.kt)("inlineCode",{parentName:"li"},"SELECT")," queries with ",(0,l.kt)("inlineCode",{parentName:"li"},"FINAL")," modifier is enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#optimize_move_to_prewhere"},"optimize_move_to_prewhere")," setting")),(0,l.kt)("h2",{id:"describe_include_subcolumns"},"describe_include_subcolumns"),(0,l.kt)("p",null,"Enables describing subcolumns for a ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/describe-table"},"DESCRIBE")," query. For example, members of a ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/tuple"},"Tuple")," or subcolumns of a ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/map#map-subcolumns"},"Map"),", ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/nullable#finding-null"},"Nullable")," or an ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/data-types/array#array-size"},"Array")," data type."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Subcolumns are not included in ",(0,l.kt)("inlineCode",{parentName:"li"},"DESCRIBE")," queries."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Subcolumns are included in ",(0,l.kt)("inlineCode",{parentName:"li"},"DESCRIBE")," queries.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("p",null,"See an example for the ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/describe-table"},"DESCRIBE")," statement."),(0,l.kt)("h2",{id:"async-insert"},"async_insert"),(0,l.kt)("p",null,"Enables or disables asynchronous inserts. This makes sense only for insertion over HTTP protocol. Note that deduplication isn't working for such inserts."),(0,l.kt)("p",null,"If enabled, the data is combined into batches before the insertion into tables, so it is possible to do small and frequent insertions into ClickHouse (up to 15000 queries per second) without buffer tables."),(0,l.kt)("p",null,"The data is inserted either after the ",(0,l.kt)("a",{parentName:"p",href:"#async-insert-max-data-size"},"async_insert_max_data_size")," is exceeded or after ",(0,l.kt)("a",{parentName:"p",href:"#async-insert-busy-timeout-ms"},"async_insert_busy_timeout_ms")," milliseconds since the first ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," query. If the ",(0,l.kt)("a",{parentName:"p",href:"#async-insert-stale-timeout-ms"},"async_insert_stale_timeout_ms")," is set to a non-zero value, the data is inserted after ",(0,l.kt)("inlineCode",{parentName:"p"},"async_insert_stale_timeout_ms")," milliseconds since the last query."),(0,l.kt)("p",null,"If ",(0,l.kt)("a",{parentName:"p",href:"#wait-for-async-insert"},"wait_for_async_insert")," is enabled, every client will wait for the data to be processed and flushed to the table. Otherwise, the query would be processed almost instantly, even if the data is not inserted."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Insertions are made synchronously, one after another."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Multiple asynchronous insertions enabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"async-insert-threads"},"async_insert_threads"),(0,l.kt)("p",null,"The maximum number of threads for background data parsing and insertion."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Asynchronous insertions are disabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"16"),"."),(0,l.kt)("h2",{id:"wait-for-async-insert"},"wait_for_async_insert"),(0,l.kt)("p",null,"Enables or disables waiting for processing of asynchronous insertion. If enabled, server will return ",(0,l.kt)("inlineCode",{parentName:"p"},"OK")," only after the data is inserted. Otherwise, it will return ",(0,l.kt)("inlineCode",{parentName:"p"},"OK")," even if the data wasn't inserted."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Server returns ",(0,l.kt)("inlineCode",{parentName:"li"},"OK")," even if the data is not yet inserted."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Server returns ",(0,l.kt)("inlineCode",{parentName:"li"},"OK")," only after the data is inserted.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,l.kt)("h2",{id:"wait-for-async-insert-timeout"},"wait_for_async_insert_timeout"),(0,l.kt)("p",null,"The timeout in seconds for waiting for processing of asynchronous insertion."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("a",{parentName:"p",href:"#lock_acquire_timeout"},"lock_acquire_timeout"),"."),(0,l.kt)("h2",{id:"async-insert-max-data-size"},"async_insert_max_data_size"),(0,l.kt)("p",null,"The maximum size of the unparsed data in bytes collected per query before being inserted."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Asynchronous insertions are disabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"1000000"),"."),(0,l.kt)("h2",{id:"async-insert-busy-timeout-ms"},"async_insert_busy_timeout_ms"),(0,l.kt)("p",null,"The maximum timeout in milliseconds since the first ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," query before inserting collected data."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Timeout disabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"200"),"."),(0,l.kt)("h2",{id:"async-insert-stale-timeout-ms"},"async_insert_stale_timeout_ms"),(0,l.kt)("p",null,"The maximum timeout in milliseconds since the last ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," query before dumping collected data. If enabled, the settings prolongs the ",(0,l.kt)("a",{parentName:"p",href:"#async-insert-busy-timeout-ms"},"async_insert_busy_timeout_ms")," with every ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," query as long as ",(0,l.kt)("a",{parentName:"p",href:"#async-insert-max-data-size"},"async_insert_max_data_size")," is not exceeded."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Timeout disabled.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"alter-partition-verbose-result"},"alter_partition_verbose_result"),(0,l.kt)("p",null,"Enables or disables the display of information about the parts to which the manipulation operations with partitions and parts have been successfully applied.\nApplicable to ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/alter/partition#alter_attach-partition"},"ATTACH PARTITION|PART")," and to ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/sql-reference/statements/alter/partition#alter_freeze-partition"},"FREEZE PARTITION"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 disable verbosity."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 enable verbosity.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE test(a Int64, d Date, s String) ENGINE = MergeTree PARTITION BY toYYYYMM(d) ORDER BY a;\nINSERT INTO test VALUES(1, '2021-01-01', '');\nINSERT INTO test VALUES(1, '2021-01-01', '');\nALTER TABLE test DETACH PARTITION ID '202101';\n\nALTER TABLE test ATTACH PARTITION ID '202101' SETTINGS alter_partition_verbose_result = 1;\n\n\u250c\u2500command_type\u2500\u2500\u2500\u2500\u2500\u252c\u2500partition_id\u2500\u252c\u2500part_name\u2500\u2500\u2500\u2500\u252c\u2500old_part_name\u2500\u2510\n\u2502 ATTACH PARTITION \u2502 202101       \u2502 202101_7_7_0 \u2502 202101_5_5_0  \u2502\n\u2502 ATTACH PARTITION \u2502 202101       \u2502 202101_8_8_0 \u2502 202101_6_6_0  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nALTER TABLE test FREEZE SETTINGS alter_partition_verbose_result = 1;\n\n\u250c\u2500command_type\u2500\u252c\u2500partition_id\u2500\u252c\u2500part_name\u2500\u2500\u2500\u2500\u252c\u2500backup_name\u2500\u252c\u2500backup_path\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500part_backup_path\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 FREEZE ALL   \u2502 202101       \u2502 202101_7_7_0 \u2502 8           \u2502 /var/lib/clickhouse/shadow/8/ \u2502 /var/lib/clickhouse/shadow/8/data/default/test/202101_7_7_0 \u2502\n\u2502 FREEZE ALL   \u2502 202101       \u2502 202101_8_8_0 \u2502 8           \u2502 /var/lib/clickhouse/shadow/8/ \u2502 /var/lib/clickhouse/shadow/8/data/default/test/202101_8_8_0 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"format-capn-proto-enum-comparising-mode"},"format_capn_proto_enum_comparising_mode"),(0,l.kt)("p",null,"Determines how to map ClickHouse ",(0,l.kt)("inlineCode",{parentName:"p"},"Enum")," data type and ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#capnproto"},"CapnProto")," ",(0,l.kt)("inlineCode",{parentName:"p"},"Enum")," data type from schema."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'by_values'")," \u2014 Values in enums should be the same, names can be different."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'by_names'")," \u2014 Names in enums should be the same, values can be different."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'by_name_case_insensitive'")," \u2014 Names in enums should be the same case-insensitive, values can be different.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"'by_values'"),"."),(0,l.kt)("h2",{id:"min-bytes-to-use-mmap-io"},"min_bytes_to_use_mmap_io"),(0,l.kt)("p",null,"This is an experimental setting. Sets the minimum amount of memory for reading large files without copying data from the kernel to userspace. Recommended threshold is about 64 MB, because ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Mmap"},"mmap/munmap")," is slow. It makes sense only for large files and helps only if data reside in the page cache."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Big files read with only copying data from kernel to userspace.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,l.kt)("h2",{id:"format-custom-escaping-rule"},"format_custom_escaping_rule"),(0,l.kt)("p",null,"Sets the field escaping rule for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#format-customseparated"},"CustomSeparated")," data format."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'Escaped'")," \u2014 Similarly to ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#tabseparated"},"TSV"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'Quoted'")," \u2014 Similarly to ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#data-format-values"},"Values"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'CSV'")," \u2014 Similarly to ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#csv"},"CSV"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'JSON'")," \u2014 Similarly to ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#jsoneachrow"},"JSONEachRow"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'XML'")," \u2014 Similarly to ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#xml"},"XML"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'Raw'")," \u2014 Extracts subpatterns as a whole, no escaping rules, similarly to ",(0,l.kt)("a",{parentName:"li",href:"/docs/testing/docs/en/interfaces/formats#tabseparatedraw"},"TSVRaw"),".")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"'Escaped'"),"."),(0,l.kt)("h2",{id:"format-custom-field-delimiter"},"format_custom_field_delimiter"),(0,l.kt)("p",null,"Sets the character that is interpreted as a delimiter between the fields for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#format-customseparated"},"CustomSeparated")," data format."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"'\\t'"),"."),(0,l.kt)("h2",{id:"format-custom-row-before-delimiter"},"format_custom_row_before_delimiter"),(0,l.kt)("p",null,"Sets the character that is interpreted as a delimiter before the field of the first column for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#format-customseparated"},"CustomSeparated")," data format."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"''"),"."),(0,l.kt)("h2",{id:"format-custom-row-after-delimiter"},"format_custom_row_after_delimiter"),(0,l.kt)("p",null,"Sets the character that is interpreted as a delimiter after the field of the last column for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#format-customseparated"},"CustomSeparated")," data format."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"'\\n'"),"."),(0,l.kt)("h2",{id:"format-custom-row-between-delimiter"},"format_custom_row_between_delimiter"),(0,l.kt)("p",null,"Sets the character that is interpreted as a delimiter between the rows for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#format-customseparated"},"CustomSeparated")," data format."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"''"),"."),(0,l.kt)("h2",{id:"format-custom-result-before-delimiter"},"format_custom_result_before_delimiter"),(0,l.kt)("p",null,"Sets the character that is interpreted as a prefix before the result set for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#format-customseparated"},"CustomSeparated")," data format."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"''"),"."),(0,l.kt)("h2",{id:"format-custom-result-after-delimiter"},"format_custom_result_after_delimiter"),(0,l.kt)("p",null,"Sets the character that is interpreted as a suffix after the result set for ",(0,l.kt)("a",{parentName:"p",href:"/docs/testing/docs/en/interfaces/formats#format-customseparated"},"CustomSeparated")," data format."),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"''"),"."),(0,l.kt)("h2",{id:"shutdown_wait_unfinished_queries"},"shutdown_wait_unfinished_queries"),(0,l.kt)("p",null,"Enables or disables waiting unfinished queries when shutdown server."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Disabled."),(0,l.kt)("li",{parentName:"ul"},"1 \u2014 Enabled. The wait time equal shutdown_wait_unfinished config.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"shutdown_wait_unfinished"},"shutdown_wait_unfinished"),(0,l.kt)("p",null,"The waiting time in seconds for currently handled connections when shutdown server."),(0,l.kt)("p",null,"Default Value: 5."))}c.isMDXComponent=!0}}]);