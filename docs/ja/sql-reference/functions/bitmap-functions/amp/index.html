










    



    



    



    
    






    <!doctype html>
<html ⚡ lang="ja">
  <head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>ビットマ | ClickHouseドキュメント</title>
    <link rel="canonical" href="https://clickhouse.com/docs/ja/sql-reference/functions/bitmap-functions/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    
<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "ビットマ | ClickHouseドキュメント",
"mainEntityOfPage": "https://clickhouse.com/docs/ja/sql-reference/functions/bitmap-functions/",




"image": "https://clickhouse.com/images/clickhouse-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "ClickHouse, Inc.",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.com/images/logo-400x240.png",
    "width": 400,
    "height": 240
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "ビットマ | ClickHouseドキュメント",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>

    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--gray:#6c757d;--gray-dark:#343a40;--brand-primary:#fc0;--brand-secondary:#ff3939;--primary-accent-yellow:#fc0;--primary-accent-light-yellow:#fffaf0;--primary-accent-blue:#257af4;--primary-accent-light-blue:#e3f1fe;--secondary-accent-orange:#ff8c00;--secondary-accent-light-orange:#ffe4b5;--secondary-accent-red:#ff3939;--secondary-accent-light-red:#ffe4e1;--primary:#fc0;--secondary:#212529;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f1f6f9;--dark:#495057;--primary-light:#fffaf0;--secondary-light:#fff;--tertiary:#257af4;--tertiary-light:#e3f1fe;--white:#fff;--black:#212529;--blue:#257af4;--light-blue:#e3f1fe;--yellow:#fc0;--light-yellow:#fffaf0;--orange:#ff8c00;--light-orange:#ffe4b5;--red:#ff3939;--light-red:#ffe4e1;--medium:#d6dbdf;--breakpoint-xxs:0;--breakpoint-xs:400px;--breakpoint-sm:616px;--breakpoint-md:768px;--breakpoint-lg:980px;--breakpoint-xl:1240px;--font-family-sans-serif:"Noto Sans",sans-serif;--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,:after,:before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(33,37,41,0)}article,footer,main{display:block}body{margin:0;font-family:Noto Sans,sans-serif;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:16px}p{margin-top:0;margin-bottom:1rem}ul{margin-bottom:1rem}ul{margin-top:0}ul ul{margin-bottom:0}b,strong{font-weight:bolder}a{text-decoration:none;background-color:transparent}a,a:hover{color:#ff8c00}a:hover{text-decoration:underline}a:not([href]),a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{border-style:none}img,svg{vertical-align:middle}svg{overflow:hidden}select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:16px;font-family:Hind Siliguri,sans-serif;font-weight:500;line-height:1.125}.h1,h1{font-size:2.5rem}@media(max-width:1200px){.h1,h1{font-size:calc(1.375rem+1.5vw)}}.h2,h2{font-size:2rem}@media(max-width:1200px){.h2,h2{font-size:calc(1.325rem+.9vw)}}.h3,h3{font-size:1.75rem}@media(max-width:1200px){.h3,h3{font-size:calc(1.3rem+.6vw)}}.h4,h4{font-size:1.5rem}@media(max-width:1200px){.h4,h4{font-size:calc(1.275rem+.3vw)}}.h5,h5{font-size:1.125rem}.h6,h6{font-size:.875rem}.lead{font-size:1.375rem;font-weight:400}@media(max-width:1200px){.lead{font-size:calc(1.2625rem+.15vw)}}.display-1{font-size:4rem;font-weight:600;line-height:1.125}@media(max-width:1200px){.display-1{font-size:calc(1.525rem+3.3vw)}}.display-2{font-size:2.5rem;font-weight:600;line-height:1.125}@media(max-width:1200px){.display-2{font-size:calc(1.375rem+1.5vw)}}.display-3{font-size:2rem;font-weight:500;line-height:1.125}@media(max-width:1200px){.display-3{font-size:calc(1.325rem+.9vw)}}.display-4{font-size:1.75rem;font-weight:500;line-height:1.125}@media(max-width:1200px){.display-4{font-size:calc(1.3rem+.6vw)}}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#495057}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:20px;padding-left:20px;margin-right:auto;margin-left:auto}@media(min-width:400px){.container{max-width:576px}}@media(min-width:616px){.container{max-width:576px}}@media(min-width:768px){.container{max-width:958px}}@media(min-width:980px){.container{max-width:1008px}}@media(min-width:1240px){.container{max-width:1118px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:20px;padding-left:20px;margin-right:auto;margin-left:auto}@media(min-width:400px){.container{max-width:576px}}@media(min-width:616px){.container{max-width:576px}}@media(min-width:768px){.container,.container-md{max-width:958px}}@media(min-width:980px){.container,.container-lg,.container-md{max-width:1008px}}@media(min-width:1240px){.container,.container-lg,.container-md{max-width:1118px}}.row{display:flex;flex-wrap:wrap;margin-right:-20px;margin-left:-20px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:20px;padding-left:20px}.col{flex-basis:0;flex-grow:1;max-width:100%}.col-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-12{flex:0 0 100%;max-width:100%}@media(min-width:768px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.col-md-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-md-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-md-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-md-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-md-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-md-12{flex:0 0 100%;max-width:100%}}@media(min-width:980px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.col-lg-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-lg-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-lg-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-lg-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-lg-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-lg-12{flex:0 0 100%;max-width:100%}}.btn{display:inline-block;font-family:inherit;font-weight:700;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:12px 32px;font-size:.875rem;line-height:20px;border-radius:8px;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:none}.btn:disabled{opacity:.65}.btn-primary{color:#495057;background-color:#fc0;border-color:#fc0}.btn-primary:focus,.btn-primary:hover{color:#495057;background-color:#d9ad00;border-color:#cca300}.btn-primary:focus{box-shadow:0 0 0 0 rgba(228,185,13,.5)}.btn-primary:disabled{color:#495057;background-color:#fc0;border-color:#fc0}.btn-light{color:#495057;background-color:#f1f6f9;border-color:#f1f6f9}.btn-light:focus,.btn-light:hover{color:#495057;background-color:#d6e5ee;border-color:#cddfea}.btn-light:focus{box-shadow:0 0 0 0 rgba(216,221,225,.5)}.btn-light:disabled{color:#495057;background-color:#f1f6f9;border-color:#f1f6f9}.btn-dark{color:#fff;background-color:#495057;border-color:#495057}.btn-dark:focus,.btn-dark:hover{color:#fff;background-color:#383d42;border-color:#32373b}.btn-dark:focus{box-shadow:0 0 0 0 rgba(100,106,112,.5)}.btn-dark:disabled{color:#fff;background-color:#495057;border-color:#495057}.btn-primary-light{color:#495057;background-color:#fffaf0;border-color:#fffaf0}.btn-primary-light:focus,.btn-primary-light:hover{color:#495057;background-color:#ffedca;border-color:#ffe9bd}.btn-primary-light:focus{box-shadow:0 0 0 0 rgba(228,225,217,.5)}.btn-primary-light:disabled{color:#495057;background-color:#fffaf0;border-color:#fffaf0}.btn-white{color:#495057;background-color:#fff;border-color:#fff}.btn-white:focus,.btn-white:hover{color:#495057;background-color:#ececec;border-color:#e6e6e6}.btn-white:focus{box-shadow:0 0 0 0 rgba(228,229,230,.5)}.btn-white:disabled{color:#495057;background-color:#fff;border-color:#fff}.btn-black{color:#fff;background-color:#212529;border-color:#212529}.btn-black:focus,.btn-black:hover{color:#fff;background-color:#101214;border-color:#0a0c0d}.btn-black:focus{box-shadow:0 0 0 0 rgba(66,70,73,.5)}.btn-black:disabled{color:#fff;background-color:#212529;border-color:#212529}.btn-orange{color:#495057;background-color:#ff8c00;border-color:#ff8c00}.btn-orange:focus,.btn-orange:hover{color:#fff;background-color:#d97700;border-color:#cc7000}.btn-orange:focus{box-shadow:0 0 0 0 rgba(228,131,13,.5)}.btn-orange:disabled{color:#495057;background-color:#ff8c00;border-color:#ff8c00}.btn-light-orange{color:#495057;background-color:#ffe4b5;border-color:#ffe4b5}.btn-light-orange:focus,.btn-light-orange:hover{color:#495057;background-color:#ffd68f;border-color:#ffd182}.btn-light-orange:focus{box-shadow:0 0 0 0 rgba(228,206,167,.5)}.btn-light-orange:disabled{color:#495057;background-color:#ffe4b5;border-color:#ffe4b5}.btn-outline-primary{color:#fc0;border-color:#fc0}.btn-outline-primary:hover{color:#495057;background-color:#fc0;border-color:#fc0}.btn-outline-primary:focus{box-shadow:0 0 0 0 rgba(255,204,0,.5)}.btn-outline-primary:disabled{color:#fc0;background-color:transparent}.btn-outline-light{color:#f1f6f9;border-color:#f1f6f9}.btn-outline-light:hover{color:#495057;background-color:#f1f6f9;border-color:#f1f6f9}.btn-outline-light:focus{box-shadow:0 0 0 0 rgba(241,246,249,.5)}.btn-outline-light:disabled{color:#f1f6f9;background-color:transparent}.btn-outline-dark{color:#495057;border-color:#495057}.btn-outline-dark:hover{color:#fff;background-color:#495057;border-color:#495057}.btn-outline-dark:focus{box-shadow:0 0 0 0 rgba(73,80,87,.5)}.btn-outline-dark:disabled{color:#495057;background-color:transparent}.btn-outline-primary-light{color:#fffaf0;border-color:#fffaf0}.btn-outline-primary-light:hover{color:#495057;background-color:#fffaf0;border-color:#fffaf0}.btn-outline-primary-light:focus{box-shadow:0 0 0 0 rgba(255,250,240,.5)}.btn-outline-primary-light:disabled{color:#fffaf0;background-color:transparent}.btn-outline-white{color:#fff;border-color:#fff}.btn-outline-white:hover{color:#495057;background-color:#fff;border-color:#fff}.btn-outline-white:focus{box-shadow:0 0 0 0 hsla(0,0%,100%,.5)}.btn-outline-white:disabled{color:#fff;background-color:transparent}.btn-outline-black{color:#212529;border-color:#212529}.btn-outline-black:hover{color:#fff;background-color:#212529;border-color:#212529}.btn-outline-black:focus{box-shadow:0 0 0 0 rgba(33,37,41,.5)}.btn-outline-black:disabled{color:#212529;background-color:transparent}.btn-outline-orange{color:#ff8c00;border-color:#ff8c00}.btn-outline-orange:hover{color:#495057;background-color:#ff8c00;border-color:#ff8c00}.btn-outline-orange:focus{box-shadow:0 0 0 0 rgba(255,140,0,.5)}.btn-outline-orange:disabled{color:#ff8c00;background-color:transparent}.btn-outline-light-orange{color:#ffe4b5;border-color:#ffe4b5}.btn-outline-light-orange:hover{color:#495057;background-color:#ffe4b5;border-color:#ffe4b5}.btn-outline-light-orange:focus{box-shadow:0 0 0 0 rgba(255,228,181,.5)}.btn-outline-light-orange:disabled{color:#ffe4b5;background-color:transparent}.btn-link{font-weight:400;color:#ff8c00;text-decoration:none}.btn-link:hover{color:#ff8c00;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#d6dbdf;pointer-events:none}.btn-lg{padding:16px 32px;font-size:1.125rem;line-height:26px;border-radius:8px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:24px}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#6c757d;vertical-align:middle;background:#fff url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#ffe680;outline:0;box-shadow:0 0 0 .2rem rgba(255,204,0,.25)}.custom-select:focus::-ms-value{color:#6c757d;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #6c757d}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.125rem}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(255,204,0,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(255,204,0,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(255,204,0,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#fc0;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#fff0b3}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#fc0;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#fff0b3}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#fc0;border:0;border-radius:1rem;-ms-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#fff0b3}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower,.custom-range::-ms-fill-upper{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px}.custom-range:disabled::-webkit-slider-thumb{background-color:#d6dbdf}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#d6dbdf}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#d6dbdf}.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}pre{white-space:pre-wrap}pre{border:1px solid #d6dbdf;page-break-inside:avoid}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}.container,body{min-width:980px}</style>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
  </head>
  <body class="amp" dir="ltr">
    <div class="container-fluid container-lg pb-5">
      <div class="row pt-3 mb-3">
        <div class="col">
          <a href="/" class="text-decoration-none">
            <amp-img class="d-inline-block mr-3" layout="fixed" width="40" height="36" src="/docs/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout="fixed" width="238" height="36" src="/docs/images/clickhouse-black.svg" alt="ClickHouse" title="ClickHouse"></amp-img>
          </a>
        </div>
      </div>
      <div class="row">
        <div id="content" class="col">
          
    <div class="alert alert-primary" role="alert">
      <p class="display-5 mb-2">Help wanted!</p>
      <p class="lead">The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href="/docs/en/sql-reference/functions/bitmap-functions/" class="alert-link">You can also use the original English version as a reference.</a></p>
      <p class="lead">
          <a class="btn btn-lg btn-primary text-white" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/ja/sql-reference/functions/bitmap-functions.md" target="_blank" rel="external nofollow noreferrer">
              Help ClickHouse documentation by editing this page
          </a>
      </p>
    </div>

          <h1 id=bitmap-functions>ビットマップ関数<a class=headerlink href=../amp/#bitmap-functions title="Permanent link"> </a></h1> <p>And、or、xor、notなどの数式の計算を使用しながら、新しいビットマップまたは基数を返すことです。</p> <p>ビットマップオブジェクトの構築方法には2種類あります。 一つは-Stateを持つ集計関数groupBitmapによって構築され、もう一つはArray Objectによって構築されます。 でも変換するビットマップオブジェクト配列のオブジェクトです。</p> <p>RoaringBitmapは、ビットマップオブジェクトの実際の格納中にデータ構造にラップされます。 基数が32以下の場合、Set objetが使用されます。 基数が32より大きい場合は、RoaringBitmapオブジェクトを使用します。 そのため、低基数セットの保存が高速になります。</p> <p>RoaringBitmapの詳細については、以下を参照してください: <a href=https://github.com/RoaringBitmap/CRoaring rel="external nofollow noreferrer" target=_blank>クロアリング</a>.</p> <h2 id=bitmap_functions-bitmapbuild>bitmapBuild<a class=headerlink href=../amp/#bitmap_functions-bitmapbuild title="Permanent link"> </a></h2> <p>符号なし整数配列からビットマップを作成します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapBuild</span><span class=p>(</span><span class=nb>array</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>array</code> – unsigned integer array.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>])</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=p>,</span><span class=w> </span><span class=n>toTypeName</span><span class=p>(</span><span class=n>res</span><span class=p>)</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┬─toTypeName(bitmapBuild([1, 2, 3, 4, 5]))─────┐
│     │ AggregateFunction(groupBitmap, UInt8)        │
└─────┴──────────────────────────────────────────────┘
</code></pre></div> <h2 id=bitmaptoarray>bitmapToArray<a class=headerlink href=../amp/#bitmaptoarray title="Permanent link"> </a></h2> <p>ビットマップを整数配列に変換します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─────────┐
│ [1,2,3,4,5] │
└─────────────┘
</code></pre></div> <h2 id=bitmap-functions-bitmapsubsetinrange>bitmapSubsetInRange<a class=headerlink href=../amp/#bitmap-functions-bitmapsubsetinrange title="Permanent link"> </a></h2> <p>指定された範囲のサブセットを返します(range_endは含まれません)。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapSubsetInRange</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=w> </span><span class=n>range_start</span><span class=p>,</span><span class=w> </span><span class=n>range_end</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – <a href=../amp/#bitmap_functions-bitmapbuild>ビットマップ</a>.</li> <li><code class=syntax>range_start</code> – range start point. Type: <a href=../../../data-types/int-uint/amp/ >UInt32</a>.</li> <li><code class=syntax>range_end</code> – range end point(excluded). Type: <a href=../../../data-types/int-uint/amp/ >UInt32</a>.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>bitmapSubsetInRange</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>,</span><span class=mi>16</span><span class=p>,</span><span class=mi>17</span><span class=p>,</span><span class=mi>18</span><span class=p>,</span><span class=mi>19</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>21</span><span class=p>,</span><span class=mi>22</span><span class=p>,</span><span class=mi>23</span><span class=p>,</span><span class=mi>24</span><span class=p>,</span><span class=mi>25</span><span class=p>,</span><span class=mi>26</span><span class=p>,</span><span class=mi>27</span><span class=p>,</span><span class=mi>28</span><span class=p>,</span><span class=mi>29</span><span class=p>,</span><span class=mi>30</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=mi>32</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>100</span><span class=p>,</span><span class=mi>200</span><span class=p>,</span><span class=mi>500</span><span class=p>]),</span><span class=w> </span><span class=n>toUInt32</span><span class=p>(</span><span class=mi>30</span><span class=p>),</span><span class=w> </span><span class=n>toUInt32</span><span class=p>(</span><span class=mi>200</span><span class=p>)))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res───────────────┐
│ [30,31,32,33,100] │
└───────────────────┘
</code></pre></div> <h2 id=bitmapsubsetlimit>bitmapSubsetLimit<a class=headerlink href=../amp/#bitmapsubsetlimit title="Permanent link"> </a></h2> <p>ビットマップのサブセットを作成します。 <code class=syntax>range_start</code> と <code class=syntax>cardinality_limit</code>.</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapSubsetLimit</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=w> </span><span class=n>range_start</span><span class=p>,</span><span class=w> </span><span class=n>cardinality_limit</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – <a href=../amp/#bitmap_functions-bitmapbuild>ビットマップ</a>.</li> <li><code class=syntax>range_start</code> – The subset starting point. Type: <a href=../../../data-types/int-uint/amp/ >UInt32</a>.</li> <li><code class=syntax>cardinality_limit</code> – The subset cardinality upper limit. Type: <a href=../../../data-types/int-uint/amp/ >UInt32</a>.</li> </ul> <p><strong>戻り値</strong></p> <p>サブセット。</p> <p>タイプ: <code class=syntax>Bitmap object</code>.</p> <p><strong>例</strong></p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>bitmapSubsetLimit</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>,</span><span class=mi>16</span><span class=p>,</span><span class=mi>17</span><span class=p>,</span><span class=mi>18</span><span class=p>,</span><span class=mi>19</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>21</span><span class=p>,</span><span class=mi>22</span><span class=p>,</span><span class=mi>23</span><span class=p>,</span><span class=mi>24</span><span class=p>,</span><span class=mi>25</span><span class=p>,</span><span class=mi>26</span><span class=p>,</span><span class=mi>27</span><span class=p>,</span><span class=mi>28</span><span class=p>,</span><span class=mi>29</span><span class=p>,</span><span class=mi>30</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=mi>32</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>100</span><span class=p>,</span><span class=mi>200</span><span class=p>,</span><span class=mi>500</span><span class=p>]),</span><span class=w> </span><span class=n>toUInt32</span><span class=p>(</span><span class=mi>30</span><span class=p>),</span><span class=w> </span><span class=n>toUInt32</span><span class=p>(</span><span class=mi>200</span><span class=p>)))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─res───────────────────────┐
│ [30,31,32,33,100,200,500] │
└───────────────────────────┘
</code></pre></div> <h2 id=bitmap_functions-bitmapcontains>bitmapContains<a class=headerlink href=../amp/#bitmap_functions-bitmapcontains title="Permanent link"> </a></h2> <p>かどうかをチェックしますビットマップを含む要素になります。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapContains</span><span class=p>(</span><span class=n>haystack</span><span class=p>,</span><span class=w> </span><span class=n>needle</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>haystack</code> – <a href=../amp/#bitmap_functions-bitmapbuild>ビットマップ</a>、関数が検索する場所。</li> <li><code class=syntax>needle</code> – Value that the function searches. Type: <a href=../../../data-types/int-uint/amp/ >UInt32</a>.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>0 — If <code class=syntax>haystack</code> 含まない <code class=syntax>needle</code>.</li> <li>1 — If <code class=syntax>haystack</code> 含む <code class=syntax>needle</code>.</li> </ul> <p>タイプ: <code class=syntax>UInt8</code>.</p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapContains</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>9</span><span class=p>]),</span><span class=w> </span><span class=n>toUInt32</span><span class=p>(</span><span class=mi>9</span><span class=p>))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│  1  │
└─────┘
</code></pre></div> <h2 id=bitmaphasany>bitmapHasAny<a class=headerlink href=../amp/#bitmaphasany title="Permanent link"> </a></h2> <p>るかどうかを判二つのビットマップしていることで交差点にある。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapHasAny</span><span class=p>(</span><span class=n>bitmap1</span><span class=p>,</span><span class=w> </span><span class=n>bitmap2</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p>あなたがそれを確信している場合 <code class=syntax>bitmap2</code> 厳密に一つの要素が含まれています。 <a href=../amp/#bitmap_functions-bitmapcontains>bitmapContains</a> 機能。 これは、より効率的に動作します。</p> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap*</code> – bitmap object.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li><code class=syntax>1</code>,if <code class=syntax>bitmap1</code> と <code class=syntax>bitmap2</code> 少なくとも一つの同様の要素があります。</li> <li><code class=syntax>0</code> そうでなければ</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapHasAny</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│  1  │
└─────┘
</code></pre></div> <h2 id=bitmaphasall>bitmapHasAll<a class=headerlink href=../amp/#bitmaphasall title="Permanent link"> </a></h2> <p>類似する <code class=syntax>hasAll(array, array)</code> 返り値が1の場合は最初のビットマップを含むすべての要素は、0です。<br> 二番目の引数が空のビットマップの場合は、1を返します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapHasAll</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapHasAll</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│  0  │
└─────┘
</code></pre></div> <h2 id=bitmapcardinality>bitmapCardinality<a class=headerlink href=../amp/#bitmapcardinality title="Permanent link"> </a></h2> <p>UInt64型のビットマップ基数を再実行します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapCardinality</span><span class=p>(</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapCardinality</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│   5 │
└─────┘
</code></pre></div> <h2 id=bitmapmin>bitmapMin<a class=headerlink href=../amp/#bitmapmin title="Permanent link"> </a></h2> <p>セット内のUInt64型の最小値を再実行し、セットが空の場合はUINT32_MAX。</p> <div class=codehilite><pre><span></span><code class=syntax>bitmapMin(bitmap)
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapMin</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│   1 │
└─────┘
</code></pre></div> <h2 id=bitmapmax>bitmapMax<a class=headerlink href=../amp/#bitmapmax title="Permanent link"> </a></h2> <p>セット内のUInt64型の最大値を再試行し、セットが空の場合は0を再試行します。</p> <div class=codehilite><pre><span></span><code class=syntax>bitmapMax(bitmap)
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapMax</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│   5 │
└─────┘
</code></pre></div> <h2 id=bitmaptransform>bitmapTransform<a class=headerlink href=../amp/#bitmaptransform title="Permanent link"> </a></h2> <p>ビットマップ内の値の配列を別の値の配列に変換すると、結果は新しいビットマップになります。</p> <div class=codehilite><pre><span></span><code class=syntax>bitmapTransform(bitmap, from_array, to_array)
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> <li><code class=syntax>from_array</code> – UInt32 array. For idx in range [0, from_array.size()), if bitmap contains from_array[idx], then replace it with to_array[idx]. Note that the result depends on array ordering if there are common elements between from_array and to_array.</li> <li><code class=syntax>to_array</code> – UInt32 array, its size shall be the same to from_array.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>bitmapTransform</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>9</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>]),</span><span class=w> </span><span class=k>cast</span><span class=p>([</span><span class=mi>5</span><span class=p>,</span><span class=mi>999</span><span class=p>,</span><span class=mi>2</span><span class=p>]</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>)),</span><span class=w> </span><span class=k>cast</span><span class=p>([</span><span class=mi>2</span><span class=p>,</span><span class=mi>888</span><span class=p>,</span><span class=mi>20</span><span class=p>]</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res───────────────────┐
│ [1,3,4,6,7,8,9,10,20] │
└───────────────────────┘
</code></pre></div> <h2 id=bitmapand>bitmapAnd<a class=headerlink href=../amp/#bitmapand title="Permanent link"> </a></h2> <p>二つのビットマップと計算、結果は新しいビットマップです。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapAnd</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>bitmapAnd</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>])))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│ [3] │
└─────┘
</code></pre></div> <h2 id=bitmapor>bitmapOr<a class=headerlink href=../amp/#bitmapor title="Permanent link"> </a></h2> <p>結果は新しいビットマップです。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapOr</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>bitmapOr</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>])))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─────────┐
│ [1,2,3,4,5] │
└─────────────┘
</code></pre></div> <h2 id=bitmapxor>bitmapXor<a class=headerlink href=../amp/#bitmapxor title="Permanent link"> </a></h2> <p>二つのビットマップxorの計算は、結果は新しいビットマップです。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapXor</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>bitmapXor</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>])))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res───────┐
│ [1,2,4,5] │
└───────────┘
</code></pre></div> <h2 id=bitmapandnot>bitmapAndnot<a class=headerlink href=../amp/#bitmapandnot title="Permanent link"> </a></h2> <p>二つのビットマップandnot計算、結果は新しいビットマップです。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapAndnot</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>bitmapAndnot</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>])))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res───┐
│ [1,2] │
└───────┘
</code></pre></div> <h2 id=bitmapandcardinality>bitmapAndCardinality<a class=headerlink href=../amp/#bitmapandcardinality title="Permanent link"> </a></h2> <p>Uint64型の基数を返します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapAndCardinality</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapAndCardinality</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=p>;</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│   1 │
└─────┘
</code></pre></div> <h2 id=bitmaporcardinality>bitmapOrCardinality<a class=headerlink href=../amp/#bitmaporcardinality title="Permanent link"> </a></h2> <p>Uint64型の基数を返します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapOrCardinality</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapOrCardinality</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=p>;</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│   5 │
└─────┘
</code></pre></div> <h2 id=bitmapxorcardinality>bitmapXorCardinality<a class=headerlink href=../amp/#bitmapxorcardinality title="Permanent link"> </a></h2> <p>Uint64型の基数を返します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapXorCardinality</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapXorCardinality</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=p>;</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│   4 │
└─────┘
</code></pre></div> <h2 id=bitmapandnotcardinality>bitmapAndnotCardinality<a class=headerlink href=../amp/#bitmapandnotcardinality title="Permanent link"> </a></h2> <p>Uint64型の基数を返します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>bitmapAndnotCardinality</span><span class=p>(</span><span class=n>bitmap</span><span class=p>,</span><span class=n>bitmap</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>bitmap</code> – bitmap object.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>bitmapAndnotCardinality</span><span class=p>(</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]),</span><span class=n>bitmapBuild</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>res</span><span class=p>;</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─┐
│   2 │
└─────┘
</code></pre></div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          
<div class="alert alert-light my-3">
  <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p>
  <span class="alert-heading display-6">Article Rating</span>
  <div id="rating-stars" class="display-6 mb-0"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2022 ClickHouse, Inc.</div>
    <div>Built from <a href="https://github.com/ClickHouse/ClickHouse/commit/38993f215f9186c1ac3505b1e09697cd9a468b5d" rel="external nofollow noreferrer" target="_blank" class="text-reset">38993f21</a>
    
    </div>
</div>

        </div>
      </div>
      <div id="to-full-website" class="row fixed-bottom text-center bg-white py-3">
        <div class="col">
          <a class="btn btn-lg btn-outline-orange" href="https://clickhouse.com/docs/ja/sql-reference/functions/bitmap-functions/">To full website</a>
        </div>
      </div>
    </div>
    <amp-analytics type="metrika">
      <script type="application/json">{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script>
  </amp-analytics>
  </body>
</html>
