










    



    



    



    
    






    <!doctype html>
<html ⚡ lang="ja">
  <head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>日付と時刻の操作 | ClickHouseドキュメント</title>
    <link rel="canonical" href="https://clickhouse.com/docs/ja/sql-reference/functions/date-time-functions/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    
<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "日付と時刻の操作 | ClickHouseドキュメント",
"mainEntityOfPage": "https://clickhouse.com/docs/ja/sql-reference/functions/date-time-functions/",




"image": "https://clickhouse.com/images/clickhouse-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "ClickHouse, Inc.",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.com/images/logo-400x240.png",
    "width": 400,
    "height": 240
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "日付と時刻の操作 | ClickHouseドキュメント",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>

    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--gray:#6c757d;--gray-dark:#343a40;--brand-primary:#fc0;--brand-secondary:#ff3939;--primary-accent-yellow:#fc0;--primary-accent-light-yellow:#fffaf0;--primary-accent-blue:#257af4;--primary-accent-light-blue:#e3f1fe;--secondary-accent-orange:#ff8c00;--secondary-accent-light-orange:#ffe4b5;--secondary-accent-red:#ff3939;--secondary-accent-light-red:#ffe4e1;--primary:#fc0;--secondary:#212529;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f1f6f9;--dark:#495057;--primary-light:#fffaf0;--secondary-light:#fff;--tertiary:#257af4;--tertiary-light:#e3f1fe;--white:#fff;--black:#212529;--blue:#257af4;--light-blue:#e3f1fe;--yellow:#fc0;--light-yellow:#fffaf0;--orange:#ff8c00;--light-orange:#ffe4b5;--red:#ff3939;--light-red:#ffe4e1;--medium:#d6dbdf;--breakpoint-xxs:0;--breakpoint-xs:400px;--breakpoint-sm:616px;--breakpoint-md:768px;--breakpoint-lg:980px;--breakpoint-xl:1240px;--font-family-sans-serif:"Noto Sans",sans-serif;--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,:after,:before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(33,37,41,0)}article,footer,main{display:block}body{margin:0;font-family:Noto Sans,sans-serif;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:16px}p{margin-top:0;margin-bottom:1rem}ul{margin-bottom:1rem}ul{margin-top:0}ul ul{margin-bottom:0}dd{margin-bottom:.5rem;margin-left:0}b,strong{font-weight:bolder}a{text-decoration:none;background-color:transparent}a,a:hover{color:#ff8c00}a:hover{text-decoration:underline}a:not([href]),a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{border-style:none}img,svg{vertical-align:middle}svg{overflow:hidden}table{border-collapse:collapse}th{text-align:inherit}select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:16px;font-family:Hind Siliguri,sans-serif;font-weight:500;line-height:1.125}.h1,h1{font-size:2.5rem}@media(max-width:1200px){.h1,h1{font-size:calc(1.375rem+1.5vw)}}.h2,h2{font-size:2rem}@media(max-width:1200px){.h2,h2{font-size:calc(1.325rem+.9vw)}}.h3,h3{font-size:1.75rem}@media(max-width:1200px){.h3,h3{font-size:calc(1.3rem+.6vw)}}.h4,h4{font-size:1.5rem}@media(max-width:1200px){.h4,h4{font-size:calc(1.275rem+.3vw)}}.h5,h5{font-size:1.125rem}.h6,h6{font-size:.875rem}.lead{font-size:1.375rem;font-weight:400}@media(max-width:1200px){.lead{font-size:calc(1.2625rem+.15vw)}}.display-1{font-size:4rem;font-weight:600;line-height:1.125}@media(max-width:1200px){.display-1{font-size:calc(1.525rem+3.3vw)}}.display-2{font-size:2.5rem;font-weight:600;line-height:1.125}@media(max-width:1200px){.display-2{font-size:calc(1.375rem+1.5vw)}}.display-3{font-size:2rem;font-weight:500;line-height:1.125}@media(max-width:1200px){.display-3{font-size:calc(1.325rem+.9vw)}}.display-4{font-size:1.75rem;font-weight:500;line-height:1.125}@media(max-width:1200px){.display-4{font-size:calc(1.3rem+.6vw)}}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#495057}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:20px;padding-left:20px;margin-right:auto;margin-left:auto}@media(min-width:400px){.container{max-width:576px}}@media(min-width:616px){.container{max-width:576px}}@media(min-width:768px){.container{max-width:958px}}@media(min-width:980px){.container{max-width:1008px}}@media(min-width:1240px){.container{max-width:1118px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:20px;padding-left:20px;margin-right:auto;margin-left:auto}@media(min-width:400px){.container{max-width:576px}}@media(min-width:616px){.container{max-width:576px}}@media(min-width:768px){.container,.container-md{max-width:958px}}@media(min-width:980px){.container,.container-lg,.container-md{max-width:1008px}}@media(min-width:1240px){.container,.container-lg,.container-md{max-width:1118px}}.row{display:flex;flex-wrap:wrap;margin-right:-20px;margin-left:-20px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:20px;padding-left:20px}.col{flex-basis:0;flex-grow:1;max-width:100%}.col-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-12{flex:0 0 100%;max-width:100%}@media(min-width:768px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.col-md-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-md-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-md-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-md-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-md-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-md-12{flex:0 0 100%;max-width:100%}}@media(min-width:980px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.col-lg-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-lg-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-lg-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-lg-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-lg-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-lg-12{flex:0 0 100%;max-width:100%}}.table{width:100%;margin-bottom:8px;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #d6dbdf}.table thead th{vertical-align:bottom;border-bottom:2px solid #d6dbdf}.table tbody+tbody{border-top:2px solid #d6dbdf}.table-primary,.table-primary>td,.table-primary>th{background-color:#fff1b8}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#ffe47a}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-light,.table-light>td,.table-light>th{background-color:#fbfcfd}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#f8fafc}.table-dark,.table-dark>td,.table-dark>th{background-color:#ccced0}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#a0a4a8}.table-primary-light,.table-primary-light>td,.table-primary-light>th{background-color:#fffefb}.table-primary-light tbody+tbody,.table-primary-light td,.table-primary-light th,.table-primary-light thead th{border-color:#fffcf7}.table-white,.table-white>td,.table-white>th{background-color:#fff}.table-white tbody+tbody,.table-white td,.table-white th,.table-white thead th{border-color:#fff}.table-black,.table-black>td,.table-black>th{background-color:#c1c2c3}.table-black tbody+tbody,.table-black td,.table-black th,.table-black thead th{border-color:#8c8e90}.table-orange,.table-orange>td,.table-orange>th{background-color:#ffdfb8}.table-orange tbody+tbody,.table-orange td,.table-orange th,.table-orange thead th{border-color:#ffc37a}.table-light-orange,.table-light-orange>td,.table-light-orange>th{background-color:#fff7ea}.table-light-orange tbody+tbody,.table-light-orange td,.table-light-orange th,.table-light-orange thead th{border-color:#fff1d9}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#6c757d;background-color:#e9ecef;border-color:#d6dbdf}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.btn{display:inline-block;font-family:inherit;font-weight:700;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:12px 32px;font-size:.875rem;line-height:20px;border-radius:8px;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:none}.btn:disabled{opacity:.65}.btn-primary{color:#495057;background-color:#fc0;border-color:#fc0}.btn-primary:focus,.btn-primary:hover{color:#495057;background-color:#d9ad00;border-color:#cca300}.btn-primary:focus{box-shadow:0 0 0 0 rgba(228,185,13,.5)}.btn-primary:disabled{color:#495057;background-color:#fc0;border-color:#fc0}.btn-warning{color:#495057;background-color:#ffc107;border-color:#ffc107}.btn-warning:focus,.btn-warning:hover{color:#495057;background-color:#e0a800;border-color:#d39e00}.btn-warning:focus{box-shadow:0 0 0 0 rgba(228,176,19,.5)}.btn-warning:disabled{color:#495057;background-color:#ffc107;border-color:#ffc107}.btn-light{color:#495057;background-color:#f1f6f9;border-color:#f1f6f9}.btn-light:focus,.btn-light:hover{color:#495057;background-color:#d6e5ee;border-color:#cddfea}.btn-light:focus{box-shadow:0 0 0 0 rgba(216,221,225,.5)}.btn-light:disabled{color:#495057;background-color:#f1f6f9;border-color:#f1f6f9}.btn-dark{color:#fff;background-color:#495057;border-color:#495057}.btn-dark:focus,.btn-dark:hover{color:#fff;background-color:#383d42;border-color:#32373b}.btn-dark:focus{box-shadow:0 0 0 0 rgba(100,106,112,.5)}.btn-dark:disabled{color:#fff;background-color:#495057;border-color:#495057}.btn-primary-light{color:#495057;background-color:#fffaf0;border-color:#fffaf0}.btn-primary-light:focus,.btn-primary-light:hover{color:#495057;background-color:#ffedca;border-color:#ffe9bd}.btn-primary-light:focus{box-shadow:0 0 0 0 rgba(228,225,217,.5)}.btn-primary-light:disabled{color:#495057;background-color:#fffaf0;border-color:#fffaf0}.btn-white{color:#495057;background-color:#fff;border-color:#fff}.btn-white:focus,.btn-white:hover{color:#495057;background-color:#ececec;border-color:#e6e6e6}.btn-white:focus{box-shadow:0 0 0 0 rgba(228,229,230,.5)}.btn-white:disabled{color:#495057;background-color:#fff;border-color:#fff}.btn-black{color:#fff;background-color:#212529;border-color:#212529}.btn-black:focus,.btn-black:hover{color:#fff;background-color:#101214;border-color:#0a0c0d}.btn-black:focus{box-shadow:0 0 0 0 rgba(66,70,73,.5)}.btn-black:disabled{color:#fff;background-color:#212529;border-color:#212529}.btn-orange{color:#495057;background-color:#ff8c00;border-color:#ff8c00}.btn-orange:focus,.btn-orange:hover{color:#fff;background-color:#d97700;border-color:#cc7000}.btn-orange:focus{box-shadow:0 0 0 0 rgba(228,131,13,.5)}.btn-orange:disabled{color:#495057;background-color:#ff8c00;border-color:#ff8c00}.btn-light-orange{color:#495057;background-color:#ffe4b5;border-color:#ffe4b5}.btn-light-orange:focus,.btn-light-orange:hover{color:#495057;background-color:#ffd68f;border-color:#ffd182}.btn-light-orange:focus{box-shadow:0 0 0 0 rgba(228,206,167,.5)}.btn-light-orange:disabled{color:#495057;background-color:#ffe4b5;border-color:#ffe4b5}.btn-outline-primary{color:#fc0;border-color:#fc0}.btn-outline-primary:hover{color:#495057;background-color:#fc0;border-color:#fc0}.btn-outline-primary:focus{box-shadow:0 0 0 0 rgba(255,204,0,.5)}.btn-outline-primary:disabled{color:#fc0;background-color:transparent}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#495057;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:focus{box-shadow:0 0 0 0 rgba(255,193,7,.5)}.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-light{color:#f1f6f9;border-color:#f1f6f9}.btn-outline-light:hover{color:#495057;background-color:#f1f6f9;border-color:#f1f6f9}.btn-outline-light:focus{box-shadow:0 0 0 0 rgba(241,246,249,.5)}.btn-outline-light:disabled{color:#f1f6f9;background-color:transparent}.btn-outline-dark{color:#495057;border-color:#495057}.btn-outline-dark:hover{color:#fff;background-color:#495057;border-color:#495057}.btn-outline-dark:focus{box-shadow:0 0 0 0 rgba(73,80,87,.5)}.btn-outline-dark:disabled{color:#495057;background-color:transparent}.btn-outline-primary-light{color:#fffaf0;border-color:#fffaf0}.btn-outline-primary-light:hover{color:#495057;background-color:#fffaf0;border-color:#fffaf0}.btn-outline-primary-light:focus{box-shadow:0 0 0 0 rgba(255,250,240,.5)}.btn-outline-primary-light:disabled{color:#fffaf0;background-color:transparent}.btn-outline-white{color:#fff;border-color:#fff}.btn-outline-white:hover{color:#495057;background-color:#fff;border-color:#fff}.btn-outline-white:focus{box-shadow:0 0 0 0 hsla(0,0%,100%,.5)}.btn-outline-white:disabled{color:#fff;background-color:transparent}.btn-outline-black{color:#212529;border-color:#212529}.btn-outline-black:hover{color:#fff;background-color:#212529;border-color:#212529}.btn-outline-black:focus{box-shadow:0 0 0 0 rgba(33,37,41,.5)}.btn-outline-black:disabled{color:#212529;background-color:transparent}.btn-outline-orange{color:#ff8c00;border-color:#ff8c00}.btn-outline-orange:hover{color:#495057;background-color:#ff8c00;border-color:#ff8c00}.btn-outline-orange:focus{box-shadow:0 0 0 0 rgba(255,140,0,.5)}.btn-outline-orange:disabled{color:#ff8c00;background-color:transparent}.btn-outline-light-orange{color:#ffe4b5;border-color:#ffe4b5}.btn-outline-light-orange:hover{color:#495057;background-color:#ffe4b5;border-color:#ffe4b5}.btn-outline-light-orange:focus{box-shadow:0 0 0 0 rgba(255,228,181,.5)}.btn-outline-light-orange:disabled{color:#ffe4b5;background-color:transparent}.btn-link{font-weight:400;color:#ff8c00;text-decoration:none}.btn-link:hover{color:#ff8c00;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#d6dbdf;pointer-events:none}.btn-lg{padding:16px 32px;font-size:1.125rem;line-height:26px;border-radius:8px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:24px}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#6c757d;vertical-align:middle;background:#fff url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#ffe680;outline:0;box-shadow:0 0 0 .2rem rgba(255,204,0,.25)}.custom-select:focus::-ms-value{color:#6c757d;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #6c757d}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.125rem}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(255,204,0,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(255,204,0,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(255,204,0,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#fc0;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#fff0b3}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#fc0;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#fff0b3}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#fc0;border:0;border-radius:1rem;-ms-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#fff0b3}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower,.custom-range::-ms-fill-upper{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px}.custom-range:disabled::-webkit-slider-thumb{background-color:#d6dbdf}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#d6dbdf}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#d6dbdf}.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}pre{white-space:pre-wrap}pre{border:1px solid #d6dbdf;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}.container,body{min-width:980px}.table{border-collapse:collapse}.table td,.table th{background-color:#fff}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#d6dbdf}.table .thead-dark th{color:inherit;border-color:#d6dbdf}</style>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
  </head>
  <body class="amp" dir="ltr">
    <div class="container-fluid container-lg pb-5">
      <div class="row pt-3 mb-3">
        <div class="col">
          <a href="/" class="text-decoration-none">
            <amp-img class="d-inline-block mr-3" layout="fixed" width="40" height="36" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout="fixed" width="238" height="36" src="/images/clickhouse-black.svg" alt="ClickHouse" title="ClickHouse"></amp-img>
          </a>
        </div>
      </div>
      <div class="row">
        <div id="content" class="col">
          
    <div class="alert alert-primary" role="alert">
      <p class="display-5 mb-2">Help wanted!</p>
      <p class="lead">The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href="/docs/en/sql-reference/functions/date-time-functions/" class="alert-link">You can also use the original English version as a reference.</a></p>
      <p class="lead">
          <a class="btn btn-lg btn-primary text-white" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/ja/sql-reference/functions/date-time-functions.md" target="_blank" rel="external nofollow noreferrer">
              Help ClickHouse documentation by editing this page
          </a>
      </p>
    </div>

          <h1 id=functions-for-working-with-dates-and-times>日付と時刻を操作するための関数<a class=headerlink href=../amp/#functions-for-working-with-dates-and-times title="Permanent link"> </a></h1> <p>タイムゾーンのサポート</p> <p>タイムゾーンに論理的に使用される日付と時刻を操作するためのすべての関数は、オプションのタイムゾーン引数を受け入れることができます。 例：アジア/エカテリンブルク。 この場合、ローカル(既定)のタイムゾーンではなく、指定されたタイムゾーンを使用します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w></span>
<span class=w>    </span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2016-06-15 23:00:00'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>time</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=n>toDate</span><span class=p>(</span><span class=k>time</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>date_local</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=n>toDate</span><span class=p>(</span><span class=k>time</span><span class=p>,</span><span class=w> </span><span class=s1>'Asia/Yekaterinburg'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>date_yekat</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=n>toString</span><span class=p>(</span><span class=k>time</span><span class=p>,</span><span class=w> </span><span class=s1>'US/Samoa'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>time_samoa</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌────────────────time─┬─date_local─┬─date_yekat─┬─time_samoa──────────┐
│ 2016-06-15 23:00:00 │ 2016-06-15 │ 2016-06-16 │ 2016-06-15 09:00:00 │
└─────────────────────┴────────────┴────────────┴─────────────────────┘
</code></pre></div> <p>UTCと時間数が異なるタイムゾーンのみがサポートされます。</p> <h2 id=totimezone>トティムゾーン<a class=headerlink href=../amp/#totimezone title="Permanent link"> </a></h2> <p>時刻または日付と時刻を指定したタイムゾーンに変換します。</p> <h2 id=toyear>toYear<a class=headerlink href=../amp/#toyear title="Permanent link"> </a></h2> <p>日付または日付と時刻を、年番号(AD)を含むUInt16番号に変換します。</p> <h2 id=toquarter>トクアーター<a class=headerlink href=../amp/#toquarter title="Permanent link"> </a></h2> <p>Dateまたはdate with timeを、四半期番号を含むUInt8番号に変換します。</p> <h2 id=tomonth>トモンス<a class=headerlink href=../amp/#tomonth title="Permanent link"> </a></h2> <p>Dateまたはdate with timeを、月番号(1-12)を含むUInt8番号に変換します。</p> <h2 id=todayofyear>今日の年<a class=headerlink href=../amp/#todayofyear title="Permanent link"> </a></h2> <p>日付または日付と時刻を、年の日の番号を含むUInt16番号(1-366)に変換します。</p> <h2 id=todayofmonth>今日の月<a class=headerlink href=../amp/#todayofmonth title="Permanent link"> </a></h2> <p>日付または日付と時刻を、月の日の番号を含むUInt8番号(1-31)に変換します。</p> <h2 id=todayofweek>今日の週<a class=headerlink href=../amp/#todayofweek title="Permanent link"> </a></h2> <p>Dateまたはdate with timeを、曜日の番号を含むUInt8番号に変換します(月曜日は1、日曜日は7)。</p> <h2 id=tohour>toHour<a class=headerlink href=../amp/#tohour title="Permanent link"> </a></h2> <p>時刻を持つ日付を、24時間(0-23)の時間数を含むUInt8数値に変換します。<br> This function assumes that if clocks are moved ahead, it is by one hour and occurs at 2 a.m., and if clocks are moved back, it is by one hour and occurs at 3 a.m. (which is not always true – even in Moscow the clocks were twice changed at a different time).</p> <h2 id=tominute>トミヌテ<a class=headerlink href=../amp/#tominute title="Permanent link"> </a></h2> <p>時刻を持つ日付を、時間の分の数を含むUInt8番号(0-59)に変換します。</p> <h2 id=tosecond>toSecond<a class=headerlink href=../amp/#tosecond title="Permanent link"> </a></h2> <p>日付と時刻を、分(0-59)の秒数を含むUInt8数値に変換します。<br> うるう秒は考慮されません。</p> <h2 id=to-unix-timestamp>toUnixTimestamp<a class=headerlink href=../amp/#to-unix-timestamp title="Permanent link"> </a></h2> <p>DateTime引数の場合:値を内部の数値表現(Unixタイムスタンプ)に変換します。<br> 文字列引数の場合：タイムゾーンに従って文字列からdatetimeを解析し（オプションの第二引数、サーバーのタイムゾーンがデフォルトで使用されます）、対応するunixタ<br> Date引数の場合：動作は指定されていません。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toUnixTimestamp</span><span class=p>(</span><span class=n>datetime</span><span class=p>)</span><span class=w></span>
<span class=n>toUnixTimestamp</span><span class=p>(</span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=n>timezone</span><span class=p>])</span><span class=w></span>
</code></pre></div> <p><strong>戻り値</strong></p> <ul> <li>Unixタイムスタンプを返す。</li> </ul> <p>タイプ: <code class=syntax>UInt32</code>.</p> <p><strong>例</strong></p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>toUnixTimestamp</span><span class=p>(</span><span class=s1>'2017-11-05 08:07:47'</span><span class=p>,</span><span class=w> </span><span class=s1>'Asia/Tokyo'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>unix_timestamp</span><span class=w></span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─unix_timestamp─┐
│     1509836867 │
└────────────────┘
</code></pre></div> <h2 id=tostartofyear>トスタート<a class=headerlink href=../amp/#tostartofyear title="Permanent link"> </a></h2> <p>日付または日付を年の最初の日に切り捨てます。<br> 日付を返します。</p> <h2 id=tostartofisoyear>トスタートフィソイヤー<a class=headerlink href=../amp/#tostartofisoyear title="Permanent link"> </a></h2> <p>日付または日付をiso年の最初の日に切り捨てます。<br> 日付を返します。</p> <h2 id=tostartofquarter>toStartOfQuarter<a class=headerlink href=../amp/#tostartofquarter title="Permanent link"> </a></h2> <p>日付または日付を四半期の最初の日に切り捨てます。<br> 四半期の最初の日は、1月、1月、1月、または1月のいずれかです。<br> 日付を返します。</p> <h2 id=tostartofmonth>トスタートモンス<a class=headerlink href=../amp/#tostartofmonth title="Permanent link"> </a></h2> <p>日付または日付を月の最初の日に切り捨てます。<br> 日付を返します。</p> <div class="admonition attention alert pb-0 mb-4 alert-warning" role=alert> <p class="admonition-title alert-heading display-4 text-reset mb-2">注意</p> <p>不正な日付を解析する動作は、実装固有です。 ClickHouseはゼロの日付を返すか、例外をスローするか “natural” オーバーフロー</p> </div> <h2 id=tomonday>トモンデイ<a class=headerlink href=../amp/#tomonday title="Permanent link"> </a></h2> <p>日付または日付を時刻とともに最も近い月曜日に切り捨てます。<br> 日付を返します。</p> <h2 id=tostartofweektmode>トスタートフィーク(t[,モード])<a class=headerlink href=../amp/#tostartofweektmode title="Permanent link"> </a></h2> <p>日付または時刻の日付を、最も近い日曜日または月曜日にモードで切り捨てます。<br> 日付を返します。<br> Mode引数は、toWeek()のmode引数とまったく同じように動作します。 単一引数構文では、モード値0が使用されます。</p> <h2 id=tostartofday>トスタートフデイ<a class=headerlink href=../amp/#tostartofday title="Permanent link"> </a></h2> <p>日付を時刻とともに日の始まりまで切り捨てます。</p> <h2 id=tostartofhour>トスタートフール<a class=headerlink href=../amp/#tostartofhour title="Permanent link"> </a></h2> <p>日付と時刻を時間の開始まで切り捨てます。</p> <h2 id=tostartofminute>トスタートフミニュート<a class=headerlink href=../amp/#tostartofminute title="Permanent link"> </a></h2> <p>日付と時刻を分の開始まで切り捨てます。</p> <h2 id=tostartoffiveminute>トスタートオフィブミニュート<a class=headerlink href=../amp/#tostartoffiveminute title="Permanent link"> </a></h2> <p>日付と時刻を切り捨てます。</p> <h2 id=tostartoftenminutes>toStartOfTenMinutes<a class=headerlink href=../amp/#tostartoftenminutes title="Permanent link"> </a></h2> <p>日付と時刻を切り捨てて、十分間隔の開始まで切り捨てます。</p> <h2 id=tostartoffifteenminutes>トスタートフィフテンミニュート<a class=headerlink href=../amp/#tostartoffifteenminutes title="Permanent link"> </a></h2> <p>日付を時刻とともに切り捨てて、十分間隔の開始まで切り捨てます。</p> <h2 id=tostartofintervaltime-or-data-interval-x-unit-time-zone>トスタートオフインターバル(time_or_data,区間x単位[,time_zone])<a class=headerlink href=../amp/#tostartofintervaltime-or-data-interval-x-unit-time-zone title="Permanent link"> </a></h2> <p>これは、名前付きの他の関数の一般化です <code class=syntax>toStartOf*</code>. 例えば,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 1 year)</code> と同じを返します <code class=syntax>toStartOfYear(t)</code>,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 1 month)</code> と同じを返します <code class=syntax>toStartOfMonth(t)</code>,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 1 day)</code> と同じを返します <code class=syntax>toStartOfDay(t)</code>,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 15 minute)</code> と同じを返します <code class=syntax>toStartOfFifteenMinutes(t)</code> 等。</p> <h2 id=totime>トータイム<a class=headerlink href=../amp/#totime title="Permanent link"> </a></h2> <p>時刻を保持しながら、時刻を持つ日付を特定の固定日付に変換します。</p> <h2 id=torelativeyearnum>toRelativeYearNum<a class=headerlink href=../amp/#torelativeyearnum title="Permanent link"> </a></h2> <p>時刻または日付を持つ日付を、過去の特定の固定点から始まる年の番号に変換します。</p> <h2 id=torelativequarternum>toRelativeQuarterNum<a class=headerlink href=../amp/#torelativequarternum title="Permanent link"> </a></h2> <p>時刻または日付を持つ日付を、過去の特定の固定点から始まる四半期の数値に変換します。</p> <h2 id=torelativemonthnum>トレラティブモンスヌム<a class=headerlink href=../amp/#torelativemonthnum title="Permanent link"> </a></h2> <p>時刻または日付を持つ日付を、過去の特定の固定点から始まる月の番号に変換します。</p> <h2 id=torelativeweeknum>toRelativeWeekNum<a class=headerlink href=../amp/#torelativeweeknum title="Permanent link"> </a></h2> <p>時刻または日付を持つ日付を、過去の特定の固定点から始まる週の数に変換します。</p> <h2 id=torelativedaynum>toRelativeDayNum<a class=headerlink href=../amp/#torelativedaynum title="Permanent link"> </a></h2> <p>時刻または日付を持つ日付を、過去の特定の固定点から始まる日付の数値に変換します。</p> <h2 id=torelativehournum>toRelativeHourNum<a class=headerlink href=../amp/#torelativehournum title="Permanent link"> </a></h2> <p>時刻または日付を持つ日付を、過去の特定の固定点から始まる時間の数に変換します。</p> <h2 id=torelativeminutenum>トレラティブミノテン<a class=headerlink href=../amp/#torelativeminutenum title="Permanent link"> </a></h2> <p>時刻または日付を持つ日付を、過去の特定の固定点から始まる分の数に変換します。</p> <h2 id=torelativesecondnum>toRelativeSecondNum<a class=headerlink href=../amp/#torelativesecondnum title="Permanent link"> </a></h2> <p>時刻または日付を持つ日付を、過去の特定の固定点から始まる秒数に変換します。</p> <h2 id=toisoyear>toISOYear<a class=headerlink href=../amp/#toisoyear title="Permanent link"> </a></h2> <p>Dateまたはdate with timeをISO年番号を含むUInt16番号に変換します。</p> <h2 id=toisoweek>toISOWeek<a class=headerlink href=../amp/#toisoweek title="Permanent link"> </a></h2> <p>日付または日付と時刻をISO週番号を含むUInt8番号に変換します。</p> <h2 id=toweekdatemode>トウィーク(日付[,モード])<a class=headerlink href=../amp/#toweekdatemode title="Permanent link"> </a></h2> <p>この関数は、dateまたはdatetimeの週番号を返します。 二引数形式のtoWeek()を使用すると、週が日曜日か月曜日か、戻り値が0から53または1から53の範囲であるかどうかを指定できます。 引数modeを省略すると、デフォルトのモードは0になります。<br> <code class=syntax>toISOWeek()</code>と等価な互換性関数です <code class=syntax>toWeek(date,3)</code>.<br> 次の表は、mode引数の動作方法を示しています。</p> <table> <thead> <tr> <th>モード</th> <th>週の最初の日</th> <th>範囲</th> <th>Week 1 is the first week …</th> </tr> </thead> <tbody> <tr> <td>0</td> <td>日曜日</td> <td>0-53</td> <td>今年の日曜日と</td> </tr> <tr> <td>1</td> <td>月曜日</td> <td>0-53</td> <td>今年は4日以上</td> </tr> <tr> <td>2</td> <td>日曜日</td> <td>1-53</td> <td>今年の日曜日と</td> </tr> <tr> <td>3</td> <td>月曜日</td> <td>1-53</td> <td>今年は4日以上</td> </tr> <tr> <td>4</td> <td>日曜日</td> <td>0-53</td> <td>今年は4日以上</td> </tr> <tr> <td>5</td> <td>月曜日</td> <td>0-53</td> <td>今年の月曜日と</td> </tr> <tr> <td>6</td> <td>日曜日</td> <td>1-53</td> <td>今年は4日以上</td> </tr> <tr> <td>7</td> <td>月曜日</td> <td>1-53</td> <td>今年の月曜日と</td> </tr> <tr> <td>8</td> <td>日曜日</td> <td>1-53</td> <td>1を含む</td> </tr> <tr> <td>9</td> <td>月曜日</td> <td>1-53</td> <td>1を含む</td> </tr> </tbody> </table> <p>の意味を持つモード値の場合 “with 4 or more days this year,” 週はISO8601:1988に従って番号が付けられます:</p> <ul> <li> <p>1月を含む週が新年に4日以上ある場合、それは1週である。</p> </li> <li> <p>それ以外の場合は、前年の最後の週であり、次の週は1週です。</p> </li> </ul> <p>の意味を持つモード値の場合 “contains January 1”、1月を含む週は1週である。 たとえそれが一日だけ含まれていても、その週が含まれている新年の日数は問題ではありません。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=w> </span><span class=p>[,</span><span class=w> </span><span class=k>mode</span><span class=p>][,</span><span class=w> </span><span class=n>Timezone</span><span class=p>])</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>date</code> – Date or DateTime.</li> <li><code class=syntax>mode</code> – Optional parameter, Range of values is [0,9], default is 0.</li> <li><code class=syntax>Timezone</code> – Optional parameter, it behaves like any other conversion function.</li> </ul> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2016-12-27'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>date</span><span class=p>,</span><span class=w> </span><span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>week0</span><span class=p>,</span><span class=w> </span><span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>week1</span><span class=p>,</span><span class=w> </span><span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>9</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>week9</span><span class=p>;</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌───────date─┬─week0─┬─week1─┬─week9─┐
│ 2016-12-27 │    52 │    52 │     1 │
└────────────┴───────┴───────┴───────┘
</code></pre></div> <h2 id=toyearweekdatemode>toYearWeek(日付[,モード])<a class=headerlink href=../amp/#toyearweekdatemode title="Permanent link"> </a></h2> <p>日付の年と週を返します。 結果の年は、年の最初と最後の週のdate引数の年とは異なる場合があります。</p> <p>Mode引数は、toWeek()のmode引数とまったく同じように動作します。 単一引数構文では、モード値0が使用されます。</p> <p><code class=syntax>toISOYear()</code>と等価な互換性関数です <code class=syntax>intDiv(toYearWeek(date,3),100)</code>.</p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2016-12-27'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>date</span><span class=p>,</span><span class=w> </span><span class=n>toYearWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>yearWeek0</span><span class=p>,</span><span class=w> </span><span class=n>toYearWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>yearWeek1</span><span class=p>,</span><span class=w> </span><span class=n>toYearWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>9</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>yearWeek9</span><span class=p>;</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌───────date─┬─yearWeek0─┬─yearWeek1─┬─yearWeek9─┐
│ 2016-12-27 │    201652 │    201652 │    201701 │
└────────────┴───────────┴───────────┴───────────┘
</code></pre></div> <h2 id=now>さて<a class=headerlink href=../amp/#now title="Permanent link"> </a></h2> <p>ゼロの引数を受け取り、要求の実行のいずれかの瞬間に現在の時刻を返します。<br> この関数は、要求が完了するまでに時間がかかった場合でも、定数を返します。</p> <h2 id=today>今日<a class=headerlink href=../amp/#today title="Permanent link"> </a></h2> <p>ゼロの引数を受け取り、要求の実行のいずれかの瞬間に現在の日付を返します。<br> と同じ ‘toDate(now())’.</p> <h2 id=yesterday>昨日<a class=headerlink href=../amp/#yesterday title="Permanent link"> </a></h2> <p>ゼロの引数を受け取り、要求の実行のいずれかの瞬間に昨日の日付を返します。<br> と同じ ‘today() - 1’.</p> <h2 id=timeslot>タイムスロット<a class=headerlink href=../amp/#timeslot title="Permanent link"> </a></h2> <p>時間を半分の時間に丸めます。<br> この機能はYandexに固有のものです。Metricaは、トラッキングタグが単一のユーザーの連続したページビューを表示する場合、セッションを二つのセッションに分割するための最小時間であるため、こ つまり、タプル(タグID、ユーザー ID、およびタイムスロット)を使用して、対応するセッションに含まれるページビューを検索できます。</p> <h2 id=toyyyymm>トイヤイム<a class=headerlink href=../amp/#toyyyymm title="Permanent link"> </a></h2> <p>日付または日付と時刻を、年と月の番号(YYYY*100+MM)を含むUInt32番号に変換します。</p> <h2 id=toyyyymmdd>トイヤイム<a class=headerlink href=../amp/#toyyyymmdd title="Permanent link"> </a></h2> <p>日付または日付と時刻を、年と月の番号(YYYY*10000+MM*100+DD)を含むUInt32番号に変換します。</p> <h2 id=toyyyymmddhhmmss>トイヤイム<a class=headerlink href=../amp/#toyyyymmddhhmmss title="Permanent link"> </a></h2> <p>日付または日付と時刻を、年と月の番号(YYYY*10000000000+MM*100000000+DD*1000000+hh*10000+mm*100+ss)を含むUInt64番号に変換します。</p> <h2 id=addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters>addYears,addMonths,addWeeks,addDays,addHours,addMinutes,addSeconds,addQuarters<a class=headerlink href=../amp/#addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters title="Permanent link"> </a></h2> <p>関数は、日付/日付時刻に日付/日付時刻の間隔を追加し、日付/日付時刻を返します。 例えば:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>WITH</span><span class=w></span>
<span class=w>    </span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2018-01-01'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>date</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-01-01 00:00:00'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>date_time</span><span class=w></span>
<span class=k>SELECT</span><span class=w></span>
<span class=w>    </span><span class=n>addYears</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>add_years_with_date</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=n>addYears</span><span class=p>(</span><span class=n>date_time</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>add_years_with_date_time</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─add_years_with_date─┬─add_years_with_date_time─┐
│          2019-01-01 │      2019-01-01 00:00:00 │
└─────────────────────┴──────────────────────────┘
</code></pre></div> <h2 id=subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters>subtruttyears、subtrutmonths、subtrutweeks、subtrutdays、subtrutthours、subtrutminutes、subtrutseconds、subtrutquarters<a class=headerlink href=../amp/#subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters title="Permanent link"> </a></h2> <p>関数Date/DateTime間隔をDate/DateTimeに減算し、Date/DateTimeを返します。 例えば:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>WITH</span><span class=w></span>
<span class=w>    </span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2019-01-01'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>date</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2019-01-01 00:00:00'</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>date_time</span><span class=w></span>
<span class=k>SELECT</span><span class=w></span>
<span class=w>    </span><span class=n>subtractYears</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>subtract_years_with_date</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=n>subtractYears</span><span class=p>(</span><span class=n>date_time</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>subtract_years_with_date_time</span><span class=w></span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─subtract_years_with_date─┬─subtract_years_with_date_time─┐
│               2018-01-01 │           2018-01-01 00:00:00 │
└──────────────────────────┴───────────────────────────────┘
</code></pre></div> <h2 id=datediff>dateDiff<a class=headerlink href=../amp/#datediff title="Permanent link"> </a></h2> <p>Date値またはDateTime値の差を返します。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>dateDiff</span><span class=p>(</span><span class=s1>'unit'</span><span class=p>,</span><span class=w> </span><span class=n>startdate</span><span class=p>,</span><span class=w> </span><span class=n>enddate</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=n>timezone</span><span class=p>])</span><span class=w></span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li> <p><code class=syntax>unit</code> — Time unit, in which the returned value is expressed. <a href=../../../syntax/amp/#syntax-string-literal>文字列</a>.</p> <div class=codehilite><pre><span></span><code class=syntax>Supported values:

| unit   |
| ---- |
|second  |
|minute  |
|hour    |
|day     |
|week    |
|month   |
|quarter |
|year    |
</code></pre></div> </li> <li> <p><code class=syntax>startdate</code> — The first time value to compare. <a href=../../../data-types/date/amp/ >日付</a> または <a href=../../../data-types/datetime/amp/ >DateTime</a>.</p> </li> <li> <p><code class=syntax>enddate</code> — The second time value to compare. <a href=../../../data-types/date/amp/ >日付</a> または <a href=../../../data-types/datetime/amp/ >DateTime</a>.</p> </li> <li> <p><code class=syntax>timezone</code> — Optional parameter. If specified, it is applied to both <code class=syntax>startdate</code> と <code class=syntax>enddate</code>. 指定されていない場合、 <code class=syntax>startdate</code> と <code class=syntax>enddate</code> 使用されます。 それらが同じでない場合、結果は未指定です。</p> </li> </ul> <p><strong>戻り値</strong></p> <p>の違い <code class=syntax>startdate</code> と <code class=syntax>enddate</code> で表される。 <code class=syntax>unit</code>.</p> <p>タイプ: <code class=syntax>int</code>.</p> <p><strong>例</strong></p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span><span class=w> </span><span class=n>dateDiff</span><span class=p>(</span><span class=s1>'hour'</span><span class=p>,</span><span class=w> </span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-01-01 22:00:00'</span><span class=p>),</span><span class=w> </span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-01-02 23:00:00'</span><span class=p>));</span><span class=w></span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─dateDiff('hour', toDateTime('2018-01-01 22:00:00'), toDateTime('2018-01-02 23:00:00'))─┐
│                                                                                     25 │
└────────────────────────────────────────────────────────────────────────────────────────┘
</code></pre></div> <h2 id=timeslotsstarttime-duration-size>タイムスロット(StartTime,Duration,[,Size])<a class=headerlink href=../amp/#timeslotsstarttime-duration-size title="Permanent link"> </a></h2> <p>で始まる時間間隔の場合 ‘StartTime’ そして続けるために ‘Duration’ これは、この区間の点で構成される時間内の瞬間の配列を返します。 ‘Size’ 秒で。 ‘Size’ 定数UInt32で、既定では1800に設定されます。<br> 例えば, <code class=syntax>timeSlots(toDateTime('2012-01-01 12:20:00'), 600) = [toDateTime('2012-01-01 12:00:00'), toDateTime('2012-01-01 12:30:00')]</code>.<br> これは、対応するセッションでページビューを検索するために必要です。</p> <h2 id=formatdatetime>formatDateTime(時刻,Format[,タイムゾーン])<a class=headerlink href=../amp/#formatdatetime title="Permanent link"> </a></h2> <p>Function formats a Time according given Format string. N.B.: Format is a constant expression, e.g. you can not have multiple formats for single result column.</p> <p>サポートされている形式の修飾子:<br> (“Example” 列に時間の書式設定の結果が表示されます <code class=syntax>2018-01-02 22:33:44</code>)</p> <table> <thead> <tr> <th>修飾子</th> <th>説明</th> <th>例</th> </tr> </thead> <tbody> <tr> <td>%C</td> <td>年を100で割り、整数に切り捨てます(00-99)</td> <td>20</td> </tr> <tr> <td>%d</td> <td>月の日、ゼロパッド(01-31)</td> <td>02</td> </tr> <tr> <td>%D</td> <td>%M/%d/%yに相当する短いMM/DD/YYの日付</td> <td>01/02/18</td> </tr> <tr> <td>%e</td> <td>月の日,スペース埋め(1-31)</td> <td>2</td> </tr> <tr> <td>%F</td> <td>%Y-%m-%dに相当します</td> <td>2018-01-02</td> </tr> <tr> <td>%H</td> <td>24時間形式（00-23時)</td> <td>22</td> </tr> <tr> <td>%I</td> <td>12時間形式（01-12)</td> <td>10</td> </tr> <tr> <td>%j</td> <td>年の日(001-366)</td> <td>002</td> </tr> <tr> <td>%m</td> <td>十進数としての月(01-12)</td> <td>01</td> </tr> <tr> <td>%M</td> <td>分(00-59)</td> <td>33</td> </tr> <tr> <td>%n</td> <td>改行文字(")</td> <td></td> </tr> <tr> <td>%p</td> <td>AMまたはPMの指定</td> <td>PM</td> </tr> <tr> <td>%R</td> <td>24時間HH:MM時間、%H:%Mに相当</td> <td>22:33</td> </tr> <tr> <td>%S</td> <td>第二（00-59)</td> <td>44</td> </tr> <tr> <td>%t</td> <td>横タブ文字(')</td> <td></td> </tr> <tr> <td>%T</td> <td>ISO8601時間形式(HH:MM:SS)、%H:%M:%Sに相当します</td> <td>22:33:44</td> </tr> <tr> <td>%u</td> <td>ISO8601平日as番号、月曜日as1(1-7)</td> <td>2</td> </tr> <tr> <td>%V</td> <td>ISO8601週番号(01-53)</td> <td>01</td> </tr> <tr> <td>%w</td> <td>曜日を十進数とし、日曜日を0(0-6)とします)</td> <td>2</td> </tr> <tr> <td>%y</td> <td>年,最後の二桁(00-99)</td> <td>18</td> </tr> <tr> <td>%Y</td> <td>年</td> <td>2018</td> </tr> <tr> <td>%%</td> <td>%記号</td> <td>%</td> </tr> </tbody> </table>
        </div>
      </div>
      <div class="row">
        <div class="col">
          
<div class="alert alert-light my-3">
  <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p>
  <span class="alert-heading display-6">Article Rating</span>
  <div id="rating-stars" class="display-6 mb-0"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2022 ClickHouse, Inc.</div>
    <div>Built from <a href="https://github.com/ClickHouse/ClickHouse/commit/c60fd44c5b70c56ff0f9c7fc538e58c6c8186aea" rel="external nofollow noreferrer" target="_blank" class="text-reset">c60fd44c</a>
    
    </div>
</div>

        </div>
      </div>
      <div id="to-full-website" class="row fixed-bottom text-center bg-white py-3">
        <div class="col">
          <a class="btn btn-lg btn-outline-orange" href="https://clickhouse.com/docs/ja/sql-reference/functions/date-time-functions/">To full website</a>
        </div>
      </div>
    </div>
    <amp-analytics type="metrika">
      <script type="application/json">{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script>
  </amp-analytics>
  </body>
</html>
